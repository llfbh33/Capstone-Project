function wy(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ey={exports:{}},Da={},Cy={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=Symbol.for("react.element"),rk=Symbol.for("react.portal"),ik=Symbol.for("react.fragment"),ok=Symbol.for("react.strict_mode"),sk=Symbol.for("react.profiler"),lk=Symbol.for("react.provider"),ak=Symbol.for("react.context"),uk=Symbol.for("react.forward_ref"),ck=Symbol.for("react.suspense"),dk=Symbol.for("react.memo"),fk=Symbol.for("react.lazy"),hp=Symbol.iterator;function hk(t){return t===null||typeof t!="object"?null:(t=hp&&t[hp]||t["@@iterator"],typeof t=="function"?t:null)}var by={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},My=Object.assign,Ny={};function mo(t,e,n){this.props=t,this.context=e,this.refs=Ny,this.updater=n||by}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ty(){}Ty.prototype=mo.prototype;function pf(t,e,n){this.props=t,this.context=e,this.refs=Ny,this.updater=n||by}var mf=pf.prototype=new Ty;mf.constructor=pf;My(mf,mo.prototype);mf.isPureReactComponent=!0;var pp=Array.isArray,Oy=Object.prototype.hasOwnProperty,gf={current:null},Py={key:!0,ref:!0,__self:!0,__source:!0};function Ry(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Oy.call(e,r)&&!Py.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Bs,type:t,key:o,ref:s,props:i,_owner:gf.current}}function pk(t,e){return{$$typeof:Bs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bs}function mk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mp=/\/+/g;function Uu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mk(""+t.key):e.toString(36)}function Ml(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Bs:case rk:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Uu(s,0):r,pp(i)?(n="",t!=null&&(n=t.replace(mp,"$&/")+"/"),Ml(i,e,n,"",function(u){return u})):i!=null&&(yf(i)&&(i=pk(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(mp,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",pp(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+Uu(o,l);s+=Ml(o,e,n,a,i)}else if(a=hk(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+Uu(o,l++),s+=Ml(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function el(t,e,n){if(t==null)return t;var r=[],i=0;return Ml(t,r,"","",function(o){return e.call(n,o,i++)}),r}function gk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yt={current:null},Nl={transition:null},yk={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:Nl,ReactCurrentOwner:gf};Z.Children={map:el,forEach:function(t,e,n){el(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return el(t,function(){e++}),e},toArray:function(t){return el(t,function(e){return e})||[]},only:function(t){if(!yf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=mo;Z.Fragment=ik;Z.Profiler=sk;Z.PureComponent=pf;Z.StrictMode=ok;Z.Suspense=ck;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yk;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=My({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=gf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Oy.call(e,a)&&!Py.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Bs,type:t.type,key:i,ref:o,props:r,_owner:s}};Z.createContext=function(t){return t={$$typeof:ak,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lk,_context:t},t.Consumer=t};Z.createElement=Ry;Z.createFactory=function(t){var e=Ry.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:uk,render:t}};Z.isValidElement=yf;Z.lazy=function(t){return{$$typeof:fk,_payload:{_status:-1,_result:t},_init:gk}};Z.memo=function(t,e){return{$$typeof:dk,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Nl.transition;Nl.transition={};try{t()}finally{Nl.transition=e}};Z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Z.useCallback=function(t,e){return yt.current.useCallback(t,e)};Z.useContext=function(t){return yt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return yt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return yt.current.useEffect(t,e)};Z.useId=function(){return yt.current.useId()};Z.useImperativeHandle=function(t,e,n){return yt.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return yt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return yt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return yt.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return yt.current.useReducer(t,e,n)};Z.useRef=function(t){return yt.current.useRef(t)};Z.useState=function(t){return yt.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return yt.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return yt.current.useTransition()};Z.version="18.2.0";Cy.exports=Z;var w=Cy.exports;const Ce=hf(w),vk=wy({__proto__:null,default:Ce},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xk=w,Sk=Symbol.for("react.element"),kk=Symbol.for("react.fragment"),wk=Object.prototype.hasOwnProperty,Ek=xk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ck={key:!0,ref:!0,__self:!0,__source:!0};function Dy(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)wk.call(e,r)&&!Ck.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Sk,type:t,key:o,ref:s,props:i,_owner:Ek.current}}Da.Fragment=kk;Da.jsx=Dy;Da.jsxs=Dy;Ey.exports=Da;var m=Ey.exports,Wc={},Ay={exports:{}},jt={},jy={exports:{}},Iy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,$){var W=j.length;j.push($);e:for(;0<W;){var ae=W-1>>>1,oe=j[ae];if(0<i(oe,$))j[ae]=$,j[W]=oe,W=ae;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],W=j.pop();if(W!==$){j[0]=W;e:for(var ae=0,oe=j.length,_t=oe>>>1;ae<_t;){var ut=2*(ae+1)-1,Lr=j[ut],Pn=ut+1,yi=j[Pn];if(0>i(Lr,W))Pn<oe&&0>i(yi,Lr)?(j[ae]=yi,j[Pn]=W,ae=Pn):(j[ae]=Lr,j[ut]=W,ae=ut);else if(Pn<oe&&0>i(yi,W))j[ae]=yi,j[Pn]=W,ae=Pn;else break e}}return $}function i(j,$){var W=j.sortIndex-$.sortIndex;return W!==0?W:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,d=null,f=3,p=!1,h=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(j){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=j)r(u),$.sortIndex=$.expirationTime,e(a,$);else break;$=n(u)}}function S(j){if(g=!1,k(j),!h)if(n(a)!==null)h=!0,Jn(b);else{var $=n(u);$!==null&&On(S,$.startTime-j)}}function b(j,$){h=!1,g&&(g=!1,y(R),R=-1),p=!0;var W=f;try{for(k($),d=n(a);d!==null&&(!(d.expirationTime>$)||j&&!ee());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,f=d.priorityLevel;var oe=ae(d.expirationTime<=$);$=t.unstable_now(),typeof oe=="function"?d.callback=oe:d===n(a)&&r(a),k($)}else r(a);d=n(a)}if(d!==null)var _t=!0;else{var ut=n(u);ut!==null&&On(S,ut.startTime-$),_t=!1}return _t}finally{d=null,f=W,p=!1}}var N=!1,M=null,R=-1,D=5,F=-1;function ee(){return!(t.unstable_now()-F<D)}function je(){if(M!==null){var j=t.unstable_now();F=j;var $=!0;try{$=M(!0,j)}finally{$?ze():(N=!1,M=null)}}else N=!1}var ze;if(typeof v=="function")ze=function(){v(je)};else if(typeof MessageChannel<"u"){var Tn=new MessageChannel,Se=Tn.port2;Tn.port1.onmessage=je,ze=function(){Se.postMessage(null)}}else ze=function(){x(je,0)};function Jn(j){M=j,N||(N=!0,ze())}function On(j,$){R=x(function(){j(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,Jn(b))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var W=f;f=$;try{return j()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=f;f=j;try{return $()}finally{f=W}},t.unstable_scheduleCallback=function(j,$,W){var ae=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,j){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=W+oe,j={id:c++,callback:$,priorityLevel:j,startTime:W,expirationTime:oe,sortIndex:-1},W>ae?(j.sortIndex=W,e(u,j),n(a)===null&&j===n(u)&&(g?(y(R),R=-1):g=!0,On(S,W-ae))):(j.sortIndex=oe,e(a,j),h||p||(h=!0,Jn(b))),j},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(j){var $=f;return function(){var W=f;f=$;try{return j.apply(this,arguments)}finally{f=W}}}})(Iy);jy.exports=Iy;var bk=jy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly=w,At=bk;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _y=new Set,fs={};function mi(t,e){Xi(t,e),Xi(t+"Capture",e)}function Xi(t,e){for(fs[t]=e,t=0;t<e.length;t++)_y.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kc=Object.prototype.hasOwnProperty,Mk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gp={},yp={};function Nk(t){return Kc.call(yp,t)?!0:Kc.call(gp,t)?!1:Mk.test(t)?yp[t]=!0:(gp[t]=!0,!1)}function Tk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ok(t,e,n,r){if(e===null||typeof e>"u"||Tk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var vf=/[\-:]([a-z])/g;function xf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vf,xf);Ze[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vf,xf);Ze[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vf,xf);Ze[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sf(t,e,n,r){var i=Ze.hasOwnProperty(e)?Ze[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ok(e,n,i,r)&&(n=null),r||i===null?Nk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Un=Ly.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tl=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Mi=Symbol.for("react.fragment"),kf=Symbol.for("react.strict_mode"),Jc=Symbol.for("react.profiler"),zy=Symbol.for("react.provider"),Fy=Symbol.for("react.context"),wf=Symbol.for("react.forward_ref"),qc=Symbol.for("react.suspense"),Gc=Symbol.for("react.suspense_list"),Ef=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),By=Symbol.for("react.offscreen"),vp=Symbol.iterator;function Mo(t){return t===null||typeof t!="object"?null:(t=vp&&t[vp]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,Wu;function Bo(t){if(Wu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wu=e&&e[1]||""}return`
`+Wu+t}var Ku=!1;function Ju(t,e){if(!t||Ku)return"";Ku=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{Ku=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bo(t):""}function Pk(t){switch(t.tag){case 5:return Bo(t.type);case 16:return Bo("Lazy");case 13:return Bo("Suspense");case 19:return Bo("SuspenseList");case 0:case 2:case 15:return t=Ju(t.type,!1),t;case 11:return t=Ju(t.type.render,!1),t;case 1:return t=Ju(t.type,!0),t;default:return""}}function Yc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mi:return"Fragment";case bi:return"Portal";case Jc:return"Profiler";case kf:return"StrictMode";case qc:return"Suspense";case Gc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fy:return(t.displayName||"Context")+".Consumer";case zy:return(t._context.displayName||"Context")+".Provider";case wf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ef:return e=t.displayName||null,e!==null?e:Yc(t.type)||"Memo";case Zn:e=t._payload,t=t._init;try{return Yc(t(e))}catch{}}return null}function Rk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yc(e);case 8:return e===kf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $y(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Dk(t){var e=$y(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nl(t){t._valueTracker||(t._valueTracker=Dk(t))}function Vy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$y(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $l(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qc(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hy(t,e){e=e.checked,e!=null&&Sf(t,"checked",e,!1)}function Xc(t,e){Hy(t,e);var n=wr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zc(t,e.type,wr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zc(t,e,n){(e!=="number"||$l(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $o=Array.isArray;function Bi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ed(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if($o(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wr(n)}}function Uy(t,e){var n=wr(e.value),r=wr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function td(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rl,Ky=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rl=rl||document.createElement("div"),rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ak=["Webkit","ms","Moz","O"];Object.keys(qo).forEach(function(t){Ak.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qo[e]=qo[t]})});function Jy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qo.hasOwnProperty(t)&&qo[t]?(""+e).trim():e+"px"}function qy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Jy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jk=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nd(t,e){if(e){if(jk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function rd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var id=null;function Cf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var od=null,$i=null,Vi=null;function Ep(t){if(t=Hs(t)){if(typeof od!="function")throw Error(P(280));var e=t.stateNode;e&&(e=_a(e),od(t.stateNode,t.type,e))}}function Gy(t){$i?Vi?Vi.push(t):Vi=[t]:$i=t}function Yy(){if($i){var t=$i,e=Vi;if(Vi=$i=null,Ep(t),e)for(t=0;t<e.length;t++)Ep(e[t])}}function Qy(t,e){return t(e)}function Xy(){}var qu=!1;function Zy(t,e,n){if(qu)return t(e,n);qu=!0;try{return Qy(t,e,n)}finally{qu=!1,($i!==null||Vi!==null)&&(Xy(),Yy())}}function ps(t,e){var n=t.stateNode;if(n===null)return null;var r=_a(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var sd=!1;if(Bn)try{var No={};Object.defineProperty(No,"passive",{get:function(){sd=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{sd=!1}function Ik(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Go=!1,Vl=null,Hl=!1,ld=null,Lk={onError:function(t){Go=!0,Vl=t}};function _k(t,e,n,r,i,o,s,l,a){Go=!1,Vl=null,Ik.apply(Lk,arguments)}function zk(t,e,n,r,i,o,s,l,a){if(_k.apply(this,arguments),Go){if(Go){var u=Vl;Go=!1,Vl=null}else throw Error(P(198));Hl||(Hl=!0,ld=u)}}function gi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function e0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cp(t){if(gi(t)!==t)throw Error(P(188))}function Fk(t){var e=t.alternate;if(!e){if(e=gi(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Cp(i),t;if(o===r)return Cp(i),e;o=o.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function t0(t){return t=Fk(t),t!==null?n0(t):null}function n0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=n0(t);if(e!==null)return e;t=t.sibling}return null}var r0=At.unstable_scheduleCallback,bp=At.unstable_cancelCallback,Bk=At.unstable_shouldYield,$k=At.unstable_requestPaint,Ne=At.unstable_now,Vk=At.unstable_getCurrentPriorityLevel,bf=At.unstable_ImmediatePriority,i0=At.unstable_UserBlockingPriority,Ul=At.unstable_NormalPriority,Hk=At.unstable_LowPriority,o0=At.unstable_IdlePriority,Aa=null,Cn=null;function Uk(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Aa,t,void 0,(t.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:Jk,Wk=Math.log,Kk=Math.LN2;function Jk(t){return t>>>=0,t===0?32:31-(Wk(t)/Kk|0)|0}var il=64,ol=4194304;function Vo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Vo(l):(o&=s,o!==0&&(r=Vo(o)))}else s=n&~i,s!==0?r=Vo(s):o!==0&&(r=Vo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cn(e),i=1<<n,r|=t[n],e&=~i;return r}function qk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-cn(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=qk(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function ad(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function s0(){var t=il;return il<<=1,!(il&4194240)&&(il=64),t}function Gu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $s(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cn(e),t[e]=n}function Yk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Mf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var re=0;function l0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var a0,Nf,u0,c0,d0,ud=!1,sl=[],dr=null,fr=null,hr=null,ms=new Map,gs=new Map,rr=[],Qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mp(t,e){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":ms.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(e.pointerId)}}function To(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Hs(e),e!==null&&Nf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Xk(t,e,n,r,i){switch(e){case"focusin":return dr=To(dr,t,e,n,r,i),!0;case"dragenter":return fr=To(fr,t,e,n,r,i),!0;case"mouseover":return hr=To(hr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ms.set(o,To(ms.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,gs.set(o,To(gs.get(o)||null,t,e,n,r,i)),!0}return!1}function f0(t){var e=Ur(t.target);if(e!==null){var n=gi(e);if(n!==null){if(e=n.tag,e===13){if(e=e0(n),e!==null){t.blockedOn=e,d0(t.priority,function(){u0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);id=r,n.target.dispatchEvent(r),id=null}else return e=Hs(n),e!==null&&Nf(e),t.blockedOn=n,!1;e.shift()}return!0}function Np(t,e,n){Tl(t)&&n.delete(e)}function Zk(){ud=!1,dr!==null&&Tl(dr)&&(dr=null),fr!==null&&Tl(fr)&&(fr=null),hr!==null&&Tl(hr)&&(hr=null),ms.forEach(Np),gs.forEach(Np)}function Oo(t,e){t.blockedOn===e&&(t.blockedOn=null,ud||(ud=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,Zk)))}function ys(t){function e(i){return Oo(i,t)}if(0<sl.length){Oo(sl[0],t);for(var n=1;n<sl.length;n++){var r=sl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(dr!==null&&Oo(dr,t),fr!==null&&Oo(fr,t),hr!==null&&Oo(hr,t),ms.forEach(e),gs.forEach(e),n=0;n<rr.length;n++)r=rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)f0(n),n.blockedOn===null&&rr.shift()}var Hi=Un.ReactCurrentBatchConfig,Kl=!0;function ew(t,e,n,r){var i=re,o=Hi.transition;Hi.transition=null;try{re=1,Tf(t,e,n,r)}finally{re=i,Hi.transition=o}}function tw(t,e,n,r){var i=re,o=Hi.transition;Hi.transition=null;try{re=4,Tf(t,e,n,r)}finally{re=i,Hi.transition=o}}function Tf(t,e,n,r){if(Kl){var i=cd(t,e,n,r);if(i===null)oc(t,e,r,Jl,n),Mp(t,r);else if(Xk(i,t,e,n,r))r.stopPropagation();else if(Mp(t,r),e&4&&-1<Qk.indexOf(t)){for(;i!==null;){var o=Hs(i);if(o!==null&&a0(o),o=cd(t,e,n,r),o===null&&oc(t,e,r,Jl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else oc(t,e,r,null,n)}}var Jl=null;function cd(t,e,n,r){if(Jl=null,t=Cf(r),t=Ur(t),t!==null)if(e=gi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=e0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jl=t,null}function h0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vk()){case bf:return 1;case i0:return 4;case Ul:case Hk:return 16;case o0:return 536870912;default:return 16}default:return 16}}var sr=null,Of=null,Ol=null;function p0(){if(Ol)return Ol;var t,e=Of,n=e.length,r,i="value"in sr?sr.value:sr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ol=i.slice(t,1<r?1-r:void 0)}function Pl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ll(){return!0}function Tp(){return!1}function It(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ll:Tp,this.isPropagationStopped=Tp,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),e}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pf=It(go),Vs=xe({},go,{view:0,detail:0}),nw=It(Vs),Yu,Qu,Po,ja=xe({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Po&&(Po&&t.type==="mousemove"?(Yu=t.screenX-Po.screenX,Qu=t.screenY-Po.screenY):Qu=Yu=0,Po=t),Yu)},movementY:function(t){return"movementY"in t?t.movementY:Qu}}),Op=It(ja),rw=xe({},ja,{dataTransfer:0}),iw=It(rw),ow=xe({},Vs,{relatedTarget:0}),Xu=It(ow),sw=xe({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),lw=It(sw),aw=xe({},go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uw=It(aw),cw=xe({},go,{data:0}),Pp=It(cw),dw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hw[t])?!!e[t]:!1}function Rf(){return pw}var mw=xe({},Vs,{key:function(t){if(t.key){var e=dw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rf,charCode:function(t){return t.type==="keypress"?Pl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gw=It(mw),yw=xe({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rp=It(yw),vw=xe({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rf}),xw=It(vw),Sw=xe({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),kw=It(Sw),ww=xe({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ew=It(ww),Cw=[9,13,27,32],Df=Bn&&"CompositionEvent"in window,Yo=null;Bn&&"documentMode"in document&&(Yo=document.documentMode);var bw=Bn&&"TextEvent"in window&&!Yo,m0=Bn&&(!Df||Yo&&8<Yo&&11>=Yo),Dp=String.fromCharCode(32),Ap=!1;function g0(t,e){switch(t){case"keyup":return Cw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ni=!1;function Mw(t,e){switch(t){case"compositionend":return y0(e);case"keypress":return e.which!==32?null:(Ap=!0,Dp);case"textInput":return t=e.data,t===Dp&&Ap?null:t;default:return null}}function Nw(t,e){if(Ni)return t==="compositionend"||!Df&&g0(t,e)?(t=p0(),Ol=Of=sr=null,Ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m0&&e.locale!=="ko"?null:e.data;default:return null}}var Tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tw[t.type]:e==="textarea"}function v0(t,e,n,r){Gy(r),e=ql(e,"onChange"),0<e.length&&(n=new Pf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qo=null,vs=null;function Ow(t){O0(t,0)}function Ia(t){var e=Pi(t);if(Vy(e))return t}function Pw(t,e){if(t==="change")return e}var x0=!1;if(Bn){var Zu;if(Bn){var ec="oninput"in document;if(!ec){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),ec=typeof Ip.oninput=="function"}Zu=ec}else Zu=!1;x0=Zu&&(!document.documentMode||9<document.documentMode)}function Lp(){Qo&&(Qo.detachEvent("onpropertychange",S0),vs=Qo=null)}function S0(t){if(t.propertyName==="value"&&Ia(vs)){var e=[];v0(e,vs,t,Cf(t)),Zy(Ow,e)}}function Rw(t,e,n){t==="focusin"?(Lp(),Qo=e,vs=n,Qo.attachEvent("onpropertychange",S0)):t==="focusout"&&Lp()}function Dw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ia(vs)}function Aw(t,e){if(t==="click")return Ia(e)}function jw(t,e){if(t==="input"||t==="change")return Ia(e)}function Iw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:Iw;function xs(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Kc.call(e,i)||!hn(t[i],e[i]))return!1}return!0}function _p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zp(t,e){var n=_p(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_p(n)}}function k0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?k0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function w0(){for(var t=window,e=$l();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$l(t.document)}return e}function Af(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Lw(t){var e=w0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&k0(n.ownerDocument.documentElement,n)){if(r!==null&&Af(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=zp(n,o);var s=zp(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _w=Bn&&"documentMode"in document&&11>=document.documentMode,Ti=null,dd=null,Xo=null,fd=!1;function Fp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fd||Ti==null||Ti!==$l(r)||(r=Ti,"selectionStart"in r&&Af(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xo&&xs(Xo,r)||(Xo=r,r=ql(dd,"onSelect"),0<r.length&&(e=new Pf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ti)))}function al(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oi={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionend:al("Transition","TransitionEnd")},tc={},E0={};Bn&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function La(t){if(tc[t])return tc[t];if(!Oi[t])return t;var e=Oi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in E0)return tc[t]=e[n];return t}var C0=La("animationend"),b0=La("animationiteration"),M0=La("animationstart"),N0=La("transitionend"),T0=new Map,Bp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,e){T0.set(t,e),mi(e,[t])}for(var nc=0;nc<Bp.length;nc++){var rc=Bp[nc],zw=rc.toLowerCase(),Fw=rc[0].toUpperCase()+rc.slice(1);Mr(zw,"on"+Fw)}Mr(C0,"onAnimationEnd");Mr(b0,"onAnimationIteration");Mr(M0,"onAnimationStart");Mr("dblclick","onDoubleClick");Mr("focusin","onFocus");Mr("focusout","onBlur");Mr(N0,"onTransitionEnd");Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function $p(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zk(r,e,void 0,t),t.currentTarget=null}function O0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;$p(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;$p(i,l,u),o=a}}}if(Hl)throw t=ld,Hl=!1,ld=null,t}function he(t,e){var n=e[yd];n===void 0&&(n=e[yd]=new Set);var r=t+"__bubble";n.has(r)||(P0(e,t,2,!1),n.add(r))}function ic(t,e,n){var r=0;e&&(r|=4),P0(n,t,r,e)}var ul="_reactListening"+Math.random().toString(36).slice(2);function Ss(t){if(!t[ul]){t[ul]=!0,_y.forEach(function(n){n!=="selectionchange"&&(Bw.has(n)||ic(n,!1,t),ic(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ul]||(e[ul]=!0,ic("selectionchange",!1,e))}}function P0(t,e,n,r){switch(h0(e)){case 1:var i=ew;break;case 4:i=tw;break;default:i=Tf}n=i.bind(null,e,n,t),i=void 0,!sd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function oc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Ur(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Zy(function(){var u=o,c=Cf(n),d=[];e:{var f=T0.get(t);if(f!==void 0){var p=Pf,h=t;switch(t){case"keypress":if(Pl(n)===0)break e;case"keydown":case"keyup":p=gw;break;case"focusin":h="focus",p=Xu;break;case"focusout":h="blur",p=Xu;break;case"beforeblur":case"afterblur":p=Xu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=iw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=xw;break;case C0:case b0:case M0:p=lw;break;case N0:p=kw;break;case"scroll":p=nw;break;case"wheel":p=Ew;break;case"copy":case"cut":case"paste":p=uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Rp}var g=(e&4)!==0,x=!g&&t==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,k;v!==null;){k=v;var S=k.stateNode;if(k.tag===5&&S!==null&&(k=S,y!==null&&(S=ps(v,y),S!=null&&g.push(ks(v,S,k)))),x)break;v=v.return}0<g.length&&(f=new p(f,h,null,n,c),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==id&&(h=n.relatedTarget||n.fromElement)&&(Ur(h)||h[$n]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=u,h=h?Ur(h):null,h!==null&&(x=gi(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(g=Op,S="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=Rp,S="onPointerLeave",y="onPointerEnter",v="pointer"),x=p==null?f:Pi(p),k=h==null?f:Pi(h),f=new g(S,v+"leave",p,n,c),f.target=x,f.relatedTarget=k,S=null,Ur(c)===u&&(g=new g(y,v+"enter",h,n,c),g.target=k,g.relatedTarget=x,S=g),x=S,p&&h)t:{for(g=p,y=h,v=0,k=g;k;k=Si(k))v++;for(k=0,S=y;S;S=Si(S))k++;for(;0<v-k;)g=Si(g),v--;for(;0<k-v;)y=Si(y),k--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Si(g),y=Si(y)}g=null}else g=null;p!==null&&Vp(d,f,p,g,!1),h!==null&&x!==null&&Vp(d,x,h,g,!0)}}e:{if(f=u?Pi(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var b=Pw;else if(jp(f))if(x0)b=jw;else{b=Dw;var N=Rw}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Aw);if(b&&(b=b(t,u))){v0(d,b,n,c);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Zc(f,"number",f.value)}switch(N=u?Pi(u):window,t){case"focusin":(jp(N)||N.contentEditable==="true")&&(Ti=N,dd=u,Xo=null);break;case"focusout":Xo=dd=Ti=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,Fp(d,n,c);break;case"selectionchange":if(_w)break;case"keydown":case"keyup":Fp(d,n,c)}var M;if(Df)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ni?g0(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(m0&&n.locale!=="ko"&&(Ni||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ni&&(M=p0()):(sr=c,Of="value"in sr?sr.value:sr.textContent,Ni=!0)),N=ql(u,R),0<N.length&&(R=new Pp(R,t,null,n,c),d.push({event:R,listeners:N}),M?R.data=M:(M=y0(n),M!==null&&(R.data=M)))),(M=bw?Mw(t,n):Nw(t,n))&&(u=ql(u,"onBeforeInput"),0<u.length&&(c=new Pp("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=M))}O0(d,e)})}function ks(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ql(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ps(t,n),o!=null&&r.unshift(ks(t,o,i)),o=ps(t,e),o!=null&&r.push(ks(t,o,i))),t=t.return}return r}function Si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vp(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=ps(n,o),a!=null&&s.unshift(ks(n,a,l))):i||(a=ps(n,o),a!=null&&s.push(ks(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var $w=/\r\n?/g,Vw=/\u0000|\uFFFD/g;function Hp(t){return(typeof t=="string"?t:""+t).replace($w,`
`).replace(Vw,"")}function cl(t,e,n){if(e=Hp(e),Hp(t)!==e&&n)throw Error(P(425))}function Gl(){}var hd=null,pd=null;function md(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gd=typeof setTimeout=="function"?setTimeout:void 0,Hw=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,Uw=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(t){return Up.resolve(null).then(t).catch(Ww)}:gd;function Ww(t){setTimeout(function(){throw t})}function sc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ys(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ys(e)}function pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yo=Math.random().toString(36).slice(2),Sn="__reactFiber$"+yo,ws="__reactProps$"+yo,$n="__reactContainer$"+yo,yd="__reactEvents$"+yo,Kw="__reactListeners$"+yo,Jw="__reactHandles$"+yo;function Ur(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wp(t);t!==null;){if(n=t[Sn])return n;t=Wp(t)}return e}t=n,n=t.parentNode}return null}function Hs(t){return t=t[Sn]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function _a(t){return t[ws]||null}var vd=[],Ri=-1;function Nr(t){return{current:t}}function pe(t){0>Ri||(t.current=vd[Ri],vd[Ri]=null,Ri--)}function fe(t,e){Ri++,vd[Ri]=t.current,t.current=e}var Er={},st=Nr(Er),wt=Nr(!1),oi=Er;function Zi(t,e){var n=t.type.contextTypes;if(!n)return Er;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Et(t){return t=t.childContextTypes,t!=null}function Yl(){pe(wt),pe(st)}function Kp(t,e,n){if(st.current!==Er)throw Error(P(168));fe(st,e),fe(wt,n)}function R0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,Rk(t)||"Unknown",i));return xe({},n,r)}function Ql(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Er,oi=st.current,fe(st,t),fe(wt,wt.current),!0}function Jp(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=R0(t,e,oi),r.__reactInternalMemoizedMergedChildContext=t,pe(wt),pe(st),fe(st,t)):pe(wt),fe(wt,n)}var jn=null,za=!1,lc=!1;function D0(t){jn===null?jn=[t]:jn.push(t)}function qw(t){za=!0,D0(t)}function Tr(){if(!lc&&jn!==null){lc=!0;var t=0,e=re;try{var n=jn;for(re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jn=null,za=!1}catch(i){throw jn!==null&&(jn=jn.slice(t+1)),r0(bf,Tr),i}finally{re=e,lc=!1}}return null}var Di=[],Ai=0,Xl=null,Zl=0,$t=[],Vt=0,si=null,In=1,Ln="";function Fr(t,e){Di[Ai++]=Zl,Di[Ai++]=Xl,Xl=t,Zl=e}function A0(t,e,n){$t[Vt++]=In,$t[Vt++]=Ln,$t[Vt++]=si,si=t;var r=In;t=Ln;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var o=32-cn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,In=1<<32-cn(e)+i|n<<i|r,Ln=o+t}else In=1<<o|n<<i|r,Ln=t}function jf(t){t.return!==null&&(Fr(t,1),A0(t,1,0))}function If(t){for(;t===Xl;)Xl=Di[--Ai],Di[Ai]=null,Zl=Di[--Ai],Di[Ai]=null;for(;t===si;)si=$t[--Vt],$t[Vt]=null,Ln=$t[--Vt],$t[Vt]=null,In=$t[--Vt],$t[Vt]=null}var Dt=null,Rt=null,me=!1,ln=null;function j0(t,e){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dt=t,Rt=pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dt=t,Rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=si!==null?{id:In,overflow:Ln}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dt=t,Rt=null,!0):!1;default:return!1}}function xd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sd(t){if(me){var e=Rt;if(e){var n=e;if(!qp(t,e)){if(xd(t))throw Error(P(418));e=pr(n.nextSibling);var r=Dt;e&&qp(t,e)?j0(r,n):(t.flags=t.flags&-4097|2,me=!1,Dt=t)}}else{if(xd(t))throw Error(P(418));t.flags=t.flags&-4097|2,me=!1,Dt=t}}}function Gp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function dl(t){if(t!==Dt)return!1;if(!me)return Gp(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!md(t.type,t.memoizedProps)),e&&(e=Rt)){if(xd(t))throw I0(),Error(P(418));for(;e;)j0(t,e),e=pr(e.nextSibling)}if(Gp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rt=pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rt=null}}else Rt=Dt?pr(t.stateNode.nextSibling):null;return!0}function I0(){for(var t=Rt;t;)t=pr(t.nextSibling)}function eo(){Rt=Dt=null,me=!1}function Lf(t){ln===null?ln=[t]:ln.push(t)}var Gw=Un.ReactCurrentBatchConfig;function rn(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ea=Nr(null),ta=null,ji=null,_f=null;function zf(){_f=ji=ta=null}function Ff(t){var e=ea.current;pe(ea),t._currentValue=e}function kd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ui(t,e){ta=t,_f=ji=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kt=!0),t.firstContext=null)}function qt(t){var e=t._currentValue;if(_f!==t)if(t={context:t,memoizedValue:e,next:null},ji===null){if(ta===null)throw Error(P(308));ji=t,ta.dependencies={lanes:0,firstContext:t}}else ji=ji.next=t;return e}var Wr=null;function Bf(t){Wr===null?Wr=[t]:Wr.push(t)}function L0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Bf(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vn(t,r)}function Vn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var er=!1;function $f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vn(t,n)}return i=r.interleaved,i===null?(e.next=e,Bf(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vn(t,n)}function Rl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mf(t,n)}}function Yp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function na(t,e,n,r){var i=t.updateQueue;er=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;s=0,c=u=a=null,l=o;do{var f=l.lane,p=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=t,g=l;switch(f=e,p=n,g.tag){case 1:if(h=g.payload,typeof h=="function"){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,f=typeof h=="function"?h.call(p,d,f):h,f==null)break e;d=xe({},d,f);break e;case 2:er=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=d):c=c.next=p,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ai|=s,t.lanes=s,t.memoizedState=d}}function Qp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var z0=new Ly.Component().refs;function wd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fa={isMounted:function(t){return(t=t._reactInternals)?gi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ht(),i=yr(t),o=_n(r,i);o.payload=e,n!=null&&(o.callback=n),e=mr(t,o,i),e!==null&&(dn(e,t,i,r),Rl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ht(),i=yr(t),o=_n(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=mr(t,o,i),e!==null&&(dn(e,t,i,r),Rl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ht(),r=yr(t),i=_n(n,r);i.tag=2,e!=null&&(i.callback=e),e=mr(t,i,r),e!==null&&(dn(e,t,r,n),Rl(e,t,r))}};function Xp(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!xs(n,r)||!xs(i,o):!0}function F0(t,e,n){var r=!1,i=Er,o=e.contextType;return typeof o=="object"&&o!==null?o=qt(o):(i=Et(e)?oi:st.current,r=e.contextTypes,o=(r=r!=null)?Zi(t,i):Er),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Zp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fa.enqueueReplaceState(e,e.state,null)}function Ed(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=z0,$f(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=qt(o):(o=Et(e)?oi:st.current,i.context=Zi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(wd(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fa.enqueueReplaceState(i,i.state,null),na(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ro(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;l===z0&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function fl(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function em(t){var e=t._init;return e(t._payload)}function B0(t){function e(y,v){if(t){var k=y.deletions;k===null?(y.deletions=[v],y.flags|=16):k.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=vr(y,v),y.index=0,y.sibling=null,y}function o(y,v,k){return y.index=k,t?(k=y.alternate,k!==null?(k=k.index,k<v?(y.flags|=2,v):k):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,k,S){return v===null||v.tag!==6?(v=pc(k,y.mode,S),v.return=y,v):(v=i(v,k),v.return=y,v)}function a(y,v,k,S){var b=k.type;return b===Mi?c(y,v,k.props.children,S,k.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Zn&&em(b)===v.type)?(S=i(v,k.props),S.ref=Ro(y,v,k),S.return=y,S):(S=_l(k.type,k.key,k.props,null,y.mode,S),S.ref=Ro(y,v,k),S.return=y,S)}function u(y,v,k,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==k.containerInfo||v.stateNode.implementation!==k.implementation?(v=mc(k,y.mode,S),v.return=y,v):(v=i(v,k.children||[]),v.return=y,v)}function c(y,v,k,S,b){return v===null||v.tag!==7?(v=Xr(k,y.mode,S,b),v.return=y,v):(v=i(v,k),v.return=y,v)}function d(y,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return v=pc(""+v,y.mode,k),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case tl:return k=_l(v.type,v.key,v.props,null,y.mode,k),k.ref=Ro(y,null,v),k.return=y,k;case bi:return v=mc(v,y.mode,k),v.return=y,v;case Zn:var S=v._init;return d(y,S(v._payload),k)}if($o(v)||Mo(v))return v=Xr(v,y.mode,k,null),v.return=y,v;fl(y,v)}return null}function f(y,v,k,S){var b=v!==null?v.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return b!==null?null:l(y,v,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case tl:return k.key===b?a(y,v,k,S):null;case bi:return k.key===b?u(y,v,k,S):null;case Zn:return b=k._init,f(y,v,b(k._payload),S)}if($o(k)||Mo(k))return b!==null?null:c(y,v,k,S,null);fl(y,k)}return null}function p(y,v,k,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(k)||null,l(v,y,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case tl:return y=y.get(S.key===null?k:S.key)||null,a(v,y,S,b);case bi:return y=y.get(S.key===null?k:S.key)||null,u(v,y,S,b);case Zn:var N=S._init;return p(y,v,k,N(S._payload),b)}if($o(S)||Mo(S))return y=y.get(k)||null,c(v,y,S,b,null);fl(v,S)}return null}function h(y,v,k,S){for(var b=null,N=null,M=v,R=v=0,D=null;M!==null&&R<k.length;R++){M.index>R?(D=M,M=null):D=M.sibling;var F=f(y,M,k[R],S);if(F===null){M===null&&(M=D);break}t&&M&&F.alternate===null&&e(y,M),v=o(F,v,R),N===null?b=F:N.sibling=F,N=F,M=D}if(R===k.length)return n(y,M),me&&Fr(y,R),b;if(M===null){for(;R<k.length;R++)M=d(y,k[R],S),M!==null&&(v=o(M,v,R),N===null?b=M:N.sibling=M,N=M);return me&&Fr(y,R),b}for(M=r(y,M);R<k.length;R++)D=p(M,y,R,k[R],S),D!==null&&(t&&D.alternate!==null&&M.delete(D.key===null?R:D.key),v=o(D,v,R),N===null?b=D:N.sibling=D,N=D);return t&&M.forEach(function(ee){return e(y,ee)}),me&&Fr(y,R),b}function g(y,v,k,S){var b=Mo(k);if(typeof b!="function")throw Error(P(150));if(k=b.call(k),k==null)throw Error(P(151));for(var N=b=null,M=v,R=v=0,D=null,F=k.next();M!==null&&!F.done;R++,F=k.next()){M.index>R?(D=M,M=null):D=M.sibling;var ee=f(y,M,F.value,S);if(ee===null){M===null&&(M=D);break}t&&M&&ee.alternate===null&&e(y,M),v=o(ee,v,R),N===null?b=ee:N.sibling=ee,N=ee,M=D}if(F.done)return n(y,M),me&&Fr(y,R),b;if(M===null){for(;!F.done;R++,F=k.next())F=d(y,F.value,S),F!==null&&(v=o(F,v,R),N===null?b=F:N.sibling=F,N=F);return me&&Fr(y,R),b}for(M=r(y,M);!F.done;R++,F=k.next())F=p(M,y,R,F.value,S),F!==null&&(t&&F.alternate!==null&&M.delete(F.key===null?R:F.key),v=o(F,v,R),N===null?b=F:N.sibling=F,N=F);return t&&M.forEach(function(je){return e(y,je)}),me&&Fr(y,R),b}function x(y,v,k,S){if(typeof k=="object"&&k!==null&&k.type===Mi&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case tl:e:{for(var b=k.key,N=v;N!==null;){if(N.key===b){if(b=k.type,b===Mi){if(N.tag===7){n(y,N.sibling),v=i(N,k.props.children),v.return=y,y=v;break e}}else if(N.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Zn&&em(b)===N.type){n(y,N.sibling),v=i(N,k.props),v.ref=Ro(y,N,k),v.return=y,y=v;break e}n(y,N);break}else e(y,N);N=N.sibling}k.type===Mi?(v=Xr(k.props.children,y.mode,S,k.key),v.return=y,y=v):(S=_l(k.type,k.key,k.props,null,y.mode,S),S.ref=Ro(y,v,k),S.return=y,y=S)}return s(y);case bi:e:{for(N=k.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===k.containerInfo&&v.stateNode.implementation===k.implementation){n(y,v.sibling),v=i(v,k.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=mc(k,y.mode,S),v.return=y,y=v}return s(y);case Zn:return N=k._init,x(y,v,N(k._payload),S)}if($o(k))return h(y,v,k,S);if(Mo(k))return g(y,v,k,S);fl(y,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,k),v.return=y,y=v):(n(y,v),v=pc(k,y.mode,S),v.return=y,y=v),s(y)):n(y,v)}return x}var to=B0(!0),$0=B0(!1),Us={},bn=Nr(Us),Es=Nr(Us),Cs=Nr(Us);function Kr(t){if(t===Us)throw Error(P(174));return t}function Vf(t,e){switch(fe(Cs,e),fe(Es,t),fe(bn,Us),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:td(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=td(e,t)}pe(bn),fe(bn,e)}function no(){pe(bn),pe(Es),pe(Cs)}function V0(t){Kr(Cs.current);var e=Kr(bn.current),n=td(e,t.type);e!==n&&(fe(Es,t),fe(bn,n))}function Hf(t){Es.current===t&&(pe(bn),pe(Es))}var ye=Nr(0);function ra(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ac=[];function Uf(){for(var t=0;t<ac.length;t++)ac[t]._workInProgressVersionPrimary=null;ac.length=0}var Dl=Un.ReactCurrentDispatcher,uc=Un.ReactCurrentBatchConfig,li=0,ve=null,Ie=null,Fe=null,ia=!1,Zo=!1,bs=0,Yw=0;function tt(){throw Error(P(321))}function Wf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hn(t[n],e[n]))return!1;return!0}function Kf(t,e,n,r,i,o){if(li=o,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dl.current=t===null||t.memoizedState===null?eE:tE,t=n(r,i),Zo){o=0;do{if(Zo=!1,bs=0,25<=o)throw Error(P(301));o+=1,Fe=Ie=null,e.updateQueue=null,Dl.current=nE,t=n(r,i)}while(Zo)}if(Dl.current=oa,e=Ie!==null&&Ie.next!==null,li=0,Fe=Ie=ve=null,ia=!1,e)throw Error(P(300));return t}function Jf(){var t=bs!==0;return bs=0,t}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ve.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function Gt(){if(Ie===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=Fe===null?ve.memoizedState:Fe.next;if(e!==null)Fe=e,Ie=t;else{if(t===null)throw Error(P(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Fe===null?ve.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function Ms(t,e){return typeof e=="function"?e(t):e}function cc(t){var e=Gt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=Ie,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((li&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,ve.lanes|=c,ai|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,hn(r,e.memoizedState)||(kt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ve.lanes|=o,ai|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dc(t){var e=Gt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);hn(o,e.memoizedState)||(kt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function H0(){}function U0(t,e){var n=ve,r=Gt(),i=e(),o=!hn(r.memoizedState,i);if(o&&(r.memoizedState=i,kt=!0),r=r.queue,qf(J0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,Ns(9,K0.bind(null,n,r,i,e),void 0,null),$e===null)throw Error(P(349));li&30||W0(n,e,i)}return i}function W0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function K0(t,e,n,r){e.value=n,e.getSnapshot=r,q0(e)&&G0(t)}function J0(t,e,n){return n(function(){q0(e)&&G0(t)})}function q0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hn(t,n)}catch{return!0}}function G0(t){var e=Vn(t,1);e!==null&&dn(e,t,1,-1)}function tm(t){var e=vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:t},e.queue=t,t=t.dispatch=Zw.bind(null,ve,t),[e.memoizedState,t]}function Ns(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Y0(){return Gt().memoizedState}function Al(t,e,n,r){var i=vn();ve.flags|=t,i.memoizedState=Ns(1|e,n,void 0,r===void 0?null:r)}function Ba(t,e,n,r){var i=Gt();r=r===void 0?null:r;var o=void 0;if(Ie!==null){var s=Ie.memoizedState;if(o=s.destroy,r!==null&&Wf(r,s.deps)){i.memoizedState=Ns(e,n,o,r);return}}ve.flags|=t,i.memoizedState=Ns(1|e,n,o,r)}function nm(t,e){return Al(8390656,8,t,e)}function qf(t,e){return Ba(2048,8,t,e)}function Q0(t,e){return Ba(4,2,t,e)}function X0(t,e){return Ba(4,4,t,e)}function Z0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function e1(t,e,n){return n=n!=null?n.concat([t]):null,Ba(4,4,Z0.bind(null,e,t),n)}function Gf(){}function t1(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function n1(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function r1(t,e,n){return li&21?(hn(n,e)||(n=s0(),ve.lanes|=n,ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kt=!0),t.memoizedState=n)}function Qw(t,e){var n=re;re=n!==0&&4>n?n:4,t(!0);var r=uc.transition;uc.transition={};try{t(!1),e()}finally{re=n,uc.transition=r}}function i1(){return Gt().memoizedState}function Xw(t,e,n){var r=yr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},o1(t))s1(e,n);else if(n=L0(t,e,n,r),n!==null){var i=ht();dn(n,t,r,i),l1(n,e,r)}}function Zw(t,e,n){var r=yr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(o1(t))s1(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,hn(l,s)){var a=e.interleaved;a===null?(i.next=i,Bf(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=L0(t,e,i,r),n!==null&&(i=ht(),dn(n,t,r,i),l1(n,e,r))}}function o1(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function s1(t,e){Zo=ia=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function l1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mf(t,n)}}var oa={readContext:qt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},eE={readContext:qt,useCallback:function(t,e){return vn().memoizedState=[t,e===void 0?null:e],t},useContext:qt,useEffect:nm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Al(4194308,4,Z0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Al(4194308,4,t,e)},useInsertionEffect:function(t,e){return Al(4,2,t,e)},useMemo:function(t,e){var n=vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Xw.bind(null,ve,t),[r.memoizedState,t]},useRef:function(t){var e=vn();return t={current:t},e.memoizedState=t},useState:tm,useDebugValue:Gf,useDeferredValue:function(t){return vn().memoizedState=t},useTransition:function(){var t=tm(!1),e=t[0];return t=Qw.bind(null,t[1]),vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ve,i=vn();if(me){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),$e===null)throw Error(P(349));li&30||W0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,nm(J0.bind(null,r,o,t),[t]),r.flags|=2048,Ns(9,K0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=vn(),e=$e.identifierPrefix;if(me){var n=Ln,r=In;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Yw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tE={readContext:qt,useCallback:t1,useContext:qt,useEffect:qf,useImperativeHandle:e1,useInsertionEffect:Q0,useLayoutEffect:X0,useMemo:n1,useReducer:cc,useRef:Y0,useState:function(){return cc(Ms)},useDebugValue:Gf,useDeferredValue:function(t){var e=Gt();return r1(e,Ie.memoizedState,t)},useTransition:function(){var t=cc(Ms)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:H0,useSyncExternalStore:U0,useId:i1,unstable_isNewReconciler:!1},nE={readContext:qt,useCallback:t1,useContext:qt,useEffect:qf,useImperativeHandle:e1,useInsertionEffect:Q0,useLayoutEffect:X0,useMemo:n1,useReducer:dc,useRef:Y0,useState:function(){return dc(Ms)},useDebugValue:Gf,useDeferredValue:function(t){var e=Gt();return Ie===null?e.memoizedState=t:r1(e,Ie.memoizedState,t)},useTransition:function(){var t=dc(Ms)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:H0,useSyncExternalStore:U0,useId:i1,unstable_isNewReconciler:!1};function ro(t,e){try{var n="",r=e;do n+=Pk(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function fc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rE=typeof WeakMap=="function"?WeakMap:Map;function a1(t,e,n){n=_n(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){la||(la=!0,jd=r),Cd(t,e)},n}function u1(t,e,n){n=_n(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Cd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Cd(t,e),typeof r!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function rm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yE.bind(null,t,e,n),e.then(t,t))}function im(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function om(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_n(-1,1),e.tag=2,mr(n,e,1))),n.lanes|=1),t)}var iE=Un.ReactCurrentOwner,kt=!1;function dt(t,e,n,r){e.child=t===null?$0(e,null,n,r):to(e,t.child,n,r)}function sm(t,e,n,r,i){n=n.render;var o=e.ref;return Ui(e,i),r=Kf(t,e,n,r,o,i),n=Jf(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hn(t,e,i)):(me&&n&&jf(e),e.flags|=1,dt(t,e,r,i),e.child)}function lm(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!rh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,c1(t,e,o,r,i)):(t=_l(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:xs,n(s,r)&&t.ref===e.ref)return Hn(t,e,i)}return e.flags|=1,t=vr(o,r),t.ref=e.ref,t.return=e,e.child=t}function c1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(xs(o,r)&&t.ref===e.ref)if(kt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(kt=!0);else return e.lanes=t.lanes,Hn(t,e,i)}return bd(t,e,n,r,i)}function d1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Li,Ot),Ot|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Li,Ot),Ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,fe(Li,Ot),Ot|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,fe(Li,Ot),Ot|=r;return dt(t,e,i,n),e.child}function f1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bd(t,e,n,r,i){var o=Et(n)?oi:st.current;return o=Zi(e,o),Ui(e,i),n=Kf(t,e,n,r,o,i),r=Jf(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hn(t,e,i)):(me&&r&&jf(e),e.flags|=1,dt(t,e,n,i),e.child)}function am(t,e,n,r,i){if(Et(n)){var o=!0;Ql(e)}else o=!1;if(Ui(e,i),e.stateNode===null)jl(t,e),F0(e,n,r),Ed(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=qt(u):(u=Et(n)?oi:st.current,u=Zi(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Zp(e,s,r,u),er=!1;var f=e.memoizedState;s.state=f,na(e,r,s,i),a=e.memoizedState,l!==r||f!==a||wt.current||er?(typeof c=="function"&&(wd(e,n,c,r),a=e.memoizedState),(l=er||Xp(e,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,_0(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:rn(e.type,l),s.props=u,d=e.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=qt(a):(a=Et(n)?oi:st.current,a=Zi(e,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Zp(e,s,r,a),er=!1,f=e.memoizedState,s.state=f,na(e,r,s,i);var h=e.memoizedState;l!==d||f!==h||wt.current||er?(typeof p=="function"&&(wd(e,n,p,r),h=e.memoizedState),(u=er||Xp(e,n,u,r,f,h,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,h,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,h,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),s.props=r,s.state=h,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Md(t,e,n,r,o,i)}function Md(t,e,n,r,i,o){f1(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Jp(e,n,!1),Hn(t,e,o);r=e.stateNode,iE.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=to(e,t.child,null,o),e.child=to(e,null,l,o)):dt(t,e,l,o),e.memoizedState=r.state,i&&Jp(e,n,!0),e.child}function h1(t){var e=t.stateNode;e.pendingContext?Kp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kp(t,e.context,!1),Vf(t,e.containerInfo)}function um(t,e,n,r,i){return eo(),Lf(i),e.flags|=256,dt(t,e,n,r),e.child}var Nd={dehydrated:null,treeContext:null,retryLane:0};function Td(t){return{baseLanes:t,cachePool:null,transitions:null}}function p1(t,e,n){var r=e.pendingProps,i=ye.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),fe(ye,i&1),t===null)return Sd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ha(s,r,0,null),t=Xr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Td(n),e.memoizedState=Nd,t):Yf(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return oE(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=vr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=vr(l,o):(o=Xr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Td(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Nd,r}return o=t.child,t=o.sibling,r=vr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yf(t,e){return e=Ha({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hl(t,e,n,r){return r!==null&&Lf(r),to(e,t.child,null,n),t=Yf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oE(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=fc(Error(P(422))),hl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ha({mode:"visible",children:r.children},i,0,null),o=Xr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&to(e,t.child,null,s),e.child.memoizedState=Td(s),e.memoizedState=Nd,o);if(!(e.mode&1))return hl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(P(419)),r=fc(o,r,void 0),hl(t,e,s,r)}if(l=(s&t.childLanes)!==0,kt||l){if(r=$e,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Vn(t,i),dn(r,t,i,-1))}return nh(),r=fc(Error(P(421))),hl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vE.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Rt=pr(i.nextSibling),Dt=e,me=!0,ln=null,t!==null&&($t[Vt++]=In,$t[Vt++]=Ln,$t[Vt++]=si,In=t.id,Ln=t.overflow,si=e),e=Yf(e,r.children),e.flags|=4096,e)}function cm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),kd(t.return,e,n)}function hc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function m1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(dt(t,e,r.children,n),r=ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cm(t,n,e);else if(t.tag===19)cm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ra(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ra(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hc(e,!0,n,null,o);break;case"together":hc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=vr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sE(t,e,n){switch(e.tag){case 3:h1(e),eo();break;case 5:V0(e);break;case 1:Et(e.type)&&Ql(e);break;case 4:Vf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;fe(ea,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(ye,ye.current&1),e.flags|=128,null):n&e.child.childLanes?p1(t,e,n):(fe(ye,ye.current&1),t=Hn(t,e,n),t!==null?t.sibling:null);fe(ye,ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return m1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(ye,ye.current),r)break;return null;case 22:case 23:return e.lanes=0,d1(t,e,n)}return Hn(t,e,n)}var g1,Od,y1,v1;g1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Od=function(){};y1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Kr(bn.current);var o=null;switch(n){case"input":i=Qc(t,i),r=Qc(t,r),o=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),o=[];break;case"textarea":i=ed(t,i),r=ed(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gl)}nd(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&he("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};v1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Do(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lE(t,e,n){var r=e.pendingProps;switch(If(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return Et(e.type)&&Yl(),nt(e),null;case 3:return r=e.stateNode,no(),pe(wt),pe(st),Uf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ln!==null&&(_d(ln),ln=null))),Od(t,e),nt(e),null;case 5:Hf(e);var i=Kr(Cs.current);if(n=e.type,t!==null&&e.stateNode!=null)y1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return nt(e),null}if(t=Kr(bn.current),dl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Sn]=e,r[ws]=o,t=(e.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(i=0;i<Ho.length;i++)he(Ho[i],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":xp(r,o),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},he("invalid",r);break;case"textarea":kp(r,o),he("invalid",r)}nd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&cl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&cl(r.textContent,l,t),i=["children",""+l]):fs.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&he("scroll",r)}switch(n){case"input":nl(r),Sp(r,o,!0);break;case"textarea":nl(r),wp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Gl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Sn]=e,t[ws]=r,g1(t,e,!1,!1),e.stateNode=t;e:{switch(s=rd(n,r),n){case"dialog":he("cancel",t),he("close",t),i=r;break;case"iframe":case"object":case"embed":he("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ho.length;i++)he(Ho[i],t);i=r;break;case"source":he("error",t),i=r;break;case"img":case"image":case"link":he("error",t),he("load",t),i=r;break;case"details":he("toggle",t),i=r;break;case"input":xp(t,r),i=Qc(t,r),he("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),he("invalid",t);break;case"textarea":kp(t,r),i=ed(t,r),he("invalid",t);break;default:i=r}nd(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?qy(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ky(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&hs(t,a):typeof a=="number"&&hs(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fs.hasOwnProperty(o)?a!=null&&o==="onScroll"&&he("scroll",t):a!=null&&Sf(t,o,a,s))}switch(n){case"input":nl(t),Sp(t,r,!1);break;case"textarea":nl(t),wp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Bi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Bi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nt(e),null;case 6:if(t&&e.stateNode!=null)v1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Kr(Cs.current),Kr(bn.current),dl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,(o=r.nodeValue!==n)&&(t=Dt,t!==null))switch(t.tag){case 3:cl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r}return nt(e),null;case 13:if(pe(ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&Rt!==null&&e.mode&1&&!(e.flags&128))I0(),eo(),e.flags|=98560,o=!1;else if(o=dl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(P(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(P(317));o[Sn]=e}else eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nt(e),o=!1}else ln!==null&&(_d(ln),ln=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?_e===0&&(_e=3):nh())),e.updateQueue!==null&&(e.flags|=4),nt(e),null);case 4:return no(),Od(t,e),t===null&&Ss(e.stateNode.containerInfo),nt(e),null;case 10:return Ff(e.type._context),nt(e),null;case 17:return Et(e.type)&&Yl(),nt(e),null;case 19:if(pe(ye),o=e.memoizedState,o===null)return nt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Do(o,!1);else{if(_e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ra(t),s!==null){for(e.flags|=128,Do(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(ye,ye.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ne()>io&&(e.flags|=128,r=!0,Do(o,!1),e.lanes=4194304)}else{if(!r)if(t=ra(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Do(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!me)return nt(e),null}else 2*Ne()-o.renderingStartTime>io&&n!==1073741824&&(e.flags|=128,r=!0,Do(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ne(),e.sibling=null,n=ye.current,fe(ye,r?n&1|2:n&1),e):(nt(e),null);case 22:case 23:return th(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ot&1073741824&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function aE(t,e){switch(If(e),e.tag){case 1:return Et(e.type)&&Yl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return no(),pe(wt),pe(st),Uf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hf(e),null;case 13:if(pe(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(ye),null;case 4:return no(),null;case 10:return Ff(e.type._context),null;case 22:case 23:return th(),null;case 24:return null;default:return null}}var pl=!1,ot=!1,uE=typeof WeakSet=="function"?WeakSet:Set,L=null;function Ii(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function Pd(t,e,n){try{n()}catch(r){ke(t,e,r)}}var dm=!1;function cE(t,e){if(hd=Kl,t=w0(),Af(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(l=s),f===o&&++c===r&&(a=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(pd={focusedElem:t,selectionRange:n},Kl=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var g=h.memoizedProps,x=h.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:rn(e.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){ke(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return h=dm,dm=!1,h}function es(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Pd(e,n,o)}i=i.next}while(i!==r)}}function $a(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Rd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function x1(t){var e=t.alternate;e!==null&&(t.alternate=null,x1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[ws],delete e[yd],delete e[Kw],delete e[Jw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function S1(t){return t.tag===5||t.tag===3||t.tag===4}function fm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gl));else if(r!==4&&(t=t.child,t!==null))for(Dd(t,e,n),t=t.sibling;t!==null;)Dd(t,e,n),t=t.sibling}function Ad(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ad(t,e,n),t=t.sibling;t!==null;)Ad(t,e,n),t=t.sibling}var qe=null,on=!1;function Yn(t,e,n){for(n=n.child;n!==null;)k1(t,e,n),n=n.sibling}function k1(t,e,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Aa,n)}catch{}switch(n.tag){case 5:ot||Ii(n,e);case 6:var r=qe,i=on;qe=null,Yn(t,e,n),qe=r,on=i,qe!==null&&(on?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(on?(t=qe,n=n.stateNode,t.nodeType===8?sc(t.parentNode,n):t.nodeType===1&&sc(t,n),ys(t)):sc(qe,n.stateNode));break;case 4:r=qe,i=on,qe=n.stateNode.containerInfo,on=!0,Yn(t,e,n),qe=r,on=i;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Pd(n,e,s),i=i.next}while(i!==r)}Yn(t,e,n);break;case 1:if(!ot&&(Ii(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ke(n,e,l)}Yn(t,e,n);break;case 21:Yn(t,e,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,Yn(t,e,n),ot=r):Yn(t,e,n);break;default:Yn(t,e,n)}}function hm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uE),e.forEach(function(r){var i=xE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:qe=l.stateNode,on=!1;break e;case 3:qe=l.stateNode.containerInfo,on=!0;break e;case 4:qe=l.stateNode.containerInfo,on=!0;break e}l=l.return}if(qe===null)throw Error(P(160));k1(o,s,i),qe=null,on=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)w1(e,t),e=e.sibling}function w1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nn(e,t),yn(t),r&4){try{es(3,t,t.return),$a(3,t)}catch(g){ke(t,t.return,g)}try{es(5,t,t.return)}catch(g){ke(t,t.return,g)}}break;case 1:nn(e,t),yn(t),r&512&&n!==null&&Ii(n,n.return);break;case 5:if(nn(e,t),yn(t),r&512&&n!==null&&Ii(n,n.return),t.flags&32){var i=t.stateNode;try{hs(i,"")}catch(g){ke(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Hy(i,o),rd(l,s);var u=rd(l,o);for(s=0;s<a.length;s+=2){var c=a[s],d=a[s+1];c==="style"?qy(i,d):c==="dangerouslySetInnerHTML"?Ky(i,d):c==="children"?hs(i,d):Sf(i,c,d,u)}switch(l){case"input":Xc(i,o);break;case"textarea":Uy(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Bi(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Bi(i,!!o.multiple,o.defaultValue,!0):Bi(i,!!o.multiple,o.multiple?[]:"",!1))}i[ws]=o}catch(g){ke(t,t.return,g)}}break;case 6:if(nn(e,t),yn(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){ke(t,t.return,g)}}break;case 3:if(nn(e,t),yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ys(e.containerInfo)}catch(g){ke(t,t.return,g)}break;case 4:nn(e,t),yn(t);break;case 13:nn(e,t),yn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Zf=Ne())),r&4&&hm(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ot=(u=ot)||c,nn(e,t),ot=u):nn(e,t),yn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(L=t,c=t.child;c!==null;){for(d=L=c;L!==null;){switch(f=L,p=f.child,f.tag){case 0:case 11:case 14:case 15:es(4,f,f.return);break;case 1:Ii(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(g){ke(r,n,g)}}break;case 5:Ii(f,f.return);break;case 22:if(f.memoizedState!==null){mm(d);continue}}p!==null?(p.return=f,L=p):mm(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Jy("display",s))}catch(g){ke(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){ke(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nn(e,t),yn(t),r&4&&hm(t);break;case 21:break;default:nn(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(S1(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hs(i,""),r.flags&=-33);var o=fm(t);Ad(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=fm(t);Dd(t,l,s);break;default:throw Error(P(161))}}catch(a){ke(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dE(t,e,n){L=t,E1(t)}function E1(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||pl;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ot;l=pl;var u=ot;if(pl=s,(ot=a)&&!u)for(L=i;L!==null;)s=L,a=s.child,s.tag===22&&s.memoizedState!==null?gm(i):a!==null?(a.return=s,L=a):gm(i);for(;o!==null;)L=o,E1(o),o=o.sibling;L=i,pl=l,ot=u}pm(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,L=o):pm(t)}}function pm(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ot||$a(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Qp(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qp(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ys(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}ot||e.flags&512&&Rd(e)}catch(f){ke(e,e.return,f)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function mm(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function gm(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$a(4,e)}catch(a){ke(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ke(e,i,a)}}var o=e.return;try{Rd(e)}catch(a){ke(e,o,a)}break;case 5:var s=e.return;try{Rd(e)}catch(a){ke(e,s,a)}}}catch(a){ke(e,e.return,a)}if(e===t){L=null;break}var l=e.sibling;if(l!==null){l.return=e.return,L=l;break}L=e.return}}var fE=Math.ceil,sa=Un.ReactCurrentDispatcher,Qf=Un.ReactCurrentOwner,Kt=Un.ReactCurrentBatchConfig,ne=0,$e=null,Pe=null,Xe=0,Ot=0,Li=Nr(0),_e=0,Ts=null,ai=0,Va=0,Xf=0,ts=null,St=null,Zf=0,io=1/0,Dn=null,la=!1,jd=null,gr=null,ml=!1,lr=null,aa=0,ns=0,Id=null,Il=-1,Ll=0;function ht(){return ne&6?Ne():Il!==-1?Il:Il=Ne()}function yr(t){return t.mode&1?ne&2&&Xe!==0?Xe&-Xe:Gw.transition!==null?(Ll===0&&(Ll=s0()),Ll):(t=re,t!==0||(t=window.event,t=t===void 0?16:h0(t.type)),t):1}function dn(t,e,n,r){if(50<ns)throw ns=0,Id=null,Error(P(185));$s(t,n,r),(!(ne&2)||t!==$e)&&(t===$e&&(!(ne&2)&&(Va|=n),_e===4&&ir(t,Xe)),Ct(t,r),n===1&&ne===0&&!(e.mode&1)&&(io=Ne()+500,za&&Tr()))}function Ct(t,e){var n=t.callbackNode;Gk(t,e);var r=Wl(t,t===$e?Xe:0);if(r===0)n!==null&&bp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bp(n),e===1)t.tag===0?qw(ym.bind(null,t)):D0(ym.bind(null,t)),Uw(function(){!(ne&6)&&Tr()}),n=null;else{switch(l0(r)){case 1:n=bf;break;case 4:n=i0;break;case 16:n=Ul;break;case 536870912:n=o0;break;default:n=Ul}n=R1(n,C1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function C1(t,e){if(Il=-1,Ll=0,ne&6)throw Error(P(327));var n=t.callbackNode;if(Wi()&&t.callbackNode!==n)return null;var r=Wl(t,t===$e?Xe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ua(t,r);else{e=r;var i=ne;ne|=2;var o=M1();($e!==t||Xe!==e)&&(Dn=null,io=Ne()+500,Qr(t,e));do try{mE();break}catch(l){b1(t,l)}while(1);zf(),sa.current=o,ne=i,Pe!==null?e=0:($e=null,Xe=0,e=_e)}if(e!==0){if(e===2&&(i=ad(t),i!==0&&(r=i,e=Ld(t,i))),e===1)throw n=Ts,Qr(t,0),ir(t,r),Ct(t,Ne()),n;if(e===6)ir(t,r);else{if(i=t.current.alternate,!(r&30)&&!hE(i)&&(e=ua(t,r),e===2&&(o=ad(t),o!==0&&(r=o,e=Ld(t,o))),e===1))throw n=Ts,Qr(t,0),ir(t,r),Ct(t,Ne()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Br(t,St,Dn);break;case 3:if(ir(t,r),(r&130023424)===r&&(e=Zf+500-Ne(),10<e)){if(Wl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ht(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gd(Br.bind(null,t,St,Dn),e);break}Br(t,St,Dn);break;case 4:if(ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-cn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fE(r/1960))-r,10<r){t.timeoutHandle=gd(Br.bind(null,t,St,Dn),r);break}Br(t,St,Dn);break;case 5:Br(t,St,Dn);break;default:throw Error(P(329))}}}return Ct(t,Ne()),t.callbackNode===n?C1.bind(null,t):null}function Ld(t,e){var n=ts;return t.current.memoizedState.isDehydrated&&(Qr(t,e).flags|=256),t=ua(t,e),t!==2&&(e=St,St=n,e!==null&&_d(e)),t}function _d(t){St===null?St=t:St.push.apply(St,t)}function hE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ir(t,e){for(e&=~Xf,e&=~Va,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cn(e),r=1<<n;t[n]=-1,e&=~r}}function ym(t){if(ne&6)throw Error(P(327));Wi();var e=Wl(t,0);if(!(e&1))return Ct(t,Ne()),null;var n=ua(t,e);if(t.tag!==0&&n===2){var r=ad(t);r!==0&&(e=r,n=Ld(t,r))}if(n===1)throw n=Ts,Qr(t,0),ir(t,e),Ct(t,Ne()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Br(t,St,Dn),Ct(t,Ne()),null}function eh(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(io=Ne()+500,za&&Tr())}}function ui(t){lr!==null&&lr.tag===0&&!(ne&6)&&Wi();var e=ne;ne|=1;var n=Kt.transition,r=re;try{if(Kt.transition=null,re=1,t)return t()}finally{re=r,Kt.transition=n,ne=e,!(ne&6)&&Tr()}}function th(){Ot=Li.current,pe(Li)}function Qr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Hw(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(If(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yl();break;case 3:no(),pe(wt),pe(st),Uf();break;case 5:Hf(r);break;case 4:no();break;case 13:pe(ye);break;case 19:pe(ye);break;case 10:Ff(r.type._context);break;case 22:case 23:th()}n=n.return}if($e=t,Pe=t=vr(t.current,null),Xe=Ot=e,_e=0,Ts=null,Xf=Va=ai=0,St=ts=null,Wr!==null){for(e=0;e<Wr.length;e++)if(n=Wr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Wr=null}return t}function b1(t,e){do{var n=Pe;try{if(zf(),Dl.current=oa,ia){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ia=!1}if(li=0,Fe=Ie=ve=null,Zo=!1,bs=0,Qf.current=null,n===null||n.return===null){_e=1,Ts=e,Pe=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=Xe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=im(s);if(p!==null){p.flags&=-257,om(p,s,l,o,e),p.mode&1&&rm(o,u,e),e=p,a=u;var h=e.updateQueue;if(h===null){var g=new Set;g.add(a),e.updateQueue=g}else h.add(a);break e}else{if(!(e&1)){rm(o,u,e),nh();break e}a=Error(P(426))}}else if(me&&l.mode&1){var x=im(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),om(x,s,l,o,e),Lf(ro(a,l));break e}}o=a=ro(a,l),_e!==4&&(_e=2),ts===null?ts=[o]:ts.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=a1(o,a,e);Yp(o,y);break e;case 1:l=a;var v=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(gr===null||!gr.has(k)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=u1(o,l,e);Yp(o,S);break e}}o=o.return}while(o!==null)}T1(n)}catch(b){e=b,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(1)}function M1(){var t=sa.current;return sa.current=oa,t===null?oa:t}function nh(){(_e===0||_e===3||_e===2)&&(_e=4),$e===null||!(ai&268435455)&&!(Va&268435455)||ir($e,Xe)}function ua(t,e){var n=ne;ne|=2;var r=M1();($e!==t||Xe!==e)&&(Dn=null,Qr(t,e));do try{pE();break}catch(i){b1(t,i)}while(1);if(zf(),ne=n,sa.current=r,Pe!==null)throw Error(P(261));return $e=null,Xe=0,_e}function pE(){for(;Pe!==null;)N1(Pe)}function mE(){for(;Pe!==null&&!Bk();)N1(Pe)}function N1(t){var e=P1(t.alternate,t,Ot);t.memoizedProps=t.pendingProps,e===null?T1(t):Pe=e,Qf.current=null}function T1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aE(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_e=6,Pe=null;return}}else if(n=lE(n,e,Ot),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);_e===0&&(_e=5)}function Br(t,e,n){var r=re,i=Kt.transition;try{Kt.transition=null,re=1,gE(t,e,n,r)}finally{Kt.transition=i,re=r}return null}function gE(t,e,n,r){do Wi();while(lr!==null);if(ne&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Yk(t,o),t===$e&&(Pe=$e=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ml||(ml=!0,R1(Ul,function(){return Wi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Kt.transition,Kt.transition=null;var s=re;re=1;var l=ne;ne|=4,Qf.current=null,cE(t,n),w1(n,t),Lw(pd),Kl=!!hd,pd=hd=null,t.current=n,dE(n),$k(),ne=l,re=s,Kt.transition=o}else t.current=n;if(ml&&(ml=!1,lr=t,aa=i),o=t.pendingLanes,o===0&&(gr=null),Uk(n.stateNode),Ct(t,Ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(la)throw la=!1,t=jd,jd=null,t;return aa&1&&t.tag!==0&&Wi(),o=t.pendingLanes,o&1?t===Id?ns++:(ns=0,Id=t):ns=0,Tr(),null}function Wi(){if(lr!==null){var t=l0(aa),e=Kt.transition,n=re;try{if(Kt.transition=null,re=16>t?16:t,lr===null)var r=!1;else{if(t=lr,lr=null,aa=0,ne&6)throw Error(P(331));var i=ne;for(ne|=4,L=t.current;L!==null;){var o=L,s=o.child;if(L.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:es(8,c,o)}var d=c.child;if(d!==null)d.return=c,L=d;else for(;L!==null;){c=L;var f=c.sibling,p=c.return;if(x1(c),c===u){L=null;break}if(f!==null){f.return=p,L=f;break}L=p}}}var h=o.alternate;if(h!==null){var g=h.child;if(g!==null){h.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}L=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,L=s;else e:for(;L!==null;){if(o=L,o.flags&2048)switch(o.tag){case 0:case 11:case 15:es(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,L=y;break e}L=o.return}}var v=t.current;for(L=v;L!==null;){s=L;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,L=k;else e:for(s=v;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$a(9,l)}}catch(b){ke(l,l.return,b)}if(l===s){L=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,L=S;break e}L=l.return}}if(ne=i,Tr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Aa,t)}catch{}r=!0}return r}finally{re=n,Kt.transition=e}}return!1}function vm(t,e,n){e=ro(n,e),e=a1(t,e,1),t=mr(t,e,1),e=ht(),t!==null&&($s(t,1,e),Ct(t,e))}function ke(t,e,n){if(t.tag===3)vm(t,t,n);else for(;e!==null;){if(e.tag===3){vm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gr===null||!gr.has(r))){t=ro(n,t),t=u1(e,t,1),e=mr(e,t,1),t=ht(),e!==null&&($s(e,1,t),Ct(e,t));break}}e=e.return}}function yE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ht(),t.pingedLanes|=t.suspendedLanes&n,$e===t&&(Xe&n)===n&&(_e===4||_e===3&&(Xe&130023424)===Xe&&500>Ne()-Zf?Qr(t,0):Xf|=n),Ct(t,e)}function O1(t,e){e===0&&(t.mode&1?(e=ol,ol<<=1,!(ol&130023424)&&(ol=4194304)):e=1);var n=ht();t=Vn(t,e),t!==null&&($s(t,e,n),Ct(t,n))}function vE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),O1(t,n)}function xE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),O1(t,n)}var P1;P1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wt.current)kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kt=!1,sE(t,e,n);kt=!!(t.flags&131072)}else kt=!1,me&&e.flags&1048576&&A0(e,Zl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jl(t,e),t=e.pendingProps;var i=Zi(e,st.current);Ui(e,n),i=Kf(null,e,r,t,i,n);var o=Jf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Et(r)?(o=!0,Ql(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$f(e),i.updater=Fa,e.stateNode=i,i._reactInternals=e,Ed(e,r,t,n),e=Md(null,e,r,!0,o,n)):(e.tag=0,me&&o&&jf(e),dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kE(r),t=rn(r,t),i){case 0:e=bd(null,e,r,t,n);break e;case 1:e=am(null,e,r,t,n);break e;case 11:e=sm(null,e,r,t,n);break e;case 14:e=lm(null,e,r,rn(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),bd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),am(t,e,r,i,n);case 3:e:{if(h1(e),t===null)throw Error(P(387));r=e.pendingProps,o=e.memoizedState,i=o.element,_0(t,e),na(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ro(Error(P(423)),e),e=um(t,e,r,n,i);break e}else if(r!==i){i=ro(Error(P(424)),e),e=um(t,e,r,n,i);break e}else for(Rt=pr(e.stateNode.containerInfo.firstChild),Dt=e,me=!0,ln=null,n=$0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eo(),r===i){e=Hn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return V0(e),t===null&&Sd(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,md(r,i)?s=null:o!==null&&md(r,o)&&(e.flags|=32),f1(t,e),dt(t,e,s,n),e.child;case 6:return t===null&&Sd(e),null;case 13:return p1(t,e,n);case 4:return Vf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=to(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),sm(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,fe(ea,r._currentValue),r._currentValue=s,o!==null)if(hn(o.value,s)){if(o.children===i.children&&!wt.current){e=Hn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=_n(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),kd(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(P(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),kd(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ui(e,n),i=qt(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,i=rn(r,e.pendingProps),i=rn(r.type,i),lm(t,e,r,i,n);case 15:return c1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),jl(t,e),e.tag=1,Et(r)?(t=!0,Ql(e)):t=!1,Ui(e,n),F0(e,r,i),Ed(e,r,i,n),Md(null,e,r,!0,t,n);case 19:return m1(t,e,n);case 22:return d1(t,e,n)}throw Error(P(156,e.tag))};function R1(t,e){return r0(t,e)}function SE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,e,n,r){return new SE(t,e,n,r)}function rh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kE(t){if(typeof t=="function")return rh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wf)return 11;if(t===Ef)return 14}return 2}function vr(t,e){var n=t.alternate;return n===null?(n=Ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _l(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")rh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Mi:return Xr(n.children,i,o,e);case kf:s=8,i|=8;break;case Jc:return t=Ht(12,n,e,i|2),t.elementType=Jc,t.lanes=o,t;case qc:return t=Ht(13,n,e,i),t.elementType=qc,t.lanes=o,t;case Gc:return t=Ht(19,n,e,i),t.elementType=Gc,t.lanes=o,t;case By:return Ha(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zy:s=10;break e;case Fy:s=9;break e;case wf:s=11;break e;case Ef:s=14;break e;case Zn:s=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Ht(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Xr(t,e,n,r){return t=Ht(7,t,r,e),t.lanes=n,t}function Ha(t,e,n,r){return t=Ht(22,t,r,e),t.elementType=By,t.lanes=n,t.stateNode={isHidden:!1},t}function pc(t,e,n){return t=Ht(6,t,null,e),t.lanes=n,t}function mc(t,e,n){return e=Ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gu(0),this.expirationTimes=Gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ih(t,e,n,r,i,o,s,l,a){return t=new wE(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ht(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$f(o),t}function EE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function D1(t){if(!t)return Er;t=t._reactInternals;e:{if(gi(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Et(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Et(n))return R0(t,n,e)}return e}function A1(t,e,n,r,i,o,s,l,a){return t=ih(n,r,!0,t,i,o,s,l,a),t.context=D1(null),n=t.current,r=ht(),i=yr(n),o=_n(r,i),o.callback=e??null,mr(n,o,i),t.current.lanes=i,$s(t,i,r),Ct(t,r),t}function Ua(t,e,n,r){var i=e.current,o=ht(),s=yr(i);return n=D1(n),e.context===null?e.context=n:e.pendingContext=n,e=_n(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mr(i,e,s),t!==null&&(dn(t,i,s,o),Rl(t,i,s)),s}function ca(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function oh(t,e){xm(t,e),(t=t.alternate)&&xm(t,e)}function CE(){return null}var j1=typeof reportError=="function"?reportError:function(t){console.error(t)};function sh(t){this._internalRoot=t}Wa.prototype.render=sh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Ua(t,e,null,null)};Wa.prototype.unmount=sh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ui(function(){Ua(null,t,null,null)}),e[$n]=null}};function Wa(t){this._internalRoot=t}Wa.prototype.unstable_scheduleHydration=function(t){if(t){var e=c0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rr.length&&e!==0&&e<rr[n].priority;n++);rr.splice(n,0,t),n===0&&f0(t)}};function lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ka(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sm(){}function bE(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=ca(s);o.call(u)}}var s=A1(e,r,t,0,null,!1,!1,"",Sm);return t._reactRootContainer=s,t[$n]=s.current,Ss(t.nodeType===8?t.parentNode:t),ui(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=ca(a);l.call(u)}}var a=ih(t,0,!1,null,null,!1,!1,"",Sm);return t._reactRootContainer=a,t[$n]=a.current,Ss(t.nodeType===8?t.parentNode:t),ui(function(){Ua(e,a,n,r)}),a}function Ja(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=ca(s);l.call(a)}}Ua(e,s,t,i)}else s=bE(n,e,t,i,r);return ca(s)}a0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vo(e.pendingLanes);n!==0&&(Mf(e,n|1),Ct(e,Ne()),!(ne&6)&&(io=Ne()+500,Tr()))}break;case 13:ui(function(){var r=Vn(t,1);if(r!==null){var i=ht();dn(r,t,1,i)}}),oh(t,1)}};Nf=function(t){if(t.tag===13){var e=Vn(t,134217728);if(e!==null){var n=ht();dn(e,t,134217728,n)}oh(t,134217728)}};u0=function(t){if(t.tag===13){var e=yr(t),n=Vn(t,e);if(n!==null){var r=ht();dn(n,t,e,r)}oh(t,e)}};c0=function(){return re};d0=function(t,e){var n=re;try{return re=t,e()}finally{re=n}};od=function(t,e,n){switch(e){case"input":if(Xc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_a(r);if(!i)throw Error(P(90));Vy(r),Xc(r,i)}}}break;case"textarea":Uy(t,n);break;case"select":e=n.value,e!=null&&Bi(t,!!n.multiple,e,!1)}};Qy=eh;Xy=ui;var ME={usingClientEntryPoint:!1,Events:[Hs,Pi,_a,Gy,Yy,eh]},Ao={findFiberByHostInstance:Ur,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NE={bundleType:Ao.bundleType,version:Ao.version,rendererPackageName:Ao.rendererPackageName,rendererConfig:Ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Un.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=t0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ao.findFiberByHostInstance||CE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{Aa=gl.inject(NE),Cn=gl}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ME;jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lh(e))throw Error(P(200));return EE(t,e,null,n)};jt.createRoot=function(t,e){if(!lh(t))throw Error(P(299));var n=!1,r="",i=j1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ih(t,1,!1,null,null,n,!1,r,i),t[$n]=e.current,Ss(t.nodeType===8?t.parentNode:t),new sh(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=t0(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return ui(t)};jt.hydrate=function(t,e,n){if(!Ka(e))throw Error(P(200));return Ja(null,t,e,!0,n)};jt.hydrateRoot=function(t,e,n){if(!lh(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=j1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=A1(e,null,t,1,n??null,i,!1,o,s),t[$n]=e.current,Ss(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wa(e)};jt.render=function(t,e,n){if(!Ka(e))throw Error(P(200));return Ja(null,t,e,!1,n)};jt.unmountComponentAtNode=function(t){if(!Ka(t))throw Error(P(40));return t._reactRootContainer?(ui(function(){Ja(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1};jt.unstable_batchedUpdates=eh;jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ka(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Ja(t,e,n,!1,r)};jt.version="18.2.0-next-9e3b772b8-20220608";function I1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I1)}catch(t){console.error(t)}}I1(),Ay.exports=jt;var Ws=Ay.exports;const ah=hf(Ws),TE=wy({__proto__:null,default:ah},[Ws]);var km=Ws;Wc.createRoot=km.createRoot,Wc.hydrateRoot=km.hydrateRoot;var L1={exports:{}},_1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo=w;function OE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var PE=typeof Object.is=="function"?Object.is:OE,RE=oo.useState,DE=oo.useEffect,AE=oo.useLayoutEffect,jE=oo.useDebugValue;function IE(t,e){var n=e(),r=RE({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return AE(function(){i.value=n,i.getSnapshot=e,gc(i)&&o({inst:i})},[t,n,e]),DE(function(){return gc(i)&&o({inst:i}),t(function(){gc(i)&&o({inst:i})})},[t]),jE(n),n}function gc(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!PE(t,n)}catch{return!0}}function LE(t,e){return e()}var _E=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?LE:IE;_1.useSyncExternalStore=oo.useSyncExternalStore!==void 0?oo.useSyncExternalStore:_E;L1.exports=_1;var zE=L1.exports,z1={exports:{}},F1={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=w,FE=zE;function BE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $E=typeof Object.is=="function"?Object.is:BE,VE=FE.useSyncExternalStore,HE=qa.useRef,UE=qa.useEffect,WE=qa.useMemo,KE=qa.useDebugValue;F1.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=HE(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=WE(function(){function a(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var h=s.value;if(i(h,p))return d=h}return d=p}if(h=d,$E(c,p))return h;var g=r(p);return i!==void 0&&i(h,g)?h:(c=p,d=g)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return a(e())},f===null?void 0:function(){return a(f())}]},[e,n,r,i]);var l=VE(t,o[0],o[1]);return UE(function(){s.hasValue=!0,s.value=l},[l]),KE(l),l};z1.exports=F1;var JE=z1.exports;function qE(t){t()}let B1=qE;const GE=t=>B1=t,YE=()=>B1,wm=Symbol.for("react-redux-context"),Em=typeof globalThis<"u"?globalThis:{};function QE(){var t;if(!w.createContext)return{};const e=(t=Em[wm])!=null?t:Em[wm]=new Map;let n=e.get(w.createContext);return n||(n=w.createContext(null),e.set(w.createContext,n)),n}const Cr=QE();function uh(t=Cr){return function(){return w.useContext(t)}}const $1=uh(),XE=()=>{throw new Error("uSES not initialized!")};let V1=XE;const ZE=t=>{V1=t},eC=(t,e)=>t===e;function tC(t=Cr){const e=t===Cr?$1:uh(t);return function(r,i={}){const{equalityFn:o=eC,stabilityCheck:s=void 0,noopCheck:l=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:c,stabilityCheck:d,noopCheck:f}=e();w.useRef(!0);const p=w.useCallback({[r.name](g){return r(g)}}[r.name],[r,d,s]),h=V1(u.addNestedSub,a.getState,c||a.getState,p,o);return w.useDebugValue(h),h}}const ue=tC();var H1={exports:{}},ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=typeof Symbol=="function"&&Symbol.for,ch=We?Symbol.for("react.element"):60103,dh=We?Symbol.for("react.portal"):60106,Ga=We?Symbol.for("react.fragment"):60107,Ya=We?Symbol.for("react.strict_mode"):60108,Qa=We?Symbol.for("react.profiler"):60114,Xa=We?Symbol.for("react.provider"):60109,Za=We?Symbol.for("react.context"):60110,fh=We?Symbol.for("react.async_mode"):60111,eu=We?Symbol.for("react.concurrent_mode"):60111,tu=We?Symbol.for("react.forward_ref"):60112,nu=We?Symbol.for("react.suspense"):60113,nC=We?Symbol.for("react.suspense_list"):60120,ru=We?Symbol.for("react.memo"):60115,iu=We?Symbol.for("react.lazy"):60116,rC=We?Symbol.for("react.block"):60121,iC=We?Symbol.for("react.fundamental"):60117,oC=We?Symbol.for("react.responder"):60118,sC=We?Symbol.for("react.scope"):60119;function Lt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ch:switch(t=t.type,t){case fh:case eu:case Ga:case Qa:case Ya:case nu:return t;default:switch(t=t&&t.$$typeof,t){case Za:case tu:case iu:case ru:case Xa:return t;default:return e}}case dh:return e}}}function U1(t){return Lt(t)===eu}ie.AsyncMode=fh;ie.ConcurrentMode=eu;ie.ContextConsumer=Za;ie.ContextProvider=Xa;ie.Element=ch;ie.ForwardRef=tu;ie.Fragment=Ga;ie.Lazy=iu;ie.Memo=ru;ie.Portal=dh;ie.Profiler=Qa;ie.StrictMode=Ya;ie.Suspense=nu;ie.isAsyncMode=function(t){return U1(t)||Lt(t)===fh};ie.isConcurrentMode=U1;ie.isContextConsumer=function(t){return Lt(t)===Za};ie.isContextProvider=function(t){return Lt(t)===Xa};ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ch};ie.isForwardRef=function(t){return Lt(t)===tu};ie.isFragment=function(t){return Lt(t)===Ga};ie.isLazy=function(t){return Lt(t)===iu};ie.isMemo=function(t){return Lt(t)===ru};ie.isPortal=function(t){return Lt(t)===dh};ie.isProfiler=function(t){return Lt(t)===Qa};ie.isStrictMode=function(t){return Lt(t)===Ya};ie.isSuspense=function(t){return Lt(t)===nu};ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ga||t===eu||t===Qa||t===Ya||t===nu||t===nC||typeof t=="object"&&t!==null&&(t.$$typeof===iu||t.$$typeof===ru||t.$$typeof===Xa||t.$$typeof===Za||t.$$typeof===tu||t.$$typeof===iC||t.$$typeof===oC||t.$$typeof===sC||t.$$typeof===rC)};ie.typeOf=Lt;H1.exports=ie;var lC=H1.exports,W1=lC,aC={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},uC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},K1={};K1[W1.ForwardRef]=aC;K1[W1.Memo]=uC;var le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh=Symbol.for("react.element"),ph=Symbol.for("react.portal"),ou=Symbol.for("react.fragment"),su=Symbol.for("react.strict_mode"),lu=Symbol.for("react.profiler"),au=Symbol.for("react.provider"),uu=Symbol.for("react.context"),cC=Symbol.for("react.server_context"),cu=Symbol.for("react.forward_ref"),du=Symbol.for("react.suspense"),fu=Symbol.for("react.suspense_list"),hu=Symbol.for("react.memo"),pu=Symbol.for("react.lazy"),dC=Symbol.for("react.offscreen"),J1;J1=Symbol.for("react.module.reference");function Qt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hh:switch(t=t.type,t){case ou:case lu:case su:case du:case fu:return t;default:switch(t=t&&t.$$typeof,t){case cC:case uu:case cu:case pu:case hu:case au:return t;default:return e}}case ph:return e}}}le.ContextConsumer=uu;le.ContextProvider=au;le.Element=hh;le.ForwardRef=cu;le.Fragment=ou;le.Lazy=pu;le.Memo=hu;le.Portal=ph;le.Profiler=lu;le.StrictMode=su;le.Suspense=du;le.SuspenseList=fu;le.isAsyncMode=function(){return!1};le.isConcurrentMode=function(){return!1};le.isContextConsumer=function(t){return Qt(t)===uu};le.isContextProvider=function(t){return Qt(t)===au};le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hh};le.isForwardRef=function(t){return Qt(t)===cu};le.isFragment=function(t){return Qt(t)===ou};le.isLazy=function(t){return Qt(t)===pu};le.isMemo=function(t){return Qt(t)===hu};le.isPortal=function(t){return Qt(t)===ph};le.isProfiler=function(t){return Qt(t)===lu};le.isStrictMode=function(t){return Qt(t)===su};le.isSuspense=function(t){return Qt(t)===du};le.isSuspenseList=function(t){return Qt(t)===fu};le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ou||t===lu||t===su||t===du||t===fu||t===dC||typeof t=="object"&&t!==null&&(t.$$typeof===pu||t.$$typeof===hu||t.$$typeof===au||t.$$typeof===uu||t.$$typeof===cu||t.$$typeof===J1||t.getModuleId!==void 0)};le.typeOf=Qt;function fC(){const t=YE();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const Cm={notify(){},get:()=>[]};function hC(t,e){let n,r=Cm,i=0,o=!1;function s(g){c();const x=r.subscribe(g);let y=!1;return()=>{y||(y=!0,x(),d())}}function l(){r.notify()}function a(){h.onStateChange&&h.onStateChange()}function u(){return o}function c(){i++,n||(n=e?e.addNestedSub(a):t.subscribe(a),r=fC())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Cm)}function f(){o||(o=!0,c())}function p(){o&&(o=!1,d())}const h={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return h}const pC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mC=pC?w.useLayoutEffect:w.useEffect;function gC({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=w.useMemo(()=>{const u=hC(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[t,r,i,o]),l=w.useMemo(()=>t.getState(),[t]);mC(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,l]);const a=e||Cr;return w.createElement(a.Provider,{value:s},n)}function q1(t=Cr){const e=t===Cr?$1:uh(t);return function(){const{store:r}=e();return r}}const yC=q1();function vC(t=Cr){const e=t===Cr?yC:q1(t);return function(){return e().dispatch}}const Ae=vC();ZE(JE.useSyncExternalStoreWithSelector);GE(Ws.unstable_batchedUpdates);/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function we(){return we=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},we.apply(this,arguments)}var be;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(be||(be={}));const bm="popstate";function xC(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Os("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:di(i)}return kC(e,n,null,t)}function X(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ci(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SC(){return Math.random().toString(36).substr(2,8)}function Mm(t,e){return{usr:t.state,key:t.key,idx:e}}function Os(t,e,n,r){return n===void 0&&(n=null),we({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wn(e):e,{state:n,key:e&&e.key||r||SC()})}function di(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=be.Pop,a=null,u=c();u==null&&(u=0,s.replaceState(we({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){l=be.Pop;let x=c(),y=x==null?null:x-u;u=x,a&&a({action:l,location:g.location,delta:y})}function f(x,y){l=be.Push;let v=Os(g.location,x,y);n&&n(v,x),u=c()+1;let k=Mm(v,u),S=g.createHref(v);try{s.pushState(k,"",S)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(S)}o&&a&&a({action:l,location:g.location,delta:1})}function p(x,y){l=be.Replace;let v=Os(g.location,x,y);n&&n(v,x),u=c();let k=Mm(v,u),S=g.createHref(v);s.replaceState(k,"",S),o&&a&&a({action:l,location:g.location,delta:0})}function h(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:di(x);return X(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return t(i,s)},listen(x){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(bm,d),a=x,()=>{i.removeEventListener(bm,d),a=null}},createHref(x){return e(i,x)},createURL:h,encodeLocation(x){let y=h(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(x){return s.go(x)}};return g}var Me;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Me||(Me={}));const wC=new Set(["lazy","caseSensitive","path","id","index","children"]);function EC(t){return t.index===!0}function zd(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],l=typeof i.id=="string"?i.id:s.join("-");if(X(i.index!==!0||!i.children,"Cannot specify children on an index route"),X(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),EC(i)){let a=we({},i,e(i),{id:l});return r[l]=a,a}else{let a=we({},i,e(i),{id:l,children:void 0});return r[l]=a,i.children&&(a.children=zd(i.children,e,s,r)),a}})}function _i(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Wn(e):e,i=vo(r.pathname||"/",n);if(i==null)return null;let o=G1(t);bC(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=jC(o[l],_C(i));return s}function CC(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function G1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(X(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=zn([r,a.relativePath]),c=n.concat(a);o.children&&o.children.length>0&&(X(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),G1(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:DC(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of Y1(o.path))i(o,s,a)}),e}function Y1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Y1(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function bC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MC=/^:\w+$/,NC=3,TC=2,OC=1,PC=10,RC=-2,Nm=t=>t==="*";function DC(t,e){let n=t.split("/"),r=n.length;return n.some(Nm)&&(r+=RC),e&&(r+=TC),n.filter(i=>!Nm(i)).reduce((i,o)=>i+(MC.test(o)?NC:o===""?OC:PC),r)}function AC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function jC(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],a=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=IC({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let d=l.route;o.push({params:r,pathname:zn([i,c.pathname]),pathnameBase:$C(zn([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=zn([i,c.pathnameBase]))}return o}function IC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=LC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let g=l[d]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const h=l[d];return p&&!h?u[f]=void 0:u[f]=zC(h||"",f),u},{}),pathname:o,pathnameBase:s,pattern:t}}function LC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ci(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _C(t){try{return decodeURI(t)}catch(e){return ci(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zC(t,e){try{return decodeURIComponent(t)}catch(n){return ci(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function vo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wn(t):t;return{pathname:n?n.startsWith("/")?n:BC(n,e):e,search:VC(r),hash:HC(i)}}function BC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Q1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mh(t){return Q1(t).map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function gh(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Wn(t):(i=we({},t),X(!i.pathname||!i.pathname.includes("?"),yc("?","pathname","search",i)),X(!i.pathname||!i.pathname.includes("#"),yc("#","pathname","hash",i)),X(!i.search||!i.search.includes("#"),yc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else if(r){let d=e[e.length-1].replace(/^\//,"").split("/");if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d.pop();i.pathname=f.join("/")}l="/"+d.join("/")}else{let d=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?e[d]:"/"}let a=FC(i,l),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const zn=t=>t.join("/").replace(/\/\/+/g,"/"),$C=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class yh{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function X1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Z1=["post","put","patch","delete"],UC=new Set(Z1),WC=["get",...Z1],KC=new Set(WC),JC=new Set([301,302,303,307,308]),qC=new Set([307,308]),vc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},GC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YC=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),tv="remix-router-transitions";function QC(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;X(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let E=t.detectErrorBoundary;i=C=>({hasErrorBoundary:E(C)})}else i=YC;let o={},s=zd(t.routes,i,void 0,o),l,a=t.basename||"/",u=we({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,d=new Set,f=null,p=null,h=null,g=t.hydrationData!=null,x=_i(s,t.history.location,a),y=null;if(x==null){let E=Ft(404,{pathname:t.history.location.pathname}),{matches:C,route:T}=Im(s);x=C,y={[T.id]:E}}let v=!x.some(E=>E.route.lazy)&&(!x.some(E=>E.route.loader)||t.hydrationData!=null),k,S={historyAction:t.history.action,location:t.history.location,matches:x,initialized:v,navigation:vc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},b=be.Pop,N=!1,M,R=!1,D=new Map,F=null,ee=!1,je=!1,ze=[],Tn=[],Se=new Map,Jn=0,On=-1,j=new Map,$=new Set,W=new Map,ae=new Map,oe=new Set,_t=new Map,ut=new Map,Lr=!1;function Pn(){if(c=t.history.listen(E=>{let{action:C,location:T,delta:A}=E;if(Lr){Lr=!1;return}ci(ut.size===0||A!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let z=up({currentLocation:S.location,nextLocation:T,historyAction:C});if(z&&A!=null){Lr=!0,t.history.go(A*-1),Xs(z,{state:"blocked",location:T,proceed(){Xs(z,{state:"proceeding",proceed:void 0,reset:void 0,location:T}),t.history.go(A)},reset(){let G=new Map(S.blockers);G.set(z,jo),Tt({blockers:G})}});return}return _r(C,T)}),n){ab(e,D);let E=()=>ub(e,D);e.addEventListener("pagehide",E),F=()=>e.removeEventListener("pagehide",E)}return S.initialized||_r(be.Pop,S.location),k}function yi(){c&&c(),F&&F(),d.clear(),M&&M.abort(),S.fetchers.forEach((E,C)=>Qs(C)),S.blockers.forEach((E,C)=>ap(C))}function US(E){return d.add(E),()=>d.delete(E)}function Tt(E,C){C===void 0&&(C={}),S=we({},S,E);let T=[],A=[];u.v7_fetcherPersist&&S.fetchers.forEach((z,G)=>{z.state==="idle"&&(oe.has(G)?A.push(G):T.push(G))}),[...d].forEach(z=>z(S,{deletedFetchers:A,unstable_viewTransitionOpts:C.viewTransitionOpts,unstable_flushSync:C.flushSync===!0})),u.v7_fetcherPersist&&(T.forEach(z=>S.fetchers.delete(z)),A.forEach(z=>Qs(z)))}function wo(E,C,T){var A,z;let{flushSync:G}=T===void 0?{}:T,U=S.actionData!=null&&S.navigation.formMethod!=null&&sn(S.navigation.formMethod)&&S.navigation.state==="loading"&&((A=E.state)==null?void 0:A._isRedirect)!==!0,H;C.actionData?Object.keys(C.actionData).length>0?H=C.actionData:H=null:U?H=S.actionData:H=null;let B=C.loaderData?jm(S.loaderData,C.loaderData,C.matches||[],C.errors):S.loaderData,te=S.blockers;te.size>0&&(te=new Map(te),te.forEach((ce,ge)=>te.set(ge,jo)));let Je=N===!0||S.navigation.formMethod!=null&&sn(S.navigation.formMethod)&&((z=E.state)==null?void 0:z._isRedirect)!==!0;l&&(s=l,l=void 0),ee||b===be.Pop||(b===be.Push?t.history.push(E,E.state):b===be.Replace&&t.history.replace(E,E.state));let Y;if(b===be.Pop){let ce=D.get(S.location.pathname);ce&&ce.has(E.pathname)?Y={currentLocation:S.location,nextLocation:E}:D.has(E.pathname)&&(Y={currentLocation:E,nextLocation:S.location})}else if(R){let ce=D.get(S.location.pathname);ce?ce.add(E.pathname):(ce=new Set([E.pathname]),D.set(S.location.pathname,ce)),Y={currentLocation:S.location,nextLocation:E}}Tt(we({},C,{actionData:H,loaderData:B,historyAction:b,location:E,initialized:!0,navigation:vc,revalidation:"idle",restoreScrollPosition:dp(E,C.matches||S.matches),preventScrollReset:Je,blockers:te}),{viewTransitionOpts:Y,flushSync:G===!0}),b=be.Pop,N=!1,R=!1,ee=!1,je=!1,ze=[],Tn=[]}async function np(E,C){if(typeof E=="number"){t.history.go(E);return}let T=Fd(S.location,S.matches,a,u.v7_prependBasename,E,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:A,submission:z,error:G}=Tm(u.v7_normalizeFormMethod,!1,T,C),U=S.location,H=Os(S.location,A,C&&C.state);H=we({},H,t.history.encodeLocation(H));let B=C&&C.replace!=null?C.replace:void 0,te=be.Push;B===!0?te=be.Replace:B===!1||z!=null&&sn(z.formMethod)&&z.formAction===S.location.pathname+S.location.search&&(te=be.Replace);let Je=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,Y=(C&&C.unstable_flushSync)===!0,ce=up({currentLocation:U,nextLocation:H,historyAction:te});if(ce){Xs(ce,{state:"blocked",location:H,proceed(){Xs(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),np(E,C)},reset(){let ge=new Map(S.blockers);ge.set(ce,jo),Tt({blockers:ge})}});return}return await _r(te,H,{submission:z,pendingError:G,preventScrollReset:Je,replace:C&&C.replace,enableViewTransition:C&&C.unstable_viewTransition,flushSync:Y})}function WS(){if(zu(),Tt({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){_r(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}_r(b||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function _r(E,C,T){M&&M.abort(),M=null,b=E,ee=(T&&T.startUninterruptedRevalidation)===!0,ek(S.location,S.matches),N=(T&&T.preventScrollReset)===!0,R=(T&&T.enableViewTransition)===!0;let A=l||s,z=T&&T.overrideNavigation,G=_i(A,C,a),U=(T&&T.flushSync)===!0;if(!G){let ge=Ft(404,{pathname:C.pathname}),{matches:ct,route:gn}=Im(A);Fu(),wo(C,{matches:ct,loaderData:{},errors:{[gn.id]:ge}},{flushSync:U});return}if(S.initialized&&!je&&nb(S.location,C)&&!(T&&T.submission&&sn(T.submission.formMethod))){wo(C,{matches:G},{flushSync:U});return}M=new AbortController;let H=Lo(t.history,C,M.signal,T&&T.submission),B,te;if(T&&T.pendingError)te={[rs(G).route.id]:T.pendingError};else if(T&&T.submission&&sn(T.submission.formMethod)){let ge=await KS(H,C,T.submission,G,{replace:T.replace,flushSync:U});if(ge.shortCircuited)return;B=ge.pendingActionData,te=ge.pendingActionError,z=xc(C,T.submission),U=!1,H=new Request(H.url,{signal:H.signal})}let{shortCircuited:Je,loaderData:Y,errors:ce}=await JS(H,C,G,z,T&&T.submission,T&&T.fetcherSubmission,T&&T.replace,U,B,te);Je||(M=null,wo(C,we({matches:G},B?{actionData:B}:{},{loaderData:Y,errors:ce})))}async function KS(E,C,T,A,z){z===void 0&&(z={}),zu();let G=sb(C,T);Tt({navigation:G},{flushSync:z.flushSync===!0});let U,H=$d(A,C);if(!H.route.action&&!H.route.lazy)U={type:Me.error,error:Ft(405,{method:E.method,pathname:C.pathname,routeId:H.route.id})};else if(U=await Io("action",E,H,A,o,i,a),E.signal.aborted)return{shortCircuited:!0};if(Ki(U)){let B;return z&&z.replace!=null?B=z.replace:B=U.location===S.location.pathname+S.location.search,await Eo(S,U,{submission:T,replace:B}),{shortCircuited:!0}}if(is(U)){let B=rs(A,H.route.id);return(z&&z.replace)!==!0&&(b=be.Push),{pendingActionData:{},pendingActionError:{[B.route.id]:U.error}}}if(Jr(U))throw Ft(400,{type:"defer-action"});return{pendingActionData:{[H.route.id]:U.data}}}async function JS(E,C,T,A,z,G,U,H,B,te){let Je=A||xc(C,z),Y=z||G||zm(Je),ce=l||s,[ge,ct]=Om(t.history,S,T,Y,C,je,ze,Tn,oe,W,$,ce,a,B,te);if(Fu(de=>!(T&&T.some(zt=>zt.route.id===de))||ge&&ge.some(zt=>zt.route.id===de)),On=++Jn,ge.length===0&&ct.length===0){let de=sp();return wo(C,we({matches:T,loaderData:{},errors:te||null},B?{actionData:B}:{},de?{fetchers:new Map(S.fetchers)}:{}),{flushSync:H}),{shortCircuited:!0}}if(!ee){ct.forEach(zt=>{let Oe=S.fetchers.get(zt.key),zr=_o(void 0,Oe?Oe.data:void 0);S.fetchers.set(zt.key,zr)});let de=B||S.actionData;Tt(we({navigation:Je},de?Object.keys(de).length===0?{actionData:null}:{actionData:de}:{},ct.length>0?{fetchers:new Map(S.fetchers)}:{}),{flushSync:H})}ct.forEach(de=>{Se.has(de.key)&&Gn(de.key),de.controller&&Se.set(de.key,de.controller)});let gn=()=>ct.forEach(de=>Gn(de.key));M&&M.signal.addEventListener("abort",gn);let{results:bo,loaderResults:Bu,fetcherResults:vi}=await rp(S.matches,T,ge,ct,E);if(E.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",gn),ct.forEach(de=>Se.delete(de.key));let tn=Lm(bo);if(tn){if(tn.idx>=ge.length){let de=ct[tn.idx-ge.length].key;$.add(de)}return await Eo(S,tn.result,{replace:U}),{shortCircuited:!0}}let{loaderData:Zs,errors:$u}=Am(S,T,ge,Bu,te,ct,vi,_t);_t.forEach((de,zt)=>{de.subscribe(Oe=>{(Oe||de.done)&&_t.delete(zt)})});let Vu=sp(),Hu=lp(On),xi=Vu||Hu||ct.length>0;return we({loaderData:Zs,errors:$u},xi?{fetchers:new Map(S.fetchers)}:{})}function qS(E,C,T,A){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Se.has(E)&&Gn(E);let z=(A&&A.unstable_flushSync)===!0,G=l||s,U=Fd(S.location,S.matches,a,u.v7_prependBasename,T,C,A==null?void 0:A.relative),H=_i(G,U,a);if(!H){Co(E,C,Ft(404,{pathname:U}),{flushSync:z});return}let{path:B,submission:te,error:Je}=Tm(u.v7_normalizeFormMethod,!0,U,A);if(Je){Co(E,C,Je,{flushSync:z});return}let Y=$d(H,B);if(N=(A&&A.preventScrollReset)===!0,te&&sn(te.formMethod)){GS(E,C,B,Y,H,z,te);return}W.set(E,{routeId:C,path:B}),YS(E,C,B,Y,H,z,te)}async function GS(E,C,T,A,z,G,U){if(zu(),W.delete(E),!A.route.action&&!A.route.lazy){let Oe=Ft(405,{method:U.formMethod,pathname:T,routeId:C});Co(E,C,Oe,{flushSync:G});return}let H=S.fetchers.get(E);qn(E,lb(U,H),{flushSync:G});let B=new AbortController,te=Lo(t.history,T,B.signal,U);Se.set(E,B);let Je=Jn,Y=await Io("action",te,A,z,o,i,a);if(te.signal.aborted){Se.get(E)===B&&Se.delete(E);return}if(oe.has(E)){qn(E,Qn(void 0));return}if(Ki(Y))if(Se.delete(E),On>Je){qn(E,Qn(void 0));return}else return $.add(E),qn(E,_o(U)),Eo(S,Y,{fetcherSubmission:U});if(is(Y)){Co(E,C,Y.error);return}if(Jr(Y))throw Ft(400,{type:"defer-action"});let ce=S.navigation.location||S.location,ge=Lo(t.history,ce,B.signal),ct=l||s,gn=S.navigation.state!=="idle"?_i(ct,S.navigation.location,a):S.matches;X(gn,"Didn't find any matches after fetcher action");let bo=++Jn;j.set(E,bo);let Bu=_o(U,Y.data);S.fetchers.set(E,Bu);let[vi,tn]=Om(t.history,S,gn,U,ce,je,ze,Tn,oe,W,$,ct,a,{[A.route.id]:Y.data},void 0);tn.filter(Oe=>Oe.key!==E).forEach(Oe=>{let zr=Oe.key,fp=S.fetchers.get(zr),nk=_o(void 0,fp?fp.data:void 0);S.fetchers.set(zr,nk),Se.has(zr)&&Gn(zr),Oe.controller&&Se.set(zr,Oe.controller)}),Tt({fetchers:new Map(S.fetchers)});let Zs=()=>tn.forEach(Oe=>Gn(Oe.key));B.signal.addEventListener("abort",Zs);let{results:$u,loaderResults:Vu,fetcherResults:Hu}=await rp(S.matches,gn,vi,tn,ge);if(B.signal.aborted)return;B.signal.removeEventListener("abort",Zs),j.delete(E),Se.delete(E),tn.forEach(Oe=>Se.delete(Oe.key));let xi=Lm($u);if(xi){if(xi.idx>=vi.length){let Oe=tn[xi.idx-vi.length].key;$.add(Oe)}return Eo(S,xi.result)}let{loaderData:de,errors:zt}=Am(S,S.matches,vi,Vu,void 0,tn,Hu,_t);if(S.fetchers.has(E)){let Oe=Qn(Y.data);S.fetchers.set(E,Oe)}lp(bo),S.navigation.state==="loading"&&bo>On?(X(b,"Expected pending action"),M&&M.abort(),wo(S.navigation.location,{matches:gn,loaderData:de,errors:zt,fetchers:new Map(S.fetchers)})):(Tt({errors:zt,loaderData:jm(S.loaderData,de,gn,zt),fetchers:new Map(S.fetchers)}),je=!1)}async function YS(E,C,T,A,z,G,U){let H=S.fetchers.get(E);qn(E,_o(U,H?H.data:void 0),{flushSync:G});let B=new AbortController,te=Lo(t.history,T,B.signal);Se.set(E,B);let Je=Jn,Y=await Io("loader",te,A,z,o,i,a);if(Jr(Y)&&(Y=await iv(Y,te.signal,!0)||Y),Se.get(E)===B&&Se.delete(E),!te.signal.aborted){if(oe.has(E)){qn(E,Qn(void 0));return}if(Ki(Y))if(On>Je){qn(E,Qn(void 0));return}else{$.add(E),await Eo(S,Y);return}if(is(Y)){Co(E,C,Y.error);return}X(!Jr(Y),"Unhandled fetcher deferred data"),qn(E,Qn(Y.data))}}async function Eo(E,C,T){let{submission:A,fetcherSubmission:z,replace:G}=T===void 0?{}:T;C.revalidate&&(je=!0);let U=Os(E.location,C.location,{_isRedirect:!0});if(X(U,"Expected a location on the redirect navigation"),n){let ce=!1;if(C.reloadDocument)ce=!0;else if(ev.test(C.location)){const ge=t.history.createURL(C.location);ce=ge.origin!==e.location.origin||vo(ge.pathname,a)==null}if(ce){G?e.location.replace(C.location):e.location.assign(C.location);return}}M=null;let H=G===!0?be.Replace:be.Push,{formMethod:B,formAction:te,formEncType:Je}=E.navigation;!A&&!z&&B&&te&&Je&&(A=zm(E.navigation));let Y=A||z;if(qC.has(C.status)&&Y&&sn(Y.formMethod))await _r(H,U,{submission:we({},Y,{formAction:C.location}),preventScrollReset:N});else{let ce=xc(U,A);await _r(H,U,{overrideNavigation:ce,fetcherSubmission:z,preventScrollReset:N})}}async function rp(E,C,T,A,z){let G=await Promise.all([...T.map(B=>Io("loader",z,B,C,o,i,a)),...A.map(B=>B.matches&&B.match&&B.controller?Io("loader",Lo(t.history,B.path,B.controller.signal),B.match,B.matches,o,i,a):{type:Me.error,error:Ft(404,{pathname:B.path})})]),U=G.slice(0,T.length),H=G.slice(T.length);return await Promise.all([_m(E,T,U,U.map(()=>z.signal),!1,S.loaderData),_m(E,A.map(B=>B.match),H,A.map(B=>B.controller?B.controller.signal:null),!0)]),{results:G,loaderResults:U,fetcherResults:H}}function zu(){je=!0,ze.push(...Fu()),W.forEach((E,C)=>{Se.has(C)&&(Tn.push(C),Gn(C))})}function qn(E,C,T){T===void 0&&(T={}),S.fetchers.set(E,C),Tt({fetchers:new Map(S.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function Co(E,C,T,A){A===void 0&&(A={});let z=rs(S.matches,C);Qs(E),Tt({errors:{[z.route.id]:T},fetchers:new Map(S.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function ip(E){return u.v7_fetcherPersist&&(ae.set(E,(ae.get(E)||0)+1),oe.has(E)&&oe.delete(E)),S.fetchers.get(E)||GC}function Qs(E){let C=S.fetchers.get(E);Se.has(E)&&!(C&&C.state==="loading"&&j.has(E))&&Gn(E),W.delete(E),j.delete(E),$.delete(E),oe.delete(E),S.fetchers.delete(E)}function QS(E){if(u.v7_fetcherPersist){let C=(ae.get(E)||0)-1;C<=0?(ae.delete(E),oe.add(E)):ae.set(E,C)}else Qs(E);Tt({fetchers:new Map(S.fetchers)})}function Gn(E){let C=Se.get(E);X(C,"Expected fetch controller: "+E),C.abort(),Se.delete(E)}function op(E){for(let C of E){let T=ip(C),A=Qn(T.data);S.fetchers.set(C,A)}}function sp(){let E=[],C=!1;for(let T of $){let A=S.fetchers.get(T);X(A,"Expected fetcher: "+T),A.state==="loading"&&($.delete(T),E.push(T),C=!0)}return op(E),C}function lp(E){let C=[];for(let[T,A]of j)if(A<E){let z=S.fetchers.get(T);X(z,"Expected fetcher: "+T),z.state==="loading"&&(Gn(T),j.delete(T),C.push(T))}return op(C),C.length>0}function XS(E,C){let T=S.blockers.get(E)||jo;return ut.get(E)!==C&&ut.set(E,C),T}function ap(E){S.blockers.delete(E),ut.delete(E)}function Xs(E,C){let T=S.blockers.get(E)||jo;X(T.state==="unblocked"&&C.state==="blocked"||T.state==="blocked"&&C.state==="blocked"||T.state==="blocked"&&C.state==="proceeding"||T.state==="blocked"&&C.state==="unblocked"||T.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+T.state+" -> "+C.state);let A=new Map(S.blockers);A.set(E,C),Tt({blockers:A})}function up(E){let{currentLocation:C,nextLocation:T,historyAction:A}=E;if(ut.size===0)return;ut.size>1&&ci(!1,"A router only supports one blocker at a time");let z=Array.from(ut.entries()),[G,U]=z[z.length-1],H=S.blockers.get(G);if(!(H&&H.state==="proceeding")&&U({currentLocation:C,nextLocation:T,historyAction:A}))return G}function Fu(E){let C=[];return _t.forEach((T,A)=>{(!E||E(A))&&(T.cancel(),C.push(A),_t.delete(A))}),C}function ZS(E,C,T){if(f=E,h=C,p=T||null,!g&&S.navigation===vc){g=!0;let A=dp(S.location,S.matches);A!=null&&Tt({restoreScrollPosition:A})}return()=>{f=null,h=null,p=null}}function cp(E,C){return p&&p(E,C.map(A=>CC(A,S.loaderData)))||E.key}function ek(E,C){if(f&&h){let T=cp(E,C);f[T]=h()}}function dp(E,C){if(f){let T=cp(E,C),A=f[T];if(typeof A=="number")return A}return null}function tk(E){o={},l=zd(E,i,void 0,o)}return k={get basename(){return a},get state(){return S},get routes(){return s},get window(){return e},initialize:Pn,subscribe:US,enableScrollRestoration:ZS,navigate:np,fetch:qS,revalidate:WS,createHref:E=>t.history.createHref(E),encodeLocation:E=>t.history.encodeLocation(E),getFetcher:ip,deleteFetcher:QS,dispose:yi,getBlocker:XS,deleteBlocker:ap,_internalFetchControllers:Se,_internalActiveDeferreds:_t,_internalSetRoutes:tk},k}function XC(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Fd(t,e,n,r,i,o,s){let l,a;if(o){l=[];for(let c of e)if(l.push(c),c.route.id===o){a=c;break}}else l=e,a=e[e.length-1];let u=gh(i||".",mh(l),vo(t.pathname,n)||t.pathname,s==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&a&&a.route.index&&!vh(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:zn([n,u.pathname])),di(u)}function Tm(t,e,n,r){if(!r||!XC(r))return{path:n};if(r.formMethod&&!ob(r.formMethod))return{path:n,error:Ft(405,{method:r.formMethod})};let i=()=>({path:n,error:Ft(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),l=rv(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!sn(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,h)=>{let[g,x]=h;return""+p+g+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!sn(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}X(typeof FormData=="function","FormData is not available in this environment");let a,u;if(r.formData)a=Bd(r.formData),u=r.formData;else if(r.body instanceof FormData)a=Bd(r.body),u=r.body;else if(r.body instanceof URLSearchParams)a=r.body,u=Dm(a);else if(r.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(r.body),u=Dm(a)}catch{return i()}let c={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(sn(c.formMethod))return{path:n,submission:c};let d=Wn(n);return e&&d.search&&vh(d.search)&&a.append("index",""),d.search="?"+a,{path:di(d),submission:c}}function ZC(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Om(t,e,n,r,i,o,s,l,a,u,c,d,f,p,h){let g=h?Object.values(h)[0]:p?Object.values(p)[0]:void 0,x=t.createURL(e.location),y=t.createURL(i),v=h?Object.keys(h)[0]:void 0,S=ZC(n,v).filter((N,M)=>{if(N.route.lazy)return!0;if(N.route.loader==null)return!1;if(eb(e.loaderData,e.matches[M],N)||s.some(F=>F===N.route.id))return!0;let R=e.matches[M],D=N;return Pm(N,we({currentUrl:x,currentParams:R.params,nextUrl:y,nextParams:D.params},r,{actionResult:g,defaultShouldRevalidate:o||x.pathname+x.search===y.pathname+y.search||x.search!==y.search||nv(R,D)}))}),b=[];return u.forEach((N,M)=>{if(!n.some(je=>je.route.id===N.routeId)||a.has(M))return;let R=_i(d,N.path,f);if(!R){b.push({key:M,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(M),F=$d(R,N.path),ee=!1;c.has(M)?ee=!1:l.includes(M)?ee=!0:D&&D.state!=="idle"&&D.data===void 0?ee=o:ee=Pm(F,we({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:o})),ee&&b.push({key:M,routeId:N.routeId,path:N.path,matches:R,match:F,controller:new AbortController})}),[S,b]}function eb(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function nv(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Pm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Rm(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];X(i,"No route found in manifest");let o={};for(let s in r){let a=i[s]!==void 0&&s!=="hasErrorBoundary";ci(!a,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!a&&!wC.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,we({},e(i),{lazy:void 0}))}async function Io(t,e,n,r,i,o,s,l){l===void 0&&(l={});let a,u,c,d=h=>{let g,x=new Promise((y,v)=>g=v);return c=()=>g(),e.signal.addEventListener("abort",c),Promise.race([h({request:e,params:n.params,context:l.requestContext}),x])};try{let h=n.route[t];if(n.route.lazy)if(h){let g,x=await Promise.all([d(h).catch(y=>{g=y}),Rm(n.route,o,i)]);if(g)throw g;u=x[0]}else if(await Rm(n.route,o,i),h=n.route[t],h)u=await d(h);else if(t==="action"){let g=new URL(e.url),x=g.pathname+g.search;throw Ft(405,{method:e.method,pathname:x,routeId:n.route.id})}else return{type:Me.data,data:void 0};else if(h)u=await d(h);else{let g=new URL(e.url),x=g.pathname+g.search;throw Ft(404,{pathname:x})}X(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){a=Me.error,u=h}finally{c&&e.signal.removeEventListener("abort",c)}if(ib(u)){let h=u.status;if(JC.has(h)){let y=u.headers.get("Location");if(X(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!ev.test(y))y=Fd(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,y);else if(!l.isStaticRequest){let v=new URL(e.url),k=y.startsWith("//")?new URL(v.protocol+y):new URL(y),S=vo(k.pathname,s)!=null;k.origin===v.origin&&S&&(y=k.pathname+k.search+k.hash)}if(l.isStaticRequest)throw u.headers.set("Location",y),u;return{type:Me.redirect,status:h,location:y,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:a===Me.error?Me.error:Me.data,response:u};let g,x=u.headers.get("Content-Type");return x&&/\bapplication\/json\b/.test(x)?g=await u.json():g=await u.text(),a===Me.error?{type:a,error:new yh(h,u.statusText,g),headers:u.headers}:{type:Me.data,data:g,statusCode:u.status,headers:u.headers}}if(a===Me.error)return{type:a,error:u};if(rb(u)){var f,p;return{type:Me.deferred,deferredData:u,statusCode:(f=u.init)==null?void 0:f.status,headers:((p=u.init)==null?void 0:p.headers)&&new Headers(u.init.headers)}}return{type:Me.data,data:u}}function Lo(t,e,n,r){let i=t.createURL(rv(e)).toString(),o={signal:n};if(r&&sn(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=Bd(r.formData):o.body=r.formData}return new Request(i,o)}function Bd(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Dm(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function tb(t,e,n,r,i){let o={},s=null,l,a=!1,u={};return n.forEach((c,d)=>{let f=e[d].route.id;if(X(!Ki(c),"Cannot handle redirect results in processLoaderData"),is(c)){let p=rs(t,f),h=c.error;r&&(h=Object.values(r)[0],r=void 0),s=s||{},s[p.route.id]==null&&(s[p.route.id]=h),o[f]=void 0,a||(a=!0,l=X1(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else Jr(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!a&&(l=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:u}}function Am(t,e,n,r,i,o,s,l){let{loaderData:a,errors:u}=tb(e,n,r,i,l);for(let c=0;c<o.length;c++){let{key:d,match:f,controller:p}=o[c];X(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let h=s[c];if(!(p&&p.signal.aborted))if(is(h)){let g=rs(t.matches,f==null?void 0:f.route.id);u&&u[g.route.id]||(u=we({},u,{[g.route.id]:h.error})),t.fetchers.delete(d)}else if(Ki(h))X(!1,"Unhandled fetcher revalidation redirect");else if(Jr(h))X(!1,"Unhandled fetcher deferred data");else{let g=Qn(h.data);t.fetchers.set(d,g)}}return{loaderData:a,errors:u}}function jm(t,e,n,r){let i=we({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function rs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Im(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ft(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",l='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new yh(t||500,s,new Error(l),!0)}function Lm(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ki(n))return{result:n,idx:e}}}function rv(t){let e=typeof t=="string"?Wn(t):t;return di(we({},e,{hash:""}))}function nb(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Jr(t){return t.type===Me.deferred}function is(t){return t.type===Me.error}function Ki(t){return(t&&t.type)===Me.redirect}function rb(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function ib(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function ob(t){return KC.has(t.toLowerCase())}function sn(t){return UC.has(t.toLowerCase())}async function _m(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let l=n[s],a=e[s];if(!a)continue;let u=t.find(d=>d.route.id===a.route.id),c=u!=null&&!nv(u,a)&&(o&&o[a.route.id])!==void 0;if(Jr(l)&&(i||c)){let d=r[s];X(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await iv(l,d,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function iv(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Me.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Me.error,error:i}}return{type:Me.data,data:t.deferredData.data}}}function vh(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function $d(t,e){let n=typeof e=="string"?Wn(e).search:e.search;if(t[t.length-1].route.index&&vh(n||""))return t[t.length-1];let r=Q1(t);return r[r.length-1]}function zm(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function xc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sb(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _o(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lb(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Qn(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ab(t,e){try{let n=t.sessionStorage.getItem(tv);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function ub(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(tv,JSON.stringify(n))}catch(r){ci(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function da(){return da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},da.apply(this,arguments)}const mu=w.createContext(null),ov=w.createContext(null),xo=w.createContext(null),gu=w.createContext(null),Kn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),sv=w.createContext(null);function cb(t,e){let{relative:n}=e===void 0?{}:e;Ks()||X(!1);let{basename:r,navigator:i}=w.useContext(xo),{hash:o,pathname:s,search:l}=av(t,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:zn([r,s])),i.createHref({pathname:a,search:l,hash:o})}function Ks(){return w.useContext(gu)!=null}function yu(){return Ks()||X(!1),w.useContext(gu).location}function lv(t){w.useContext(xo).static||w.useLayoutEffect(t)}function Xt(){let{isDataRoute:t}=w.useContext(Kn);return t?Cb():db()}function db(){Ks()||X(!1);let t=w.useContext(mu),{basename:e,navigator:n}=w.useContext(xo),{matches:r}=w.useContext(Kn),{pathname:i}=yu(),o=JSON.stringify(mh(r)),s=w.useRef(!1);return lv(()=>{s.current=!0}),w.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){n.go(a);return}let c=gh(a,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:zn([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}const fb=w.createContext(null);function hb(t){let e=w.useContext(Kn).outlet;return e&&w.createElement(fb.Provider,{value:t},e)}function So(){let{matches:t}=w.useContext(Kn),e=t[t.length-1];return e?e.params:{}}function av(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=w.useContext(Kn),{pathname:i}=yu(),o=JSON.stringify(mh(r));return w.useMemo(()=>gh(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function pb(t,e,n){Ks()||X(!1);let{navigator:r}=w.useContext(xo),{matches:i}=w.useContext(Kn),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let a=yu(),u;if(e){var c;let g=typeof e=="string"?Wn(e):e;l==="/"||(c=g.pathname)!=null&&c.startsWith(l)||X(!1),u=g}else u=a;let d=u.pathname||"/",f=l==="/"?d:d.slice(l.length)||"/",p=_i(t,{pathname:f}),h=xb(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:zn([l,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:zn([l,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n);return e&&h?w.createElement(gu.Provider,{value:{location:da({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:be.Pop}},h):h}function mb(){let t=Eb(),e=X1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,o)}const gb=w.createElement(mb,null);class yb extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?w.createElement(Kn.Provider,{value:this.props.routeContext},w.createElement(sv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vb(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(mu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Kn.Provider,{value:e},r)}function xb(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let l=o.findIndex(a=>a.route.id&&(s==null?void 0:s[a.route.id]));l>=0||X(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,a,u)=>{let c=a.route.id?s==null?void 0:s[a.route.id]:null,d=null;n&&(d=a.route.errorElement||gb);let f=e.concat(o.slice(0,u+1)),p=()=>{let h;return c?h=d:a.route.Component?h=w.createElement(a.route.Component,null):a.route.element?h=a.route.element:h=l,w.createElement(vb,{match:a,routeContext:{outlet:l,matches:f,isDataRoute:n!=null},children:h})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?w.createElement(yb,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var uv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uv||{}),fa=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fa||{});function Sb(t){let e=w.useContext(mu);return e||X(!1),e}function kb(t){let e=w.useContext(ov);return e||X(!1),e}function wb(t){let e=w.useContext(Kn);return e||X(!1),e}function cv(t){let e=wb(),n=e.matches[e.matches.length-1];return n.route.id||X(!1),n.route.id}function Eb(){var t;let e=w.useContext(sv),n=kb(fa.UseRouteError),r=cv(fa.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Cb(){let{router:t}=Sb(uv.UseNavigateStable),e=cv(fa.UseNavigateStable),n=w.useRef(!1);return lv(()=>{n.current=!0}),w.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,da({fromRouteId:e},o)))},[t,e])}function bb(t){return hb(t.context)}function Mb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=be.Pop,navigator:o,static:s=!1}=t;Ks()&&X(!1);let l=e.replace(/^\/*/,"/"),a=w.useMemo(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof r=="string"&&(r=Wn(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=r,h=w.useMemo(()=>{let g=vo(u,l);return g==null?null:{location:{pathname:g,search:c,hash:d,state:f,key:p},navigationType:i}},[l,u,c,d,f,p,i]);return h==null?null:w.createElement(xo.Provider,{value:a},w.createElement(gu.Provider,{children:n,value:h}))}new Promise(()=>{});function Nb(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:w.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(this,arguments)}function Tb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ob(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Pb(t,e){return t.button===0&&(!e||e==="_self")&&!Ob(t)}const Rb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function Db(t,e){return QC({basename:e==null?void 0:e.basename,future:Ps({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:xC({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Ab(),routes:t,mapRouteProperties:Nb,window:e==null?void 0:e.window}).initialize()}function Ab(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ps({},e,{errors:jb(e.errors)})),e}function jb(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new yh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const Ib=w.createContext({isTransitioning:!1}),Lb=w.createContext(new Map),_b="startTransition",Fm=vk[_b],zb="flushSync",Bm=TE[zb];function Fb(t){Fm?Fm(t):t()}function zo(t){Bm?Bm(t):t()}class Bb{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function $b(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=w.useState(n.state),[s,l]=w.useState(),[a,u]=w.useState({isTransitioning:!1}),[c,d]=w.useState(),[f,p]=w.useState(),[h,g]=w.useState(),x=w.useRef(new Map),{v7_startTransition:y}=r||{},v=w.useCallback(M=>{y?Fb(M):M()},[y]),k=w.useCallback((M,R)=>{let{deletedFetchers:D,unstable_flushSync:F,unstable_viewTransitionOpts:ee}=R;D.forEach(ze=>x.current.delete(ze)),M.fetchers.forEach((ze,Tn)=>{ze.data!==void 0&&x.current.set(Tn,ze.data)});let je=n.window==null||typeof n.window.document.startViewTransition!="function";if(!ee||je){F?zo(()=>o(M)):v(()=>o(M));return}if(F){zo(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})});let ze=n.window.document.startViewTransition(()=>{zo(()=>o(M))});ze.finished.finally(()=>{zo(()=>{d(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})}),zo(()=>p(ze));return}f?(c&&c.resolve(),f.skipTransition(),g({state:M,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation})):(l(M),u({isTransitioning:!0,flushSync:!1,currentLocation:ee.currentLocation,nextLocation:ee.nextLocation}))},[n.window,f,c,x,v]);w.useLayoutEffect(()=>n.subscribe(k),[n,k]),w.useEffect(()=>{a.isTransitioning&&!a.flushSync&&d(new Bb)},[a]),w.useEffect(()=>{if(c&&s&&n.window){let M=s,R=c.promise,D=n.window.document.startViewTransition(async()=>{v(()=>o(M)),await R});D.finished.finally(()=>{d(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}),p(D)}},[v,s,c,n.window]),w.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,f,i.location,s]),w.useEffect(()=>{!a.isTransitioning&&h&&(l(h.state),u({isTransitioning:!0,flushSync:!1,currentLocation:h.currentLocation,nextLocation:h.nextLocation}),g(void 0))},[a.isTransitioning,h]);let S=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:M=>n.navigate(M),push:(M,R,D)=>n.navigate(M,{state:R,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(M,R,D)=>n.navigate(M,{replace:!0,state:R,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),b=n.basename||"/",N=w.useMemo(()=>({router:n,navigator:S,static:!1,basename:b}),[n,S,b]);return w.createElement(w.Fragment,null,w.createElement(mu.Provider,{value:N},w.createElement(ov.Provider,{value:i},w.createElement(Lb.Provider,{value:x.current},w.createElement(Ib.Provider,{value:a},w.createElement(Mb,{basename:b,location:i.location,navigationType:i.historyAction,navigator:S},i.initialized?w.createElement(Vb,{routes:n.routes,state:i}):e))))),null)}function Vb(t){let{routes:e,state:n}=t;return pb(e,void 0,n)}const Hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ub=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$m=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:a,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,f=Tb(e,Rb),{basename:p}=w.useContext(xo),h,g=!1;if(typeof u=="string"&&Ub.test(u)&&(h=u,Hb))try{let k=new URL(window.location.href),S=u.startsWith("//")?new URL(k.protocol+u):new URL(u),b=vo(S.pathname,p);S.origin===k.origin&&b!=null?u=b+S.search+S.hash:g=!0}catch{}let x=cb(u,{relative:i}),y=Wb(u,{replace:s,state:l,target:a,preventScrollReset:c,relative:i,unstable_viewTransition:d});function v(k){r&&r(k),k.defaultPrevented||y(k)}return w.createElement("a",Ps({},f,{href:h||x,onClick:g||o?r:v,ref:n,target:a}))});var Vm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Vm||(Vm={}));var Hm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hm||(Hm={}));function Wb(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l}=e===void 0?{}:e,a=Xt(),u=yu(),c=av(t,{relative:s});return w.useCallback(d=>{if(Pb(d,n)){d.preventDefault();let f=r!==void 0?r:di(u)===di(c);a(t,{replace:f,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l})}},[u,a,c,r,i,n,t,o,s,l])}function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function Kb(t,e){if(Rs(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jb(t){var e=Kb(t,"string");return Rs(e)==="symbol"?e:String(e)}function qb(t,e,n){return e=Jb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Um(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Um(Object(n),!0).forEach(function(r){qb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Um(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Km=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Sc=function(){return Math.random().toString(36).substring(7).split("").join(".")},ha={INIT:"@@redux/INIT"+Sc(),REPLACE:"@@redux/REPLACE"+Sc(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Sc()}};function Gb(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function dv(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rt(1));return n(dv)(t,e)}if(typeof t!="function")throw new Error(rt(2));var i=t,o=e,s=[],l=s,a=!1;function u(){l===s&&(l=s.slice())}function c(){if(a)throw new Error(rt(3));return o}function d(g){if(typeof g!="function")throw new Error(rt(4));if(a)throw new Error(rt(5));var x=!0;return u(),l.push(g),function(){if(x){if(a)throw new Error(rt(6));x=!1,u();var v=l.indexOf(g);l.splice(v,1),s=null}}}function f(g){if(!Gb(g))throw new Error(rt(7));if(typeof g.type>"u")throw new Error(rt(8));if(a)throw new Error(rt(9));try{a=!0,o=i(o,g)}finally{a=!1}for(var x=s=l,y=0;y<x.length;y++){var v=x[y];v()}return g}function p(g){if(typeof g!="function")throw new Error(rt(10));i=g,f({type:ha.REPLACE})}function h(){var g,x=d;return g={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(rt(11));function k(){v.next&&v.next(c())}k();var S=x(k);return{unsubscribe:S}}},g[Km]=function(){return this},g}return f({type:ha.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:p},r[Km]=h,r}var Yb=dv;function Qb(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:ha.INIT});if(typeof r>"u")throw new Error(rt(12));if(typeof n(void 0,{type:ha.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rt(13))})}function Xb(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var o=Object.keys(n),s;try{Qb(n)}catch(l){s=l}return function(a,u){if(a===void 0&&(a={}),s)throw s;for(var c=!1,d={},f=0;f<o.length;f++){var p=o[f],h=n[p],g=a[p],x=h(g,u);if(typeof x>"u")throw u&&u.type,new Error(rt(14));d[p]=x,c=c||x!==g}return c=c||o.length!==Object.keys(a).length,c?d:a}}function Zb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function eM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(rt(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=e.map(function(a){return a(s)});return o=Zb.apply(void 0,l)(i.dispatch),Wm(Wm({},i),{},{dispatch:o})}}}function fv(t){var e=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(l){return typeof l=="function"?l(i,o,t):s(l)}}};return e}var hv=fv();hv.withExtraArgument=fv;const tM=hv,pv="entries/LOAD_USER_ENTRIES",mv="entry/CREATE_ENTRY",gv="entry/EDIT_ENTRY",yv="entry/DELETE_ENTRY",vv="entries/CLEAR_ENTRIES",xv="comment/CREATE_COMMENT",Sv="comment/EDIT_COMMENT",kv="comment/DELETE_COMMENT",wv="post/CREATE_POST",Ev="post/EDIT_POST",Cv="post/DELETE_POST",nM=t=>({type:pv,entries:t}),rM=t=>({type:mv,entry:t}),iM=t=>({type:gv,entry:t}),oM=t=>({type:yv,entryId:t}),sM=()=>({type:vv}),lM=t=>({type:xv,comment:t}),aM=t=>({type:Sv,comment:t}),uM=t=>({type:kv,comment:t}),cM=t=>({type:wv,post:t}),dM=t=>({type:Ev,post:t}),fM=t=>({type:Cv,post:t}),Or=()=>async t=>{const e=await fetch("/api/entries");if(e.ok){const n=await e.json();return t(nM(n))}else return{server:"Something went wrong. Please try again"}},hM=t=>async e=>{const n=await fetch("/api/entries/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.userId,notebook_id:t.notebookId,name:t.name,content:t.content})});if(n.ok){const r=await n.json();return e(rM(r))}else return await n.json()},xh=t=>async e=>{console.log("entry obj ----->",t);const n=await fetch(`/api/entries/${t.id}/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.userId,notebook_id:t.notebookId,name:t.name,content:t.content,is_public:t.isPublic})});if(n.ok){const r=await n.json();return e(iM(r))}else return await n.json()},pM=t=>async e=>{console.log(t);const n=await fetch(`/api/entries/${t}/delete`);return n.ok?e(oM(t)):await n.json()},mM=t=>async e=>{const n=await fetch("/api/comments/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.userId,entry_id:t.entryId,comment:t.comment})});if(n.ok){const r=await n.json();return e(lM(r))}else return await n.json()},gM=t=>async e=>{const n=await fetch(`/api/comments/${t.id}/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.userId,entry_id:t.entryId,comment:t.comment})});if(n.ok){const r=await n.json();return e(aM(r))}else return await n.json()},yM=t=>async e=>{const n=await fetch(`/api/comments/${t.id}/delete`);return n.ok?e(uM(t)):await n.json()},vM=t=>async e=>{const n=await fetch("/api/posts/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entry_id:t.entryId,message:t.message})});if(n.ok){const r=await n.json();return e(cM(r))}else return await n.json()},xM=t=>async e=>{const n=await fetch(`/api/posts/${t.entryId}/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entry_id:t.entryId,message:t.message})});if(n.ok){const r=await n.json();return e(dM(r))}else return await n.json()},SM=t=>async e=>{const n=await fetch(`/api/posts/${t.id}/delete`);return n.ok?e(fM(t)):await n.json()},Jm={};function kM(t=Jm,e){switch(e.type){case pv:{const n={...t};return e.entries.forEach(r=>{n[r.id]=r}),n}case mv:{const n={...t};return n[e.entry.id]=e.entry,n}case gv:{const n={...t};return n[e.entry.id]=e.entry,n}case yv:{const n={...t};return delete n[e.entryId],n}case xv:{const n={...t};return n[e.comment.entry_id].comments.push(e.comment),n}case Sv:{const n={...t},r=n[e.comment.entry_id].comments,i=r.find(o=>o.id=e.comment.id);return r.splice(r.indexOf(i),1,e.comment),n[e.comment.entry_id].comments=r,n}case kv:{const n={...t},r=n[e.comment.entry_id].comments;return n[e.comment.entry_id].comments.splice(r.indexOf(e.comment),1),n}case wv:{const n={...t};return n[e.post.id]=e.post,n}case Ev:{const n={...t};return n[e.post.entry_id].post=e.post,n}case Cv:{const n={...t};let r=n[e.post.entry_id];return r=Object.keys(r).filter(i=>i!=="post").reduce((i,o)=>(i[o]=r[o],i),{}),n[r.id]=r,n[r.id].is_public=!1,n}case vv:return Jm;default:return t}}const bv="notebooks/LOAD_USER_NOTEBOOKS",Mv="notebooks/CREATE_NOTEBOOK",Nv="notebook/EDIT_NOTEBOOK",Tv="notebooks/DELETE_NOTEBOOK",Ov="notebooks/CLEAR_NOTEBOOKS",wM=t=>({type:bv,payload:t}),EM=t=>({type:Mv,notebook:t}),CM=t=>({type:Nv,notebook:t}),bM=t=>({type:Tv,notebookId:t}),MM=()=>({type:Ov}),Pv=()=>async t=>{const e=await fetch("/api/notebooks");if(e.ok){const n=await e.json();return t(wM(n.notebooks))}else return{server:"Something went wrong. Please try again"}},NM=t=>async e=>{const n=await fetch("/api/notebooks/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.userId,name:t.name,about:t.about})});if(n.ok){const r=await n.json();return console.log(r),e(EM(r))}else return await n.json()},TM=t=>async e=>{console.log(t);const n=await fetch(`/api/notebooks/${t.id}/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.userId,name:t.name,about:t.about})});if(n.ok){const r=await n.json();return console.log(r),e(CM(r))}else{const r=await n.json();return console.log(r),r}},OM=t=>async e=>{const n=await fetch(`/api/notebooks/${t}/delete`);return n.ok?e(bM(t)):await n.json()},qm={};function PM(t=qm,e){switch(e.type){case bv:{const n={...t};return e.payload.forEach(r=>{n[r.id]=r}),n}case Mv:{const n={...t};return n[e.notebook.id]=e.notebook,n}case Nv:{const n={...t};return n[e.notebook.id]=e.notebook,n}case Tv:{const n={...t};return delete n[e.notebookId],n}case Ov:return qm;default:return t}}const Rv="users/LOAD_USERS",RM=({users:t})=>({type:Rv,users:t}),Dv=()=>async t=>{const e=await fetch("/api/users");if(e.ok){const n=await e.json();return t(RM(n))}else return{server:"Something went wrong. Please try again"}},DM={};function AM(t=DM,e){switch(e.type){case Rv:{const n={...t};return e.users.forEach(r=>{n[r.id]=r}),n}default:return t}}const Av=async t=>{await t(Pv()),await t(Or()),await t(Dv())},jv="session/setUser",Iv="session/removeUser",Sh=t=>({type:jv,payload:t}),jM=()=>({type:Iv}),Lv=()=>async t=>{const e=await fetch("/api/auth/");if(e.ok){const n=await e.json();if(n.errors)return;t(Sh(n))}},_v=t=>async e=>{const n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n.ok){const r=await n.json();Av(e),e(Sh(r))}else return n.status<500?await n.json():{server:"Something went wrong. Please try again"}},IM=t=>async e=>{const n=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n.ok){const r=await n.json();e(Sh(r))}else return n.status<500?await n.json():{server:"Something went wrong. Please try again"}},LM=()=>async t=>{await fetch("/api/auth/logout"),await t(MM()),await t(sM()),t(jM())},_M={user:null};function zM(t=_M,e){switch(e.type){case jv:return{...t,user:e.payload};case Iv:return{...t,user:null};default:return t}}const FM=Xb({session:zM,users:AM,notebooks:PM,entries:kM});let zv;zv=eM(tM);const BM=t=>Yb(FM,t,zv);const kh=w.createContext();function Fv({children:t}){const e=w.useRef(),[n,r]=w.useState(null),[i,o]=w.useState(null),l={modalRef:e,modalContent:n,setModalContent:r,setOnModalClose:o,closeModal:()=>{r(null),typeof i=="function"&&(o(null),i())}};return m.jsxs(m.Fragment,{children:[m.jsx(kh.Provider,{value:l,children:t}),m.jsx("div",{ref:e})]})}function Bv(){const{modalRef:t,modalContent:e,closeModal:n}=w.useContext(kh);return!t||!t.current||!e?null:ah.createPortal(m.jsxs("div",{id:"modal",children:[m.jsx("div",{id:"modal-background",onClick:n}),m.jsx("div",{id:"modal-content",children:e})]}),t.current)}const Ke=()=>w.useContext(kh);function $M(){const t=Ae(),e=Xt(),n=ue(h=>h.session.user),r=ue(h=>h.notebooks),[i,o]=w.useState(""),[s,l]=w.useState(""),[a,u]=w.useState(""),c=h=>{o(i!==h?h:i===h?"":h)},d=h=>{l(h),u(""),h==="notebooks"?e("/"):h==="all-posts"?e("/public"):h==="user-posts"&&e("/public/user")},f=h=>{u(h),e(`/notebook/${h}`)},p=async h=>{h.preventDefault(),await t(LM()),e("/")};return m.jsxs("div",{id:"main-left-nav-container",children:[m.jsxs("div",{children:[m.jsx("div",{id:"left-nav-user-info",children:m.jsxs("div",{id:"left-nav-user-info-inner",children:[m.jsx("img",{src:n==null?void 0:n.profile_image,className:"profile-image"}),m.jsxs("div",{id:"left-nav-user-name",children:[m.jsx("div",{children:`Hello ${n==null?void 0:n.name}`}),m.jsx("div",{children:n==null?void 0:n.username})]})]})}),m.jsxs("div",{id:"navigation-container",children:[m.jsxs("div",{children:[m.jsx("div",{className:i==="/"?"left-nav-main-ele-selected":"left-nav-main-ele",onClick:()=>c("/"),children:"Home"}),m.jsxs("div",{hidden:i!=="/",children:[m.jsx("div",{className:"left-nav-mid-line"}),m.jsx("div",{className:s==="notebooks"?"left-nav-mid-ele-selected":"left-nav-mid-ele",onClick:()=>d("notebooks"),children:"Notebooks"}),m.jsxs("div",{hidden:s!=="notebooks",children:[m.jsx("div",{className:"left-nav-small-line"}),m.jsx("div",{className:"left-nav-small-ele",children:r?Object.values(r).map(h=>m.jsx("div",{className:a===h.id?"left-nav-sml-ele-selected":"left-nav-sml-ele",onClick:()=>f(h.id),children:m.jsx("div",{children:h==null?void 0:h.name})},h==null?void 0:h.id)):""})]}),m.jsx("div",{className:s==="theme"?"left-nav-mid-ele-selected":"left-nav-mid-ele",onClick:()=>d("theme"),children:"Theme"}),m.jsxs("div",{hidden:s!=="theme",children:[m.jsx("div",{className:"left-nav-small-line"}),m.jsx("div",{className:"left-nav-small-ele",children:m.jsx("div",{className:"left-nav-sml-ele-selected",children:"PenCrafted (default)"})})]})]})]}),m.jsxs("div",{children:[m.jsx("div",{className:i==="/public"?"left-nav-main-ele-selected":"left-nav-main-ele",onClick:()=>c("/public"),children:"Public Feed"}),m.jsxs("div",{hidden:i!=="/public",children:[m.jsx("div",{className:"left-nav-mid-line"}),m.jsx("div",{className:s==="all-posts"?"left-nav-mid-ele-selected":"left-nav-mid-ele",onClick:()=>d("all-posts"),children:"All Posts"}),m.jsx("div",{className:s==="user-posts"?"left-nav-mid-ele-selected":"left-nav-mid-ele",onClick:()=>d("user-posts"),children:"Your Posts"})]})]})]})]}),m.jsx("div",{id:"left-nav-signout-container",children:m.jsx("div",{id:"left-nav-signout",onClick:p,children:`Sign out ${n==null?void 0:n.username}`})})]})}function VM(){const t=Ae();return w.useEffect(()=>{t(Lv()).then(()=>Av(t)).then(()=>t(Dv())).catch(e=>console.log(e))},[t]),m.jsx(m.Fragment,{children:m.jsxs(Fv,{children:[m.jsxs("div",{className:"main-insite-container",children:[m.jsx("div",{className:"left-hand-nav-container",children:m.jsx($M,{})}),m.jsx("div",{className:"main-insite-content-container",children:m.jsx(bb,{})})]}),m.jsx(Bv,{})]})})}function Ut({modalComponent:t,buttonText:e,onButtonClick:n,onModalClose:r}){const{setModalContent:i,setOnModalClose:o}=Ke(),s=()=>{r&&o(r),i(t),typeof n=="function"&&n()};return m.jsx("button",{onClick:s,children:e})}function $v(){const t=Ae(),e=Xt(),[n,r]=w.useState(""),[i,o]=w.useState(""),[s,l]=w.useState(!1),{closeModal:a}=Ke(),u=async c=>{c.preventDefault();const d=await t(_v({username:n,password:i}));d?l(d):(r(""),o(""),a(),e("/"))};return m.jsxs("div",{className:"modal login-form-container",children:[m.jsx("h1",{className:"modal-form-title",children:"Log In"}),m.jsx("form",{onSubmit:u,children:m.jsxs("div",{className:"modal login-form-elements",children:[m.jsx("label",{children:"User Name"}),m.jsx("input",{type:"text",value:n,onChange:c=>r(c.target.value),required:!0}),m.jsx("p",{className:s?"login-error-validation":"regular-string",children:s.username}),m.jsx("label",{children:"Password"}),m.jsx("input",{className:"password-input",type:"password",value:i,onChange:c=>o(c.target.value),required:!0}),m.jsx("p",{className:s?"login-error-validation":"regular-string",children:s.password}),m.jsx("button",{className:"modal-button login-button",type:"submit",children:"Log In"})]})})]})}function HM(){const t=Ae(),e=Xt(),[n,r]=w.useState(""),[i,o]=w.useState(""),[s,l]=w.useState(""),[a,u]=w.useState(""),[c,d]=w.useState({}),{closeModal:f}=Ke();w.useEffect(()=>{let h={};n.length<4&&(h.name="Name must be 4 or more characters"),n.length>50&&(h.name="Name must be less than 50 characters"),i.length<8&&(h.username="Username must be 8 or more characters"),i.length>50&&(h.username="Username must be less than 50 characters"),s.length<8&&(h.password="Password must be 8 or more characters"),s.length>50&&(h.password="Password must be less than 50 characters"),a!==s&&(h.confirmPassword="Password and confirmed password must match"),d(h)},[n,i,s,a]);const p=async h=>{if(h.preventDefault(),Object.values(c).length)return;const g=await t(IM({name:n,username:i,password:s}));g?d(g):(f(),e("/"))};return m.jsxs("div",{className:"modal signup-form-container",children:[m.jsx("h1",{className:"modal-form-title",children:"Sign Up"}),m.jsx("form",{onSubmit:p,children:m.jsxs("div",{className:"modal",children:[m.jsx("label",{children:"Name"}),m.jsx("input",{type:"text",value:n,onChange:h=>r(h.target.value),required:!0}),m.jsx("p",{className:c.name?"error-validation":"",children:`${n.length}/50`}),m.jsx("label",{children:"Username"}),m.jsx("input",{type:"text",value:i,onChange:h=>o(h.target.value),required:!0}),m.jsx("p",{className:c.username?"error-validation":"",children:`${i.length}/50`}),m.jsx("label",{children:"Password"}),m.jsx("input",{type:"password",value:s,onChange:h=>l(h.target.value),required:!0}),m.jsx("p",{className:c.password?"error-validation":"",children:`${s.length}/50`}),m.jsx("label",{children:"Confirm Password"}),m.jsx("input",{type:"password",value:a,onChange:h=>u(h.target.value),required:!0}),m.jsx("p",{className:c.confirmPassword?"error-validation":"signup-invisible-validation",children:c.confirmPassword}),m.jsx("button",{className:"modal-button signup-button",type:"submit",children:"Sign Up"})]})})]})}function UM(){const[t,e]=w.useState(!1),n=w.useRef();w.useEffect(()=>{if(!t)return;const i=o=>{n.current&&!n.current.contains(o.target)&&e(!1)};return document.addEventListener("click",i),()=>document.removeEventListener("click",i)},[t]);const r=()=>e(!1);return m.jsxs("div",{id:"landingpage-navigation-container",children:[m.jsx("img",{src:"https://profile-images-pencrafted-capstone.s3.us-west-2.amazonaws.com/nav-title-00366B.png"}),m.jsxs("div",{id:"landingpage-navigation-in-out-container",children:[m.jsx(Ut,{buttonText:"Log In",onItemClick:r,modalComponent:m.jsx($v,{})}),m.jsx(Ut,{buttonText:"Sign Up",onItemClick:r,modalComponent:m.jsx(HM,{})})]})]})}function WM(){const t=Ae(),e=async n=>{n.preventDefault(),await t(_v({username:"demo-user",password:"password"}))};return m.jsx("div",{children:m.jsxs(Fv,{children:[m.jsxs("div",{id:"main-landingpage-container",children:[m.jsx(UM,{}),m.jsxs("div",{id:"landingpage-section1-3-container",children:[m.jsxs("section",{id:"landingpage-section-1",children:[m.jsx("img",{src:"https://profile-images-pencrafted-capstone.s3.us-west-2.amazonaws.com/landing-page-title-image.png"}),m.jsx("div",{className:"landingpage-section-1-midtitle",children:"Your Writing Journey Starts Here: Create, Share, Improve! Sign in now!"})]}),m.jsxs("section",{id:"landingpage-section-2",children:[m.jsx(Ut,{buttonText:"Continue",modalComponent:m.jsx($v,{})}),m.jsx("button",{className:"button landingpage-demo-login-btn",onClick:e,children:"Login as Demo User"})]}),m.jsx("section",{id:"landingpage-section-3"})]}),m.jsxs("section",{id:"landingpage-section-4",children:[m.jsx("h2",{id:"landingpage-section4-title",children:"Welcome to PenCrafted, where your creativity takes flight!"}),m.jsx("div",{id:"landingpage-section4-minititle",children:"At PenCrafted, we believe that every writer has a unique voice and story to tell. Our platform is designed to provide you a safe space to express yourself!  Compose your works privately or help you refine your craft through constructive feedback and community support. Here’s how it works:"}),m.jsxs("ul",{id:"landingpage-minititle-list-container",children:[m.jsx("li",{children:"Organize and create: Sign up and create notebooks centered on the topic you will write about. Whether it’s a short story, poem, or novel excerpt, you can organize your ideas within different entries and take note of important sections."}),m.jsx("li",{children:"Get Constructive Criticism: Post your creations live to receive insightful feedback from fellow writers and experienced reviewers. Our community thrives on mutual respect and helpful critiques, ensuring that every piece gets the attention it deserves."}),m.jsx("li",{children:"Support Others: Read and critique the works of other members. Offering feedback not only helps others but also sharpens your own critical eye and writing skills"})]})]}),m.jsxs("footer",{id:"landingpage-footer",children:[m.jsxs("div",{id:"landingpage-footer-subsection",children:[m.jsx($m,{to:"https://github.com/llfbh33",className:"landingpage-footer-link",target:"_blank",children:"Github"}),m.jsx($m,{className:"landingpage-footer-link",onClick:()=>alert("Linked in coming soon"),children:"Contact Us"})]}),m.jsx("div",{children:"PenCrafted by Aubrie Woodbine"})]})]}),m.jsx(Bv,{})]})})}function KM(){const t=ue(n=>n.session.user),e=Ae();return w.useEffect(()=>{e(Lv())},[e]),t?m.jsx(VM,{}):m.jsx(WM,{})}var Vv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Gm=Ce.createContext&&Ce.createContext(Vv),JM=["attr","size","title"];function qM(t,e){if(t==null)return{};var n=GM(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GM(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pa(){return pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pa.apply(this,arguments)}function Ym(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ym(Object(n),!0).forEach(function(r){YM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ym(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YM(t,e,n){return e=QM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QM(t){var e=XM(t,"string");return typeof e=="symbol"?e:e+""}function XM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hv(t){return t&&t.map((e,n)=>Ce.createElement(e.tag,ma({key:n},e.attr),Hv(e.child)))}function Zt(t){return e=>Ce.createElement(ZM,pa({attr:ma({},t.attr)},e),Hv(t.child))}function ZM(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=qM(t,JM),l=i||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),Ce.createElement("svg",pa({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:a,style:ma(ma({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&Ce.createElement("title",null,o),t.children)};return Gm!==void 0?Ce.createElement(Gm.Consumer,null,n=>e(n)):e(Vv)}function wh(t){return Zt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5"},child:[]}]})(t)}function eN(t){return Zt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"},child:[]}]})(t)}function Uv(t){return Zt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function tN(t){return Zt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 96v320h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H320a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V288H160v128h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V96H32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-32v128h192V96h-32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16z"},child:[]}]})(t)}function nN(t){return Zt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"},child:[]}]})(t)}function rN(t){return Zt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"},child:[]}]})(t)}function iN(t){return Zt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function oN(t){return Zt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function sN(t){return Zt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function lN(t){return Zt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 224H293.9l-87.17-26.83A43.55 43.55 0 0 1 219.55 112h66.79A49.89 49.89 0 0 1 331 139.58a16 16 0 0 0 21.46 7.15l42.94-21.47a16 16 0 0 0 7.16-21.46l-.53-1A128 128 0 0 0 287.51 32h-68a123.68 123.68 0 0 0-123 135.64c2 20.89 10.1 39.83 21.78 56.36H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-180.24 96A43 43 0 0 1 336 356.45 43.59 43.59 0 0 1 292.45 400h-66.79A49.89 49.89 0 0 1 181 372.42a16 16 0 0 0-21.46-7.15l-42.94 21.47a16 16 0 0 0-7.16 21.46l.53 1A128 128 0 0 0 224.49 480h68a123.68 123.68 0 0 0 123-135.64 114.25 114.25 0 0 0-5.34-24.36z"},child:[]}]})(t)}function aN(t){return Zt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(t)}function uN(){const t=Ae(),e=Xt(),n=ue(d=>d.session.user),[r,i]=w.useState(""),[o,s]=w.useState(" "),[l,a]=w.useState({}),{closeModal:u}=Ke();w.useEffect(()=>{const d={};r.length<=0&&(d.name="Notebook name is required"),r.length>100&&(d.name="Notebook name can not be over 100 characters"),o.length>400&&(d.about="Notebook about section can not be over 400 characters"),a(d)},[r,o]),w.useEffect(()=>{o===""&&s(" ")},[o]);const c=async d=>{if(d.preventDefault(),Object.values(l).length)return;const f=await t(NM({userId:n.id,name:r,about:o}));f.name?a(f):(i(""),s(""),u(),e("/"))};return m.jsxs("div",{children:[m.jsx("h1",{className:"notebook-modal-title",children:"New Notebook"}),m.jsxs("form",{onSubmit:c,children:[m.jsxs("div",{className:"notebook-modal-info-1",children:[m.jsx("label",{className:"notebook-modal-label",children:"What would you like to name your new notebook?"}),m.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),required:!0}),m.jsx("p",{className:l.name?"notebook-modal-errors":"notebook-modal-no-errors",children:`${r.length}/100`})]}),m.jsxs("div",{className:"notebook-modal-info-2",children:[m.jsx("div",{className:"notebook-modal-label",children:"Write a little about what you will use this notebook for!"}),m.jsx("div",{children:"This is not required but it is a helpful way to keep your writing organized."}),m.jsx("textarea",{value:o,rows:12,cols:60,onChange:d=>s(d.target.value),required:!0}),m.jsx("p",{className:"notebook-modal-no-errors",children:`${o.length}/400`})]}),m.jsx("div",{className:"notebook-modal-button-container",children:m.jsx("button",{type:"submit",className:"modal-button notebook-modal-button",children:"Submit Changes"})})]})]})}function cN({notebook:t}){const e=Ae(),n=ue(d=>d.session.user),[r,i]=w.useState(t.name),[o,s]=w.useState(t.about),[l,a]=w.useState({}),{closeModal:u}=Ke();w.useEffect(()=>{const d={};r<=0&&(d.name="Notebook name is required"),r.length>100&&(d.name="Notebook name can not be over 100 characters"),o.length>400&&(d.about="Notebook about section can not be over 400 characters"),a(d)},[r,o]),w.useEffect(()=>{o===""&&s(" ")},[o]);const c=async d=>{if(d.preventDefault(),Object.values(l).length)return;const f=await e(TM({id:t.id,userId:n.id,name:r,about:o}));f.name?a(f):(await e(Pv()),i(""),s(""),await u())};return m.jsxs("div",{children:[m.jsx("h1",{className:"notebook-modal-title",children:"Edit Notebook"}),m.jsxs("form",{onSubmit:c,children:[m.jsxs("div",{className:"notebook-modal-info-1",children:[m.jsx("label",{className:"notebook-modal-label",children:"Do you want to change the name of your notebook?"}),m.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),required:!0}),m.jsx("p",{className:l.name?"notebook-modal-errors":"notebook-modal-no-errors",children:`${r.length}/100`})]}),m.jsxs("div",{className:"notebook-modal-info-2",children:[m.jsx("div",{className:"notebook-modal-label",children:"Write a little about what you will use this notebook for!"}),m.jsx("div",{children:"This is not required but it is a helpful way to keep your writing organized."}),m.jsx("textarea",{value:o,rows:12,cols:60,onChange:d=>s(d.target.value),required:!0}),m.jsx("p",{className:"notebook-modal-no-errors",children:`${o.length}/400`})]}),m.jsx("div",{className:"notebook-modal-button-container",children:m.jsx("button",{type:"submit",className:"modal-button notebook-modal-button",children:"Submit Changes"})})]})]})}function Ji({modalComponent:t,itemText:e,onItemClick:n,onModalClose:r}){const{setModalContent:i,setOnModalClose:o}=Ke(),s=()=>{r&&o(r),i(t),typeof n=="function"&&n()};return m.jsx("li",{onClick:s,children:e})}function dN({notebook:t}){const e=Ae(),{closeModal:n}=Ke(),r=async()=>{await e(OM(t.id)),await n()},i=()=>{n()};return m.jsxs("div",{id:"post-remove-modal-container",children:[m.jsx("h2",{children:`Are you sure you want to delete "${t.name}" ?`}),m.jsx("h4",{className:"post-remove-disclaimer",children:"Deleting your notebook will also delete all of the entries within. Are you sure?."}),m.jsxs("div",{id:"remove-post-button-container",children:[m.jsx("button",{className:"modal-button delete-comment-button",onClick:r,children:"Yes, Delete Notebook"}),m.jsx("button",{className:"modal-button delete-comment-button",onClick:i,children:"No, Keep My Notebook"})]})]})}function fN(){const t=ue(i=>i.session.user),e=ue(i=>i.notebooks),n=Xt(),r=i=>{n(`/notebook/${i}`)};return m.jsxs("div",{children:[m.jsx("p",{className:"mini-page-title",children:"Ready to write? Create a notebook to get started!"}),m.jsx("h1",{id:"homepage-user-title",children:`${t==null?void 0:t.name}'s Home`}),m.jsx("p",{className:"page-title-blocks",children:"Your Notebooks"}),m.jsxs("div",{id:"homepage-notebook-card-container",children:[Object.values(e).map(i=>m.jsx("div",{children:m.jsxs("div",{className:"homepage-notebook-card",children:[m.jsxs("div",{className:"homepage-notebook-card-details",onClick:()=>r(i.id),children:[m.jsx("div",{children:m.jsx("div",{children:i==null?void 0:i.name})}),m.jsx("div",{className:"notebook-about-section-container",children:m.jsx("div",{children:`${i==null?void 0:i.about.slice(0,120)}...`})})]}),m.jsxs("div",{className:"notebook-edit-delete-container",children:[m.jsx("div",{className:"homepage-edit-notebook",children:m.jsx(Ji,{itemText:m.jsx(Uv,{}),modalComponent:m.jsx(cN,{notebook:i})})}),m.jsx("div",{className:"homepage-edit-notebook",children:m.jsx(Ji,{itemText:m.jsx(wh,{}),modalComponent:m.jsx(dN,{notebook:i})})})]})]})},i==null?void 0:i.id)),m.jsx("div",{id:"homepage-new-notebook-card",children:m.jsx("div",{id:"create-notebook-title",children:m.jsx(Ji,{itemText:"Click here to create a new Notebook",modalComponent:m.jsx(uN,{})})})})]})]})}function hN(){const{notebookId:t}=So(),e=Xt(),n=Ae(),r=ue(c=>c.session.user),[i,o]=w.useState(""),[s,l]=w.useState({}),{closeModal:a}=Ke();w.useEffect(()=>{const c={};i<=0&&(c.name="Please provide a name for your entry"),i.length>100&&(c.name="Name must be 100 characters or less"),l(c)},[i]);const u=async c=>{if(c.preventDefault(),s.name)return;const d=await n(hM({userId:r.id,notebookId:t,name:i,content:"",isPublic:!1}));d.name?l(d):(await n(Or()),o(""),e(`/notebook/${t}/entries/${d.entry.id}`),a())};return m.jsxs("div",{className:"entry-modal-main-container",children:[m.jsx("h1",{className:"entry-modal-titles",children:"Create an Entry"}),m.jsxs("form",{onSubmit:u,children:[m.jsxs("div",{className:"entry-modal-form-container",children:[m.jsx("label",{className:"entry-modal-label",children:"What is a good name for this entry?"}),m.jsx("input",{type:"text",value:i,onChange:c=>o(c.target.value),required:!0}),m.jsx("p",{className:s.name?"entry-modal-errors":"entry-modal-no-errors",children:`${i.length}/100`})]}),m.jsx("div",{className:"entry-modal-conformation-btn-container",children:m.jsx("button",{type:"submit",className:"modal-button conformation-btn",children:"Submit Changes"})})]})]})}function Wv({entry:t}){const e=Ae(),n=Xt(),{closeModal:r}=Ke(),i=async()=>{await e(pM(t.id)),await r(),n(`notebook/${t.notebook_id}`)},o=()=>{r()};return m.jsxs("div",{className:"entry-modal-main-container",children:[m.jsx("h1",{className:"entry-modal-titles",children:"Are you sure you want to delete:"}),m.jsx("h1",{className:"entry-modal-titles",children:`"${t.name}" ?`}),m.jsx("div",{className:"entry-modal-errors"}),m.jsxs("div",{className:"entry-modal-conformation-btn-container",children:[m.jsx("button",{className:"modal-button conformation-btn",onClick:i,children:"Yes, Delete"}),m.jsx("button",{className:"modal-button conformation-btn",onClick:o,children:"No, Keep"})]})]})}function pN(){const{notebookId:t}=So(),e=Xt(),n=ue(u=>u.entries),r=ue(u=>u.notebooks[t]),[i,o]=w.useState(""),{setModalContent:s}=Ke();w.useEffect(()=>{let u=Object.values(n).filter(c=>c.notebook_id===parseInt(t));o(u)},[t,n]);const l=u=>{e(`/notebook/${t}/entries/${u.id}`)},a=()=>{s(m.jsx(hN,{}))};return m.jsxs("div",{children:[m.jsx("div",{className:"top-statement-bar",children:m.jsx("p",{className:"mini-page-title",children:"Create an entry in your notebook or keep working on one you have already made."})}),m.jsx("h1",{id:"homepage-user-title",children:`Notebook: ${r==null?void 0:r.name}`}),m.jsx("div",{id:"notebookpage-about-section-container",children:m.jsx("div",{className:"notebookpage-about-section",children:r==null?void 0:r.about})}),m.jsx("h1",{id:"homepage-underline"}),m.jsx("p",{className:"page-title-blocks",children:"Your Entries"}),m.jsxs("div",{id:"homepage-notebook-card-container",children:[n?Object.values(i).map(u=>m.jsx("div",{children:m.jsxs("div",{className:"homepage-notebook-card",children:[m.jsx("div",{className:"homepage-notebook-card-details",onClick:()=>l(u),children:m.jsx("div",{children:u==null?void 0:u.name})}),m.jsx("div",{className:"homepage-edit-notebook",children:m.jsx(Ji,{itemText:m.jsx(wh,{}),modalComponent:m.jsx(Wv,{entry:u})})})]})},u.id)):"",m.jsx("div",{id:"homepage-new-notebook-card",onClick:a,children:m.jsx("div",{id:"create-notebook-title",children:"Click here to create a new Entry"})})]})]})}function mN({entry:t}){const e=Ae(),n=ue(u=>u.session.user),[r,i]=w.useState(t.name),[o,s]=w.useState({}),{closeModal:l}=Ke();w.useEffect(()=>{const u={};r<=0&&(u.name="Please provide a name for your entry"),r.length>100&&(u.name="Name must be 100 characters or less"),s(u)},[r]);const a=async u=>{u.preventDefault();const c=await e(xh({id:t.id,userId:n.id,notebookId:t.notebook_id,name:r,content:t.content,isPublic:t.is_public}));c.name?s(c):(i(""),l())};return m.jsxs("div",{className:"entry-modal-main-container",children:[m.jsx("h1",{className:"entry-modal-titles",children:"Edit Entries Name"}),m.jsxs("form",{onSubmit:a,children:[m.jsxs("div",{className:"entry-modal-form-container",children:[m.jsx("label",{className:"entry-modal-label",children:"Do you want to change the name of your Entry?"}),m.jsx("input",{type:"text",value:r,onChange:u=>i(u.target.value),required:!0}),m.jsx("p",{className:o.name?"entry-modal-errors":"entry-modal-no-errors",children:`${r.length}/100`})]}),m.jsx("div",{className:"entry-modal-conformation-btn-container",children:m.jsx("button",{type:"submit",className:"modal-button conformation-btn",children:"Submit Changes"})})]})]})}var Kv={},Eh={},Ch={};Object.defineProperty(Ch,"__esModule",{value:!0});var Qm="html",Xm="head",yl="body",gN=/<([a-zA-Z]+[0-9]?)/,Zm=/<head[^]*>/i,eg=/<body[^]*>/i,ga=function(t,e){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Vd=function(t,e){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},tg=typeof window=="object"&&window.DOMParser;if(typeof tg=="function"){var yN=new tg,vN="text/html";Vd=function(t,e){return e&&(t="<".concat(e,">").concat(t,"</").concat(e,">")),yN.parseFromString(t,vN)},ga=Vd}if(typeof document=="object"&&document.implementation){var vl=document.implementation.createHTMLDocument();ga=function(t,e){if(e){var n=vl.documentElement.querySelector(e);return n&&(n.innerHTML=t),vl}return vl.documentElement.innerHTML=t,vl}}var xl=typeof document=="object"&&document.createElement("template"),Hd;xl&&xl.content&&(Hd=function(t){return xl.innerHTML=t,xl.content.childNodes});function xN(t){var e,n,r=t.match(gN),i=r&&r[1]?r[1].toLowerCase():"";switch(i){case Qm:{var o=Vd(t);if(!Zm.test(t)){var s=o.querySelector(Xm);(e=s==null?void 0:s.parentNode)===null||e===void 0||e.removeChild(s)}if(!eg.test(t)){var s=o.querySelector(yl);(n=s==null?void 0:s.parentNode)===null||n===void 0||n.removeChild(s)}return o.querySelectorAll(Qm)}case Xm:case yl:{var l=ga(t).querySelectorAll(i);return eg.test(t)&&Zm.test(t)?l[0].parentNode.childNodes:l}default:{if(Hd)return Hd(t);var s=ga(t,yl).querySelector(yl);return s.childNodes}}}Ch.default=xN;var so={},bh={},Mh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(Mh);var Q={},Pr=Re&&Re.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ss=Re&&Re.__assign||function(){return ss=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ss.apply(this,arguments)};Object.defineProperty(Q,"__esModule",{value:!0});Q.cloneNode=Q.hasChildren=Q.isDocument=Q.isDirective=Q.isComment=Q.isText=Q.isCDATA=Q.isTag=Q.Element=Q.Document=Q.CDATA=Q.NodeWithChildren=Q.ProcessingInstruction=Q.Comment=Q.Text=Q.DataNode=Q.Node=void 0;var bt=Mh,Nh=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),Th(this,e)},t}();Q.Node=Nh;var vu=function(t){Pr(e,t);function e(n){var r=t.call(this)||this;return r.data=n,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),e}(Nh);Q.DataNode=vu;var Jv=function(t){Pr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=bt.ElementType.Text,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(vu);Q.Text=Jv;var qv=function(t){Pr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=bt.ElementType.Comment,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(vu);Q.Comment=qv;var Gv=function(t){Pr(e,t);function e(n,r){var i=t.call(this,r)||this;return i.name=n,i.type=bt.ElementType.Directive,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(vu);Q.ProcessingInstruction=Gv;var xu=function(t){Pr(e,t);function e(n){var r=t.call(this)||this;return r.children=n,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),e}(Nh);Q.NodeWithChildren=xu;var Yv=function(t){Pr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=bt.ElementType.CDATA,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(xu);Q.CDATA=Yv;var Qv=function(t){Pr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=bt.ElementType.Root,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(xu);Q.Document=Qv;var Xv=function(t){Pr(e,t);function e(n,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=n==="script"?bt.ElementType.Script:n==="style"?bt.ElementType.Style:bt.ElementType.Tag);var s=t.call(this,i)||this;return s.name=n,s.attribs=r,s.type=o,s}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,o;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(o=n["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})},enumerable:!1,configurable:!0}),e}(xu);Q.Element=Xv;function Zv(t){return(0,bt.isTag)(t)}Q.isTag=Zv;function ex(t){return t.type===bt.ElementType.CDATA}Q.isCDATA=ex;function tx(t){return t.type===bt.ElementType.Text}Q.isText=tx;function nx(t){return t.type===bt.ElementType.Comment}Q.isComment=nx;function rx(t){return t.type===bt.ElementType.Directive}Q.isDirective=rx;function ix(t){return t.type===bt.ElementType.Root}Q.isDocument=ix;function SN(t){return Object.prototype.hasOwnProperty.call(t,"children")}Q.hasChildren=SN;function Th(t,e){e===void 0&&(e=!1);var n;if(tx(t))n=new Jv(t.data);else if(nx(t))n=new qv(t.data);else if(Zv(t)){var r=e?kc(t.children):[],i=new Xv(t.name,ss({},t.attribs),r);r.forEach(function(a){return a.parent=i}),t.namespace!=null&&(i.namespace=t.namespace),t["x-attribsNamespace"]&&(i["x-attribsNamespace"]=ss({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(i["x-attribsPrefix"]=ss({},t["x-attribsPrefix"])),n=i}else if(ex(t)){var r=e?kc(t.children):[],o=new Yv(r);r.forEach(function(u){return u.parent=o}),n=o}else if(ix(t)){var r=e?kc(t.children):[],s=new Qv(r);r.forEach(function(u){return u.parent=s}),t["x-mode"]&&(s["x-mode"]=t["x-mode"]),n=s}else if(rx(t)){var l=new Gv(t.name,t.data);t["x-name"]!=null&&(l["x-name"]=t["x-name"],l["x-publicId"]=t["x-publicId"],l["x-systemId"]=t["x-systemId"]),n=l}else throw new Error("Not implemented yet: ".concat(t.type));return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}Q.cloneNode=Th;function kc(t){for(var e=t.map(function(r){return Th(r,!0)}),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}(function(t){var e=Re&&Re.__createBinding||(Object.create?function(l,a,u,c){c===void 0&&(c=u);var d=Object.getOwnPropertyDescriptor(a,u);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[u]}}),Object.defineProperty(l,c,d)}:function(l,a,u,c){c===void 0&&(c=u),l[c]=a[u]}),n=Re&&Re.__exportStar||function(l,a){for(var u in l)u!=="default"&&!Object.prototype.hasOwnProperty.call(a,u)&&e(a,l,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=Mh,i=Q;n(Q,t);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=function(){function l(a,u,c){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(c=u,u=o),typeof a=="object"&&(u=a,a=void 0),this.callback=a??null,this.options=u??o,this.elementCB=c??null}return l.prototype.onparserinit=function(a){this.parser=a},l.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},l.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},l.prototype.onerror=function(a){this.handleCallback(a)},l.prototype.onclosetag=function(){this.lastNode=null;var a=this.tagStack.pop();this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(a)},l.prototype.onopentag=function(a,u){var c=this.options.xmlMode?r.ElementType.Tag:void 0,d=new i.Element(a,u,void 0,c);this.addNode(d),this.tagStack.push(d)},l.prototype.ontext=function(a){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=a,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var c=new i.Text(a);this.addNode(c),this.lastNode=c}},l.prototype.oncomment=function(a){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=a;return}var u=new i.Comment(a);this.addNode(u),this.lastNode=u},l.prototype.oncommentend=function(){this.lastNode=null},l.prototype.oncdatastart=function(){var a=new i.Text(""),u=new i.CDATA([a]);this.addNode(u),a.parent=u,this.lastNode=a},l.prototype.oncdataend=function(){this.lastNode=null},l.prototype.onprocessinginstruction=function(a,u){var c=new i.ProcessingInstruction(a,u);this.addNode(c)},l.prototype.handleCallback=function(a){if(typeof this.callback=="function")this.callback(a,this.dom);else if(a)throw a},l.prototype.addNode=function(a){var u=this.tagStack[this.tagStack.length-1],c=u.children[u.children.length-1];this.options.withStartIndices&&(a.startIndex=this.parser.startIndex),this.options.withEndIndices&&(a.endIndex=this.parser.endIndex),u.children.push(a),c&&(a.prev=c,c.next=a),a.parent=u,this.lastNode=null},l}();t.DomHandler=s,t.default=s})(bh);var ox={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,n){return e[n.toLowerCase()]=n,e},{})})(ox);Object.defineProperty(so,"__esModule",{value:!0});so.formatDOM=so.formatAttributes=void 0;var Sl=bh,kN=ox;function wN(t){return kN.CASE_SENSITIVE_TAG_NAMES_MAP[t]}function sx(t){for(var e={},n=0,r=t.length;n<r;n++){var i=t[n];e[i.name]=i.value}return e}so.formatAttributes=sx;function EN(t){t=t.toLowerCase();var e=wN(t);return e||t}function lx(t,e,n){e===void 0&&(e=null);for(var r=[],i,o=0,s=t.length;o<s;o++){var l=t[o];switch(l.nodeType){case 1:{var a=EN(l.nodeName);i=new Sl.Element(a,sx(l.attributes)),i.children=lx(a==="template"?l.content.childNodes:l.childNodes,i);break}case 3:i=new Sl.Text(l.nodeValue);break;case 8:i=new Sl.Comment(l.nodeValue);break;default:continue}var u=r[o-1]||null;u&&(u.next=i),i.parent=e,i.prev=u,i.next=null,r.push(i)}return n&&(i=new Sl.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),i.next=r[0]||null,i.parent=e,r.unshift(i),r[1]&&(r[1].prev=r[0])),r}so.formatDOM=lx;var CN=Re&&Re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Eh,"__esModule",{value:!0});var bN=CN(Ch),MN=so,NN=/<(![a-zA-Z\s]+)>/;function TN(t){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];var e=t.match(NN),n=e?e[1]:void 0;return(0,MN.formatDOM)((0,bN.default)(t),null,n)}Eh.default=TN;var Su={},mn={},ku={},ON=0;ku.SAME=ON;var PN=1;ku.CAMELCASE=PN;ku.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const ax=0,Rr=1,wu=2,Eu=3,Oh=4,ux=5,cx=6;function RN(t){return et.hasOwnProperty(t)?et[t]:null}function xt(t,e,n,r,i,o,s){this.acceptsBooleans=e===wu||e===Eu||e===Oh,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}const et={},DN=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];DN.forEach(t=>{et[t]=new xt(t,ax,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([t,e])=>{et[t]=new xt(t,Rr,!1,e,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(t=>{et[t]=new xt(t,wu,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(t=>{et[t]=new xt(t,wu,!1,t,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(t=>{et[t]=new xt(t,Eu,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(t=>{et[t]=new xt(t,Eu,!0,t,null,!1,!1)});["capture","download"].forEach(t=>{et[t]=new xt(t,Oh,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(t=>{et[t]=new xt(t,cx,!1,t,null,!1,!1)});["rowSpan","start"].forEach(t=>{et[t]=new xt(t,ux,!1,t.toLowerCase(),null,!1,!1)});const Ph=/[\-\:]([a-z])/g,Rh=t=>t[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(t=>{const e=t.replace(Ph,Rh);et[e]=new xt(e,Rr,!1,t,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(t=>{const e=t.replace(Ph,Rh);et[e]=new xt(e,Rr,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(t=>{const e=t.replace(Ph,Rh);et[e]=new xt(e,Rr,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(t=>{et[t]=new xt(t,Rr,!1,t.toLowerCase(),null,!1,!1)});const AN="xlinkHref";et[AN]=new xt("xlinkHref",Rr,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(t=>{et[t]=new xt(t,Rr,!1,t.toLowerCase(),null,!0,!0)});const{CAMELCASE:jN,SAME:IN,possibleStandardNames:ng}=ku,LN=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",_N=LN+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",zN=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+_N+"]*$")),FN=Object.keys(ng).reduce((t,e)=>{const n=ng[e];return n===IN?t[e]=e:n===jN?t[e.toLowerCase()]=e:t[e]=n,t},{});mn.BOOLEAN=Eu;mn.BOOLEANISH_STRING=wu;mn.NUMERIC=ux;mn.OVERLOADED_BOOLEAN=Oh;mn.POSITIVE_NUMERIC=cx;mn.RESERVED=ax;mn.STRING=Rr;mn.getPropertyInfo=RN;mn.isCustomAttribute=zN;mn.possibleStandardNames=FN;var Dh={},Ah={},rg=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,BN=/\n/g,$N=/^\s*/,VN=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,HN=/^:\s*/,UN=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,WN=/^[;\s]*/,KN=/^\s+|\s+$/g,JN=`
`,ig="/",og="*",$r="",qN="comment",GN="declaration",YN=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(h){var g=h.match(BN);g&&(n+=g.length);var x=h.lastIndexOf(JN);r=~x?h.length-x:r+h.length}function o(){var h={line:n,column:r};return function(g){return g.position=new s(h),u(),g}}function s(h){this.start=h,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function l(h){var g=new Error(e.source+":"+n+":"+r+": "+h);if(g.reason=h,g.filename=e.source,g.line=n,g.column=r,g.source=t,!e.silent)throw g}function a(h){var g=h.exec(t);if(g){var x=g[0];return i(x),t=t.slice(x.length),g}}function u(){a($N)}function c(h){var g;for(h=h||[];g=d();)g!==!1&&h.push(g);return h}function d(){var h=o();if(!(ig!=t.charAt(0)||og!=t.charAt(1))){for(var g=2;$r!=t.charAt(g)&&(og!=t.charAt(g)||ig!=t.charAt(g+1));)++g;if(g+=2,$r===t.charAt(g-1))return l("End of comment missing");var x=t.slice(2,g-2);return r+=2,i(x),t=t.slice(g),r+=2,h({type:qN,comment:x})}}function f(){var h=o(),g=a(VN);if(g){if(d(),!a(HN))return l("property missing ':'");var x=a(UN),y=h({type:GN,property:sg(g[0].replace(rg,$r)),value:x?sg(x[0].replace(rg,$r)):$r});return a(WN),y}}function p(){var h=[];c(h);for(var g;g=f();)g!==!1&&(h.push(g),c(h));return h}return u(),p()};function sg(t){return t?t.replace(KN,$r):$r}var QN=Re&&Re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ah,"__esModule",{value:!0});var XN=QN(YN);function ZN(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,XN.default)(t),i=typeof e=="function";return r.forEach(function(o){if(o.type==="declaration"){var s=o.property,l=o.value;i?e(s,l,o):l&&(n=n||{},n[s]=l)}}),n}Ah.default=ZN;var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.camelCase=void 0;var eT=/^--[a-zA-Z0-9-]+$/,tT=/-([a-z])/g,nT=/^[^-]+$/,rT=/^-(webkit|moz|ms|o|khtml)-/,iT=/^-(ms)-/,oT=function(t){return!t||nT.test(t)||eT.test(t)},sT=function(t,e){return e.toUpperCase()},lg=function(t,e){return"".concat(e,"-")},lT=function(t,e){return e===void 0&&(e={}),oT(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(iT,lg):t=t.replace(rT,lg),t.replace(tT,sT))};Cu.camelCase=lT;var aT=Re&&Re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},uT=aT(Ah),cT=Cu;function Ud(t,e){var n={};return!t||typeof t!="string"||(0,uT.default)(t,function(r,i){r&&i&&(n[(0,cT.camelCase)(r,e)]=i)}),n}Ud.default=Ud;var dT=Ud;(function(t){var e=Re&&Re.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=t.setStyleProp=t.isCustomComponent=void 0;var n=w,r=e(dT),i=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function o(c,d){return c.includes("-")?!i.has(c):!!(d&&typeof d.is=="string")}t.isCustomComponent=o;var s={reactCompat:!0};function l(c,d){if(typeof c=="string"){if(!c.trim()){d.style={};return}try{d.style=(0,r.default)(c,s)}catch{d.style={}}}}t.setStyleProp=l,t.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var a=function(c){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(c.name)};t.canTextBeChildOfNode=a;var u=function(c){return c};t.returnFirstArg=u})(Dh);Object.defineProperty(Su,"__esModule",{value:!0});var Uo=mn,ag=Dh,fT=["checked","value"],hT=["input","select","textarea"],pT={reset:!0,submit:!0};function mT(t,e){t===void 0&&(t={});var n={},r=!!(t.type&&pT[t.type]);for(var i in t){var o=t[i];if((0,Uo.isCustomAttribute)(i)){n[i]=o;continue}var s=i.toLowerCase(),l=ug(s);if(l){var a=(0,Uo.getPropertyInfo)(l);switch(fT.includes(l)&&hT.includes(e)&&!r&&(l=ug("default"+s)),n[l]=o,a&&a.type){case Uo.BOOLEAN:n[l]=!0;break;case Uo.OVERLOADED_BOOLEAN:o===""&&(n[l]=!0);break}continue}ag.PRESERVE_CUSTOM_ATTRIBUTES&&(n[i]=o)}return(0,ag.setStyleProp)(t.style,n),n}Su.default=mT;function ug(t){return Uo.possibleStandardNames[t]}var jh={},gT=Re&&Re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jh,"__esModule",{value:!0});var wc=w,yT=gT(Su),ls=Dh,vT={cloneElement:wc.cloneElement,createElement:wc.createElement,isValidElement:wc.isValidElement};function dx(t,e){e===void 0&&(e={});for(var n=[],r=typeof e.replace=="function",i=e.transform||ls.returnFirstArg,o=e.library||vT,s=o.cloneElement,l=o.createElement,a=o.isValidElement,u=t.length,c=0;c<u;c++){var d=t[c];if(r){var f=e.replace(d,c);if(a(f)){u>1&&(f=s(f,{key:f.key||c})),n.push(i(f,d,c));continue}}if(d.type==="text"){var p=!d.data.trim().length;if(p&&d.parent&&!(0,ls.canTextBeChildOfNode)(d.parent)||e.trim&&p)continue;n.push(i(d.data,d,c));continue}var h=d,g={};xT(h)?((0,ls.setStyleProp)(h.attribs.style,h.attribs),g=h.attribs):h.attribs&&(g=(0,yT.default)(h.attribs,h.name));var x=void 0;switch(d.type){case"script":case"style":d.children[0]&&(g.dangerouslySetInnerHTML={__html:d.children[0].data});break;case"tag":d.name==="textarea"&&d.children[0]?g.defaultValue=d.children[0].data:d.children&&d.children.length&&(x=dx(d.children,e));break;default:continue}u>1&&(g.key=c),n.push(i(l(d.name,g,x),d,c))}return n.length===1?n[0]:n}jh.default=dx;function xT(t){return ls.PRESERVE_CUSTOM_ATTRIBUTES&&t.type==="tag"&&(0,ls.isCustomComponent)(t.name,t.attribs)}(function(t){var e=Re&&Re.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0;var n=e(Eh);t.htmlToDOM=n.default;var r=e(Su);t.attributesToProps=r.default;var i=e(jh);t.domToReact=i.default;var o=bh;Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return o.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return o.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return o.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return o.Text}});var s={lowerCaseAttributeNames:!1};function l(a,u){if(typeof a!="string")throw new TypeError("First argument must be a string");return a?(0,i.default)((0,n.default)(a,(u==null?void 0:u.htmlparser2)||s),u):[]}t.default=l})(Kv);const cg=hf(Kv),Ih=cg.default||cg;function fx({comment:t}){const e=Ae(),{closeModal:n}=Ke(),r=async o=>{o.preventDefault(),await e(yM(t)),await e(Or()),n()},i=()=>{n()};return m.jsxs("div",{className:"comment-modal-main-container",children:[m.jsx("h3",{className:"comment-modal-titles",children:"Are you sure you want to delete this comment?"}),m.jsxs("div",{className:"comment-modal",children:[m.jsx("button",{className:"modal-button delete-comment",onClick:r,children:"Yes, delete"}),m.jsx("button",{className:"modal-button delete-comment",onClick:i,children:"No, do not delete"})]})]})}function hx({comment:t}){const e=Ae(),{closeModal:n}=Ke(),[r,i]=w.useState(t.comment),o=async s=>{if(s.preventDefault(),r.length>600||r<=0)return;const l={id:t.id,userId:t.user_id,entryId:t.entry_id,comment:r};await e(gM(l)),await e(Or()),n()};return m.jsx("div",{id:"edit-comment-modal",children:m.jsx("form",{onSubmit:o,children:m.jsxs("div",{className:"edit-comment-inner-form",children:[m.jsx("label",{className:"edit-comment-label",children:"Edit Comment:"}),m.jsx("textarea",{className:"edit-comment-input",rows:16,type:"text",value:r,onChange:s=>i(s.target.value)}),m.jsxs("div",{className:"comment-validation-and-button",children:[m.jsx("p",{className:r.length>600||r.length<=0?"comment-error":"comment-length",children:`Comment must be under: ${r.length}/600`}),m.jsx("button",{className:" edit-comment-button modal-button",type:"submit",children:"Edit Comment"})]})]})})})}function ST(){const{entryId:t}=So(),e=ue(s=>s.entries[t]),n=ue(s=>s.users),r=ue(s=>s.session.user),[i,o]=w.useState(!1);if(w.useEffect(()=>{e&&o(!0)},[e]),i)return m.jsxs("div",{className:"entry-preview-content-container",children:[e!=null&&e.content?m.jsx("div",{className:"entry-preview-content-container",children:m.jsx("div",{id:"entry-preview-content",type:"HTML",children:e.content?Ih(e.content):""})}):m.jsx("p",{id:"entry-preview-content",children:"It looks like you havn't written anything yet.  Click on the edit entry button to get started!"}),(e==null?void 0:e.content)==="<p></p>"&&m.jsx("p",{children:"It looks like you havn't written anything yet.  Click on the edit entry button to get started!"}),m.jsx("h1",{className:"entrypage-underline"}),m.jsx("div",{children:e!=null&&e.comments?m.jsxs("div",{children:[m.jsx("h2",{children:"Comments on your Entry:"}),e==null?void 0:e.comments.map(s=>{var l,a;return m.jsxs("div",{children:[m.jsxs("div",{className:"entrypage-comment-title",children:[m.jsxs("div",{className:"post-user-container",children:[m.jsx("img",{src:(l=n[s.user_id])==null?void 0:l.profile_image}),m.jsx("div",{children:(a=n[s.user_id])==null?void 0:a.username})]}),m.jsxs("div",{children:[s.user_id===r.id?m.jsx("div",{className:"entrypage-delete-comment",children:m.jsx(Ut,{buttonText:"Edit Comment",modalComponent:m.jsx(hx,{comment:s})})}):"",m.jsx("div",{className:"entrypage-delete-comment",children:m.jsx(Ut,{buttonText:"Delete Comment",modalComponent:m.jsx(fx,{comment:s})})})]})]}),m.jsx("div",{className:"entrypage-comment",children:s.comment})]},s.id)})]}):m.jsx("h3",{children:"You have no comments on this entry"})}),m.jsx("h1",{className:"entrypage-underline"})]})}function Ge(t){this.content=t}Ge.prototype={constructor:Ge,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Ge(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ge(n)},addToStart:function(t,e){return new Ge([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ge(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Ge(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ge.from(t),t.size?new Ge(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ge.from(t),t.size?new Ge(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ge.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ge.from=function(t){if(t instanceof Ge)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ge(e)};function px(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=px(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function mx(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),a=s.nodeSize;if(s==l){n-=a,r-=a;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let u=0,c=Math.min(s.text.length,l.text.length);for(;u<c&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let u=mx(s.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class O{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let a=this.content[s],u=l+a.nodeSize;if(u>e&&r(a,i+l,o||null,s)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(l,a)=>{let u=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(s?s=!1:o+=r),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new O(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],a=s+l.nodeSize;a>e&&((s<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=a}return new O(r,i)}cutByIndex(e,n){return e==n?O.empty:e==0&&n==this.content.length?this:new O(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new O(i,o)}addToStart(e){return new O([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new O(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return px(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return mx(this,e,n,r)}findIndex(e,n=-1){if(e==0)return kl(0,e);if(e==this.size)return kl(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?kl(r+1,s):kl(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return O.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new O(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return O.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new O(n||e,r)}static from(e){if(!e)return O.empty;if(e instanceof O)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new O([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}O.empty=new O([],0);const Ec={index:0,offset:0};function kl(t,e){return Ec.index=t,Ec.offset=e,Ec}function ya(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!ya(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!ya(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let se=class Wd{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ya(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Wd.none;if(e instanceof Wd)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};se.none=[];class va extends Error{}class I{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=yx(this.content,e+this.openStart,n);return r&&new I(r,this.openStart,this.openEnd)}removeBetween(e,n){return new I(gx(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return I.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new I(O.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new I(e,r,i)}}I.empty=new I(O.empty,0,0);function gx(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:l}=t.findIndex(n);if(i==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(gx(o.content,e-i-1,n-i-1)))}function yx(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=yx(s.content,e-o-1,n);return l&&t.replaceChild(i,s.copy(l))}function kT(t,e,n){if(n.openStart>t.depth)throw new va("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new va("Inconsistent open depths");return vx(t,e,n,0)}function vx(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=vx(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,l=s.content;return ei(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=wT(n,t);return ei(o,Sx(t,s,l,e,r))}else return ei(o,xa(t,e,r))}function xx(t,e){if(!e.type.compatibleContent(t.type))throw new va("Cannot join "+e.type.name+" onto "+t.type.name)}function Kd(t,e,n){let r=t.node(n);return xx(r,e.node(n)),r}function Zr(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function as(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Zr(t.nodeAfter,r),o++));for(let l=o;l<s;l++)Zr(i.child(l),r);e&&e.depth==n&&e.textOffset&&Zr(e.nodeBefore,r)}function ei(t,e){return t.type.checkContent(e),t.copy(e)}function Sx(t,e,n,r,i){let o=t.depth>i&&Kd(t,e,i+1),s=r.depth>i&&Kd(n,r,i+1),l=[];return as(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(xx(o,s),Zr(ei(o,Sx(t,e,n,r,i+1)),l)):(o&&Zr(ei(o,xa(t,e,i+1)),l),as(e,n,i,l),s&&Zr(ei(s,xa(n,r,i+1)),l)),as(r,null,i,l),new O(l)}function xa(t,e,n){let r=[];if(as(null,t,n,r),t.depth>n){let i=Kd(t,e,n+1);Zr(ei(i,xa(t,e,n+1)),r)}return as(e,null,n,r),new O(r)}function wT(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(O.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Ds{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return se.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Sa(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(o),u=o-a;if(r.push(s,l,i+a),!u||(s=s.child(l),s.isText))break;o=u-1,i+=a+1}return new Ds(n,r,o)}static resolveCached(e,n){for(let i=0;i<Cc.length;i++){let o=Cc[i];if(o.pos==n&&o.doc==e)return o}let r=Cc[bc]=Ds.resolve(e,n);return bc=(bc+1)%ET,r}}let Cc=[],bc=0,ET=12;class Sa{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const CT=Object.create(null);let ti=class Jd{constructor(e,n,r,i=se.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||O.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&ya(this.attrs,n||e.defaultAttrs||CT)&&se.sameSet(this.marks,r||se.none)}copy(e=null){return e==this.content?this:new Jd(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Jd(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return I.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),u=i.node(s).content.cut(i.pos-l,o.pos-l);return new I(u,i.depth-s,o.depth-s)}replace(e,n,r){return kT(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Ds.resolveCached(this,e)}resolveNoCache(e){return Ds.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),kx(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=O.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=i;a<o;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=se.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!se.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=O.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};ti.prototype.text=void 0;class ka extends ti{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):kx(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ka(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ka(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function kx(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class fi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new bT(e,n);if(r.next==null)return fi.empty;let i=wx(r);r.next&&r.err("Unexpected trailing text");let o=DT(RT(i));return AT(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,l){let a=s.matchFragment(e,r);if(a&&(!n||a.validEnd))return O.from(l.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:d}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,l.concat(c));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:a}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}fi.empty=new fi(!0);class bT{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function wx(t){let e=[];do e.push(MT(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function MT(t){let e=[];do e.push(NT(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function NT(t){let e=PT(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=TT(t,e);else break;return e}function dg(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function TT(t,e){let n=dg(t),r=n;return t.eat(",")&&(t.next!="}"?r=dg(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function OT(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function PT(t){if(t.eat("(")){let e=wx(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=OT(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function RT(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,l,a){let u={term:a,to:l};return e[s].push(u),u}function i(s,l){s.forEach(a=>a.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((a,u)=>a.concat(o(u,l)),[]);if(s.type=="seq")for(let a=0;;a++){let u=o(s.exprs[a],l);if(a==s.exprs.length-1)return u;i(u,l=n())}else if(s.type=="star"){let a=n();return r(l,a),i(o(s.expr,a),a),[r(a)]}else if(s.type=="plus"){let a=n();return i(o(s.expr,l),a),i(o(s.expr,a),a),[r(a)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let a=l;for(let u=0;u<s.min;u++){let c=n();i(o(s.expr,a),c),a=c}if(s.max==-1)i(o(s.expr,a),a);else for(let u=s.min;u<s.max;u++){let c=n();r(a,c),i(o(s.expr,a),c),a=c}return[r(a)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function Ex(t,e){return e-t}function fg(t,e){let n=[];return r(e),n.sort(Ex);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:a}=o[s];!l&&n.indexOf(a)==-1&&r(a)}}}function DT(t){let e=Object.create(null);return n(fg(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<i.length;c++)i[c][0]==l&&(u=i[c][1]);fg(t,a).forEach(c=>{u||i.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new fi(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort(Ex);o.next.push({type:i[s][0],next:e[l.join(",")]||n(l)})}return o}}function AT(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];s.push(a.name),o&&!(a.isText||a.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Cx(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function bx(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Mx(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new jT(t[n]);return e}let hg=class Nx{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Mx(r.attrs),this.defaultAttrs=Cx(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==fi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:bx(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ti(this,this.computeAttrs(e),O.from(n),se.setFrom(r))}createChecked(e=null,n,r){return n=O.from(n),this.checkContent(n),new ti(this,this.computeAttrs(e),n,se.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=O.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(O.empty,!0);return o?new ti(this,e,n.append(o),se.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:se.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new Nx(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class jT{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class bu{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Mx(i.attrs),this.excluded=null;let o=Cx(this.attrs);this.instance=o?new se(this,o):null}create(e=null){return!e&&this.instance?this.instance:new se(this,bx(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new bu(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class IT{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Ge.from(e.nodes),n.marks=Ge.from(e.marks||{}),this.nodes=hg.compile(this.spec.nodes,this),this.marks=bu.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",l=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=fi.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=l=="_"?null:l?pg(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:pg(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof hg){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new ka(r,r.defaultAttrs,e,se.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return ti.fromJSON(this,e)}markFromJSON(e){return se.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function pg(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let l in t.marks){let a=t.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function LT(t){return t.tag!=null}function _T(t){return t.style!=null}class lo{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{LT(r)?this.tags.push(r):_T(r)&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new gg(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new gg(this,n,!0);return r.addAll(e,n.from,n.to),I.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(BT(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=yg(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=yg(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new lo(e,lo.schemaRules(e)))}}const Tx={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},zT={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ox={ol:!0,ul:!0},wa=1,Ea=2,us=4;function mg(t,e,n){return e!=null?(e?wa:0)|(e==="full"?Ea:0):t&&t.whitespace=="pre"?wa|Ea:n&~us}class wl{constructor(e,n,r,i,o,s,l){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=l,this.content=[],this.activeMarks=se.none,this.stashMarks=[],this.match=s||(l&us?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(O.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&wa)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=O.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(O.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):$T(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Tx.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class gg{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=mg(null,n.preserveWhitespace,0)|(r?us:0);i?o=new wl(i.type,i.attrs,se.none,se.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new wl(null,null,se.none,se.none,!0,null,s):o=new wl(e.schema.topNodeType,null,se.none,se.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.style;if(!r||!r.length)return n();let i=this.readStyles(e.style);if(!i)return;let[o,s]=i,l=this.top;for(let a=0;a<s.length;a++)this.removePendingMark(s[a],l);for(let a=0;a<o.length;a++)this.addPendingMark(o[a]);n();for(let a=0;a<o.length;a++)this.removePendingMark(o[a],l);for(let a=0;a<s.length;a++)this.addPendingMark(s[a])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&Ea||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&wa)r.options&Ea?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;Ox.hasOwnProperty(r)&&this.parser.normalizeLists&&FT(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:zT.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,l=this.top,a=this.needsBlock;if(Tx.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),s=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(l),this.needsBlock=a}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,o.consuming===!1?i:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=se.none,r=se.none;for(let i=0,o=e.length;i<o;i++){let s=e.item(i);for(let l=void 0;;){let a=this.parser.matchStyle(s,e.getPropertyValue(s),this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(u=>{a.clearMark(u)&&(r=u.addToSet(r))}):n=this.parser.schema.marks[a.mark].create(a.attrs).addToSet(n),a.consuming===!1)l=a;else break}}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a)}i&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=mg(e,i,o.options);o.options&us&&o.content.length==0&&(s|=us),this.nodes.push(new wl(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=o;a--)if(s(l-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=VT(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function FT(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Ox.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function BT(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function yg(t){let e={};for(let n in t)e[n]=t[n];return e}function $T(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=l=>{o.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}function VT(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class wn{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Mc(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,a=0;for(;l<o.length&&a<s.marks.length;){let u=s.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(o[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<o.length;)i=o.pop()[1];for(;a<s.marks.length;){let u=s.marks[a++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=wn.renderSpec(Mc(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&wn.renderSpec(Mc(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,l=r?e.createElementNS(r,i):e.createElement(i),a=n[1],u=1;if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){u=2;for(let c in a)if(a[c]!=null){let d=c.indexOf(" ");d>0?l.setAttributeNS(c.slice(0,d),c.slice(d+1),a[c]):l.setAttribute(c,a[c])}}for(let c=u;c<n.length;c++){let d=n[c];if(d===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:p}=wn.renderSpec(e,d,r);if(l.appendChild(f),p){if(s)throw new RangeError("Multiple content holes");s=p}}}return{dom:l,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new wn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=vg(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return vg(e.marks)}}function vg(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Mc(t){return t.document||window.document}const Px=65535,Rx=Math.pow(2,16);function HT(t,e){return t+e*Rx}function xg(t){return t&Px}function UT(t){return(t-(t&Px))/Rx}const Dx=1,Ax=2,zl=4,jx=8;class qd{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&jx)>0}get deletedBefore(){return(this.delInfo&(Dx|zl))>0}get deletedAfter(){return(this.delInfo&(Ax|zl))>0}get deletedAcross(){return(this.delInfo&zl)>0}}class Pt{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Pt.empty)return Pt.empty}recover(e){let n=0,r=xg(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+UT(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+o],c=this.ranges[l+s],d=a+u;if(e<=d){let f=u?e==a?-1:e==d?1:n:n,p=a+i+(f<0?0:c);if(r)return p;let h=e==(n<0?a:d)?null:HT(l/3,e-a),g=e==a?Ax:e==d?Dx:zl;return(n<0?e!=a:e!=d)&&(g|=jx),new qd(p,g,h)}i+=c-u}return r?e+i:new qd(e+i,0,null)}touches(e,n){let r=0,i=xg(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+o],c=a+u;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),a=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(l,l+u,a,a+c),o+=c-u}}invert(){return new Pt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Pt.empty:new Pt(e<0?[0,-e,0]:[0,0,e])}}Pt.empty=new Pt([]);class qi{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new qi(this.maps,this.mirror,e,n)}copy(){return new qi(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new qi;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(o);if(a!=null&&a>o&&a<this.to){o=a,e=this.maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new qd(e,i,null)}}const Nc=Object.create(null);class at{getMap(){return Pt.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Nc[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Nc)throw new RangeError("Duplicate use of step JSON ID "+e);return Nc[e]=n,n.prototype.jsonID=e,n}}class De{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new De(e,null)}static fail(e){return new De(null,e)}static fromReplace(e,n,r,i){try{return De.ok(e.replace(n,r,i))}catch(o){if(o instanceof va)return De.fail(o.message);throw o}}}function Lh(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Lh(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return O.fromArray(r)}class ar extends at{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new I(Lh(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return De.fromReplace(e,this.from,this.to,o)}invert(){return new En(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ar(n.pos,r.pos,this.mark)}merge(e){return e instanceof ar&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ar(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ar(n.from,n.to,e.markFromJSON(n.mark))}}at.jsonID("addMark",ar);class En extends at{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new I(Lh(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return De.fromReplace(e,this.from,this.to,r)}invert(){return new ar(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new En(n.pos,r.pos,this.mark)}merge(e){return e instanceof En&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new En(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new En(n.from,n.to,e.markFromJSON(n.mark))}}at.jsonID("removeMark",En);class ur extends at{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return De.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return De.fromReplace(e,this.pos,this.pos+1,new I(O.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new ur(this.pos,n.marks[i]);return new ur(this.pos,this.mark)}}return new ao(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ur(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ur(n.pos,e.markFromJSON(n.mark))}}at.jsonID("addNodeMark",ur);class ao extends at{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return De.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return De.fromReplace(e,this.pos,this.pos+1,new I(O.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ur(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ao(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ao(n.pos,e.markFromJSON(n.mark))}}at.jsonID("removeNodeMark",ao);class Be extends at{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Gd(e,this.from,this.to)?De.fail("Structure replace would overwrite content"):De.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Pt([this.from,this.to-this.from,this.slice.size])}invert(e){return new Be(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Be(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Be)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?I.empty:new I(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Be(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?I.empty:new I(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Be(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Be(n.from,n.to,I.fromJSON(e,n.slice),!!n.structure)}}at.jsonID("replace",Be);class Ve extends at{constructor(e,n,r,i,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(Gd(e,this.from,this.gapFrom)||Gd(e,this.gapTo,this.to)))return De.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return De.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?De.fromReplace(e,this.from,this.to,r):De.fail("Content does not fit in gap")}getMap(){return new Pt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ve(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ve(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ve(n.from,n.to,n.gapFrom,n.gapTo,I.fromJSON(e,n.slice),n.insert,!!n.structure)}}at.jsonID("replaceAround",Ve);function Gd(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function WT(t,e,n,r){let i=[],o=[],s,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let d=a.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,e),p=Math.min(u+a.nodeSize,n),h=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(h)||(s&&s.to==f&&s.mark.eq(d[g])?s.to=p:i.push(s=new En(f,p,d[g])));l&&l.to==f?l.to=p:o.push(l=new ar(f,p,r))}}),i.forEach(a=>t.step(a)),o.forEach(a=>t.step(a))}function KT(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;o++;let a=null;if(r instanceof bu){let u=s.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(s.marks)&&(a=[r]):a=s.marks;if(a&&a.length){let u=Math.min(l+s.nodeSize,n);for(let c=0;c<a.length;c++){let d=a[c],f;for(let p=0;p<i.length;p++){let h=i[p];h.step==o-1&&d.eq(i[p].style)&&(f=h)}f?(f.to=u,f.step=o):i.push({style:d,from:Math.max(l,e),to:u,step:o})}}}),i.forEach(s=>t.step(new En(s.from,s.to,s.style)))}function Ix(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),s=[],l=e+1;for(let a=0;a<o.childCount;a++){let u=o.child(a),c=l+u.nodeSize,d=r.matchType(u.type);if(!d)s.push(new Be(l,c,I.empty));else{r=d;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||t.step(new En(l,c,u.marks[f]));if(i&&u.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,h;for(;f=p.exec(u.text);)h||(h=new I(O.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),s.push(new Be(l+f.index,l+f.index+f[0].length,h))}}l=c}if(!r.validEnd){let a=r.fillBefore(O.empty,!0);t.replace(l,l,new I(a,0,0))}for(let a=s.length-1;a>=0;a--)t.step(s[a])}function JT(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ko(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!JT(i,o,s))break}return null}function qT(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),l=i.after(o+1),a=s,u=l,c=O.empty,d=0;for(let h=o,g=!1;h>n;h--)g||r.index(h)>0?(g=!0,c=O.from(r.node(h).copy(c)),d++):a--;let f=O.empty,p=0;for(let h=o,g=!1;h>n;h--)g||i.after(h+1)<i.end(h)?(g=!0,f=O.from(i.node(h).copy(f)),p++):u++;t.step(new Ve(a,u,s,l,new I(c.append(f),d,p),c.size-d,!0))}function _h(t,e,n=null,r=t){let i=GT(t,e),o=i&&YT(r,e);return o?i.map(Sg).concat({type:e,attrs:n}).concat(o.map(Sg)):null}function Sg(t){return{type:t,attrs:null}}function GT(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function YT(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;a&&u<i;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:s}function QT(t,e,n){let r=O.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=O.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Ve(i,o,i,o,new I(r,0,0),n.length,!0))}function XT(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&tO(t.doc,t.mapping.slice(o).map(l),r)){let a=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!p?a=!1:!f&&p&&(a=!0)}a===!1&&eO(t,s,l,o),Ix(t,t.mapping.slice(o).map(l,1),r,void 0,a===null);let u=t.mapping.slice(o),c=u.map(l,1),d=u.map(l+s.nodeSize,1);return t.step(new Ve(c,d,c+1,d-1,new I(O.from(r.create(i,null,s.marks)),0,0),1,!0)),a===!0&&ZT(t,s,l,o),!1}})}function ZT(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(i.text);){let a=t.mapping.slice(r).map(n+1+o+s.index);t.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function eO(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+o);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function tO(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function nO(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ve(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new I(O.from(s),0,0),1,!0))}function Gi(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),h=r&&r[c+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let g=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(p))return!1}let l=i.indexAfter(o),a=r&&r[0];return i.node(o).canReplaceWith(l,l,a?a.type:i.node(o+1).type)}function rO(t,e,n=1,r){let i=t.doc.resolve(e),o=O.empty,s=O.empty;for(let l=i.depth,a=i.depth-n,u=n-1;l>a;l--,u--){o=O.from(i.node(l).copy(o));let c=r&&r[u];s=O.from(c?c.type.create(c.attrs,s):i.node(l).copy(s))}t.step(new Be(e,e,new I(o.append(s),n,n),!0))}function Dr(t,e){let n=t.resolve(e),r=n.index();return Lx(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Lx(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function Mu(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,l=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),l++,s=r.node(i).maybeChild(l)):(o=r.node(i).maybeChild(l-1),s=r.node(i+1)),o&&!o.isTextblock&&Lx(o,s)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function iO(t,e,n){let r=new Be(e-n,e+n,I.empty,!0);t.step(r)}function oO(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function _x(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,a=r.index(s)+(l>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(a,a,i);else{let d=u.contentMatchAt(a).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(a,a,d[0])}if(c)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function Nu(t,e,n=e,r=I.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return zx(i,o,r)?new Be(e,n,r):new sO(i,o,r).fit()}function zx(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class sO{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=O.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=O.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let a=new I(o,s,l);return e>-1?new Ve(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new Be(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Tc(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],c,d=null;if(n==1&&(s?u.matchType(s.type)||(d=u.fillBefore(O.from(s),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:l,parent:o,inject:d};if(n==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Tc(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new I(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Tc(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new I(Wo(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new I(Wo(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,l=r?r.content:s.content,a=s.openStart-e,u=0,c=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)c.push(i.child(g));d=d.matchFragment(i)}let p=l.size+e-(s.content.size-s.openEnd);for(;u<l.childCount;){let g=l.child(u),x=d.matchType(g.type);if(!x)break;u++,(u>1||a==0||g.content.size)&&(d=x,c.push(Fx(g.mark(f.allowedMarks(g.marks)),u==1?a:0,u==l.childCount?p:-1)))}let h=u==l.childCount;h||(p=-1),this.placed=Ko(this.placed,n,O.from(c)),this.frontier[n].match=d,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,x=l;g<p;g++){let y=x.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),x=y.content}this.unplaced=h?e==0?I.empty:new I(Wo(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new I(Wo(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Oc(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Oc(e,n,i,r,o);if(s){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=Oc(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ko(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ko(this.placed,this.depth,O.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(O.empty,!0);n.childCount&&(this.placed=Ko(this.placed,this.frontier.length,n))}}function Wo(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Wo(t.firstChild.content,e-1,n)))}function Ko(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ko(t.lastChild.content,e-1,n)))}function Tc(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Fx(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Fx(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(O.empty,!0)))),t.copy(r)}function Oc(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!lO(n,o.content,s)?l:null}function lO(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function aO(t){return t.spec.defining||t.spec.definingForContent}function uO(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(zx(i,o,r))return t.step(new Be(e,n,r));let s=$x(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let h=i.node(f).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;s.indexOf(f)>-1?l=f:i.before(f)==p&&s.splice(1,0,-f)}let a=s.indexOf(l),u=[],c=r.openStart;for(let f=r.content,p=0;;p++){let h=f.firstChild;if(u.push(h),p==r.openStart)break;f=h.content}for(let f=c-1;f>=0;f--){let p=u[f],h=aO(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(l)-1)))c=f;else if(h||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+c+1)%(r.openStart+1),h=u[p];if(h)for(let g=0;g<s.length;g++){let x=s[(g+a)%s.length],y=!0;x<0&&(y=!1,x=-x);let v=i.node(x-1),k=i.index(x-1);if(v.canReplaceWith(k,k,h.type,h.marks))return t.replace(i.before(x),y?o.after(x):n,new I(Bx(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let p=s[f];p<0||(e=i.before(p),n=o.after(p))}}function Bx(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(Bx(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(O.empty,!0))}return t}function cO(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=oO(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new I(O.from(r),0,0))}function dO(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=$x(r,i);for(let s=0;s<o.length;s++){let l=o[s],a=s==o.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function $x(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class Yi extends at{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return De.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return De.fromReplace(e,this.pos,this.pos+1,new I(O.from(i),0,n.isLeaf?0:1))}getMap(){return Pt.empty}invert(e){return new Yi(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Yi(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Yi(n.pos,n.attr,n.value)}}at.jsonID("attr",Yi);class As extends at{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return De.ok(r)}getMap(){return Pt.empty}invert(e){return new As(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new As(n.attr,n.value)}}at.jsonID("docAttr",As);let uo=class extends Error{};uo=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};uo.prototype=Object.create(Error.prototype);uo.prototype.constructor=uo;uo.prototype.name="TransformError";class fO{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new qi}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new uo(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=I.empty){let i=Nu(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new I(O.from(r),0,0))}delete(e,n){return this.replace(e,n,I.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return uO(this,e,n,r),this}replaceRangeWith(e,n,r){return cO(this,e,n,r),this}deleteRange(e,n){return dO(this,e,n),this}lift(e,n){return qT(this,e,n),this}join(e,n=1){return iO(this,e,n),this}wrap(e,n){return QT(this,e,n),this}setBlockType(e,n=e,r,i=null){return XT(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return nO(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Yi(e,n,r)),this}setDocAttribute(e,n){return this.step(new As(e,n)),this}addNodeMark(e,n){return this.step(new ur(e,n)),this}removeNodeMark(e,n){if(!(n instanceof se)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new ao(e,n)),this}split(e,n=1,r){return rO(this,e,n,r),this}addMark(e,n,r){return WT(this,e,n,r),this}removeMark(e,n,r){return KT(this,e,n,r),this}clearIncompatible(e,n,r){return Ix(this,e,n,r),this}}const Pc=Object.create(null);class q{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new hO(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=I.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:u}=s[l],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(u.pos),l?I.empty:n),l==0&&Eg(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],a=e.mapping.slice(r),u=a.map(s.pos),c=a.map(l.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),Eg(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new K(e):Ei(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?Ei(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Ei(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new fn(e.node(0))}static atStart(e){return Ei(e,e,0,0,1)||new fn(e)}static atEnd(e){return Ei(e,e,e.content.size,e.childCount,-1)||new fn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Pc[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Pc)throw new RangeError("Duplicate use of selection JSON ID "+e);return Pc[e]=n,n.prototype.jsonID=e,n}getBookmark(){return K.between(this.$anchor,this.$head).getBookmark()}}q.prototype.visible=!0;class hO{constructor(e,n){this.$from=e,this.$to=n}}let kg=!1;function wg(t){!kg&&!t.parent.inlineContent&&(kg=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class K extends q{constructor(e,n=e){wg(e),wg(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return q.near(r);let i=e.resolve(n.map(this.anchor));return new K(i.parent.inlineContent?i:r,r)}replace(e,n=I.empty){if(super.replace(e,n),n==I.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof K&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Tu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new K(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=q.findFrom(n,r,!0)||q.findFrom(n,-r,!0);if(o)n=o.$head;else return q.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(q.findFrom(e,-r,!0)||q.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new K(e,n)}}q.jsonID("text",K);class Tu{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Tu(e.map(this.anchor),e.map(this.head))}resolve(e){return K.between(e.resolve(this.anchor),e.resolve(this.head))}}class V extends q{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?q.near(o):new V(o)}content(){return new I(O.from(this.node),0,0)}eq(e){return e instanceof V&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new zh(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new V(e.resolve(n.anchor))}static create(e,n){return new V(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}V.prototype.visible=!1;q.jsonID("node",V);class zh{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Tu(r,r):new zh(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&V.isSelectable(r)?new V(n):q.near(n)}}class fn extends q{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=I.empty){if(n==I.empty){e.delete(0,e.doc.content.size);let r=q.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new fn(e)}map(e){return new fn(e)}eq(e){return e instanceof fn}getBookmark(){return pO}}q.jsonID("all",fn);const pO={map(){return this},resolve(t){return new fn(t)}};function Ei(t,e,n,r,i,o=!1){if(e.inlineContent)return K.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&V.isSelectable(l))return V.create(t,n-(i<0?l.nodeSize:0))}else{let a=Ei(t,l,n+i,i<0?l.childCount:0,i,o);if(a)return a}n+=l.nodeSize*i}return null}function Eg(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Be||i instanceof Ve))return;let o=t.mapping.maps[r],s;o.forEach((l,a,u,c)=>{s==null&&(s=c)}),t.setSelection(q.near(t.doc.resolve(s),n))}const Cg=1,El=2,bg=4;class mO extends fO{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Cg)&~El,this.storedMarks=null,this}get selectionSet(){return(this.updated&Cg)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=El,this}ensureMarks(e){return se.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&El)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~El,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||se.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(q.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=bg,this}get scrolledIntoView(){return(this.updated&bg)>0}}function Mg(t,e){return!e||!t?t:t.bind(e)}class Jo{constructor(e,n,r){this.name=e,this.init=Mg(n.init,r),this.apply=Mg(n.apply,r)}}const gO=[new Jo("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Jo("selection",{init(t,e){return t.selection||q.atStart(e.doc)},apply(t){return t.selection}}),new Jo("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Jo("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Rc{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=gO.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Jo(r.key,r.spec.state,r))})}}class zi{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=i?i[s].n:0,u=i?i[s].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new zi(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new mO(this)}static create(e){let n=new Rc(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new zi(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Rc(this.schema,e.plugins),r=n.fields,i=new zi(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Rc(e.schema,e.plugins),o=new zi(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=ti.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=q.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=u.fromJSON.call(a,e,n[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function Vx(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Vx(i,e,{})),n[r]=i}return n}class en{constructor(e){this.spec=e,this.props={},e.props&&Vx(e.props,this,this.props),this.key=e.key?e.key.key:Hx("plugin")}getState(e){return e[this.key]}}const Dc=Object.create(null);function Hx(t){return t in Dc?t+"$"+ ++Dc[t]:(Dc[t]=0,t+"$")}class Ar{constructor(e="key"){this.key=Hx(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ye=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},js=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Yd=null;const An=function(t,e,n){let r=Yd||(Yd=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},yO=function(){Yd=null},hi=function(t,e,n,r){return n&&(Ng(t,e,n,r,-1)||Ng(t,e,n,r,1))},vO=/^(img|br|input|textarea|hr)$/i;function Ng(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:kn(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Js(t)||vO.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ye(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?kn(t):0}else return!1}}function kn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function xO(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=kn(t)}else if(t.parentNode&&!Js(t))e=Ye(t),t=t.parentNode;else return null}}function SO(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Js(t))e=Ye(t)+1,t=t.parentNode;else return null}}function kO(t,e,n){for(let r=e==0,i=e==kn(t);r||i;){if(t==n)return!0;let o=Ye(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==kn(t)}}function Js(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Ou=function(t){return t.focusNode&&hi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Vr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function wO(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function EO(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Mn=typeof navigator<"u"?navigator:null,Tg=typeof document<"u"?document:null,jr=Mn&&Mn.userAgent||"",Qd=/Edge\/(\d+)/.exec(jr),Ux=/MSIE \d/.exec(jr),Xd=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(jr),Mt=!!(Ux||Xd||Qd),xr=Ux?document.documentMode:Xd?+Xd[1]:Qd?+Qd[1]:0,pn=!Mt&&/gecko\/(\d+)/i.test(jr);pn&&+(/Firefox\/(\d+)/.exec(jr)||[0,0])[1];const Zd=!Mt&&/Chrome\/(\d+)/.exec(jr),ft=!!Zd,CO=Zd?+Zd[1]:0,pt=!Mt&&!!Mn&&/Apple Computer/.test(Mn.vendor),co=pt&&(/Mobile\/\w+/.test(jr)||!!Mn&&Mn.maxTouchPoints>2),Bt=co||(Mn?/Mac/.test(Mn.platform):!1),bO=Mn?/Win/.test(Mn.platform):!1,an=/Android \d/.test(jr),qs=!!Tg&&"webkitFontSmoothing"in Tg.documentElement.style,MO=qs?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function NO(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Rn(t,e){return typeof t=="number"?t:t[e]}function TO(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Og(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=js(s)){if(s.nodeType!=1)continue;let l=s,a=l==o.body,u=a?NO(o):TO(l),c=0,d=0;if(e.top<u.top+Rn(r,"top")?d=-(u.top-e.top+Rn(i,"top")):e.bottom>u.bottom-Rn(r,"bottom")&&(d=e.bottom-e.top>u.bottom-u.top?e.top+Rn(i,"top")-u.top:e.bottom-u.bottom+Rn(i,"bottom")),e.left<u.left+Rn(r,"left")?c=-(u.left-e.left+Rn(i,"left")):e.right>u.right-Rn(r,"right")&&(c=e.right-u.right+Rn(i,"right")),c||d)if(a)o.defaultView.scrollBy(c,d);else{let f=l.scrollLeft,p=l.scrollTop;d&&(l.scrollTop+=d),c&&(l.scrollLeft+=c);let h=l.scrollLeft-f,g=l.scrollTop-p;e={left:e.left-h,top:e.top-g,right:e.right-h,bottom:e.bottom-g}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function OO(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(o,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:Wx(t.dom)}}function Wx(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=js(r));return e}function PO({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Kx(n,r==0?0:r-e)}function Kx(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ki=null;function RO(t){if(t.setActive)return t.setActive();if(ki)return t.focus(ki);let e=Wx(t);t.focus(ki==null?{get preventScroll(){return ki={preventScroll:!0},!0}}:void 0),ki||(ki=!1,Kx(e,0))}function Jx(t,e){let n,r=2e8,i,o=0,s=e.top,l=e.top,a,u;for(let c=t.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=An(c).getClientRects();else continue;for(let p=0;p<f.length;p++){let h=f[p];if(h.top<=s&&h.bottom>=l){s=Math.max(h.bottom,s),l=Math.min(h.top,l);let g=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(g<r){n=c,r=g,i=g&&n.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&g&&(o=d+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!a&&h.left<=e.left&&h.right>=e.left&&(a=c,u={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=d+1)}}return!n&&a&&(n=a,i=u,r=0),n&&n.nodeType==3?DO(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:Jx(n,i)}function DO(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Xn(r,1);if(o.top!=o.bottom&&Fh(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Fh(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function AO(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function jO(t,e,n){let{node:r,offset:i}=Jx(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function IO(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let l=t.docView.nearestDesc(o,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&(!s&&a.left>r.left||a.top>r.top?i=l.posBefore:(!s&&a.right<r.left||a.bottom<r.top)&&(i=l.posAfter),s=!0),!l.contentDOM&&i<0&&!l.node.isText)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}o=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function qx(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(Fh(e,u))return qx(s,e,u)}}if((o=(o+1)%r)==i)break}return t}function LO(t,e){let n=t.dom.ownerDocument,r,i=0,o=EO(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=t.dom.getBoundingClientRect();if(!Fh(e,u)||(s=qx(t.dom,e,u),!s))return null}if(pt)for(let u=s;r&&u;u=js(u))u.draggable&&(r=void 0);if(s=AO(s,e),r){if(pn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let u;qs&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=IO(t,r,i,e))}l==null&&(l=jO(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function Pg(t){return t.top<t.bottom||t.left<t.right}function Xn(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Pg(r))return r}return Array.prototype.find.call(n,Pg)||t.getBoundingClientRect()}const _O=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Gx(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=qs||pn;if(r.nodeType==3)if(s&&(_O.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=Xn(An(r,i,i),n);if(pn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Xn(An(r,i-1,i-1),-1);if(u.top==a.top){let c=Xn(An(r,i,i+1),-1);if(c.top!=a.top)return Fo(c,c.left<u.left)}}return a}else{let a=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(a--,c=1):n<0?a--:u++,Fo(Xn(An(r,a,u),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==kn(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return Ac(a.getBoundingClientRect(),!1)}if(o==null&&i<kn(r)){let a=r.childNodes[i];if(a.nodeType==1)return Ac(a.getBoundingClientRect(),!0)}return Ac(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==kn(r))){let a=r.childNodes[i-1],u=a.nodeType==3?An(a,kn(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return Fo(Xn(u,1),!1)}if(o==null&&i<kn(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?An(a,0,s?0:1):a.nodeType==1?a:null:null;if(u)return Fo(Xn(u,-1),!0)}return Fo(Xn(r.nodeType==3?An(r):r,-n),n>=0)}function Fo(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ac(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Yx(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function zO(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return Yx(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.contentDOM||l.dom;break}o=l.dom.parentNode}let s=Gx(t,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=An(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const FO=/[\u0590-\u08ac]/;function BO(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=t.domSelection();return!FO.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:Yx(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:d}=t.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:h,focusOffset:g}=t.domSelectionRange(),x=h&&!p.contains(h.nodeType==1?h:h.parentNode)||a==h&&u==g;try{l.collapse(c,d),a&&(a!=c||u!=d)&&l.extend&&l.extend(a,u)}catch{}return f!=null&&(l.caretBidiLevel=f),x})}let Rg=null,Dg=null,Ag=!1;function $O(t,e,n){return Rg==e&&Dg==n?Ag:(Rg=e,Dg=n,Ag=n=="up"||n=="down"?zO(t,e,n):BO(t,e,n))}const Jt=0,jg=1,qr=2,Nn=3;class Gs{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Jt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Ye(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>e||s instanceof Xx){i=e-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Qx&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Ye(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Ye(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let a=this.children[l],u=s+a.size;if(i==-1&&e<=u){let c=s+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=s;for(let d=l;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Ye(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Ye(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let f=0,p=0;f<this.children.length;f++){let h=this.children[f],g=p+h.size;if(o>p&&s<g)return h.setSelection(e-p-h.border,n-p-h.border,r,i);p=g}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((pn||pt)&&e==n){let{node:f,offset:p}=l;if(f.nodeType==3){if(c=!!(p&&f.nodeValue[p-1]==`
`),c&&p==f.nodeValue.length)for(let h=f,g;h;h=h.parentNode){if(g=h.nextSibling){g.nodeName=="BR"&&(l=a={node:g.parentNode,offset:Ye(g)+1});break}let x=h.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let h=f.childNodes[p-1];c=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(pn&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||c&&pt)&&hi(l.node,l.offset,u.anchorNode,u.anchorOffset)&&hi(a.node,a.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||e==n)&&!c){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),d=!0}catch{}}if(!d){if(e>n){let p=l;l=a,a=p}let f=document.createRange();f.setEnd(a.node,a.offset),f.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let l=r+o.border,a=s-o.border;if(e>=l&&n<=a){this.dirty=e==r||n==s?qr:jg,e==l&&n==a&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Nn:o.markDirty(e-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?qr:Nn}r=s}this.dirty=qr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?qr:jg;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class Qx extends Gs{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Jt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class VO extends Gs{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class pi extends Gs{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=wn.renderSpec(document,n.type.spec.toDOM(n,r))),new pi(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Nn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Nn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Jt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Jt}}slice(e,n,r){let i=pi.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=nf(o,n,s,r)),e>0&&(o=nf(o,0,e,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}}class Sr extends Gs{constructor(e,n,r,i,o,s,l,a,u){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,o,s){let l=o.nodeViews[n.type.name],a,u=l&&l(n,o,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=wn.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=tS(c,r,n),u?a=new HO(e,n,r,i,c,d||null,f,u,o,s+1):n.isText?new Pu(e,n,r,i,c,f,o):new Sr(e,n,r,i,c,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>O.empty)}return e}matchesNode(e,n,r){return this.dirty==Jt&&e.eq(this.node)&&tf(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,a=new WO(this,s&&s.node,e);qO(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!d&&a.syncToMarks(c==this.node.childCount?se.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,i)},(u,c,d,f)=>{a.syncToMarks(u.marks,r,e);let p;a.findNodeMatch(u,c,d,f)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(u,c,d,p,e)||a.updateNextNode(u,c,d,e,f,i)||a.addNode(u,c,d,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==qr)&&(s&&this.protectLocalComposition(e,s),Zx(this.contentDOM,this.children,e),co&&GO(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof K)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,l=YO(this.node.content,s,r-n,i-n);return l<0?null:{node:o,pos:l,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new VO(this,o,n,i);e.input.compositionNodes.push(s),this.children=nf(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Nn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Jt}updateOuterDeco(e){if(tf(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=eS(this.dom,this.nodeDOM,ef(this.outerDeco,this.node,n),ef(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Ig(t,e,n,r,i){tS(r,e,t);let o=new Sr(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Pu extends Sr{constructor(e,n,r,i,o,s,l){super(e,n,r,i,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Nn||this.dirty!=Jt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Jt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Jt,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Pu(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Nn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Xx extends Gs{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Jt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class HO extends Sr{constructor(e,n,r,i,o,s,l,a,u,c){super(e,n,r,i,o,s,l,u,c),this.spec=a}update(e,n,r,i){if(this.dirty==Nn)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Zx(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==t){for(;l!=r;)r=Lg(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(s instanceof pi){let a=r?r.previousSibling:t.lastChild;Zx(s.contentDOM,s.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=Lg(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const cs=function(t){t&&(this.nodeName=t)};cs.prototype=Object.create(null);const Gr=[new cs];function ef(t,e,n){if(t.length==0)return Gr;let r=n?Gr[0]:new cs,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new cs(s.nodeName));for(let l in s){let a=s[l];a!=null&&(n&&i.length==1&&i.push(r=new cs(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function eS(t,e,n,r){if(n==Gr&&r==Gr)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let a;l&&l.nodeName==s.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=Gr[0]),i=a}UO(i,l||Gr[0],s)}return i}function UO(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function tS(t,e,n){return eS(t,t,Gr,ef(e,n,t.nodeType!=1))}function tf(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Lg(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class WO{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=KO(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Jt,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=pi.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Nn&&s.dom==s.contentDOM&&(s.dirty=qr),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Sr){let u=this.preMatch.matched.get(a);if(u!=null&&u!=o)return!1;let c=a.dom,d,f=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Nn&&tf(n,a.outerDeco));if(!f&&a.update(e,n,r,i))return this.destroyBetween(this.index,l),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(a,e,n,r,i,s)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=qr,d.updateChildren(i,s+1),d.dirty=Jt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let l=Sr.create(this.top,n,r,i,o,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,r,i,o){let s=Sr.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Qx(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof pi;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Pu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((pt||ft)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Xx(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function KO(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof pi)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function JO(t,e){return t.type.side-e.type.side}function qO(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,l=[],a=null;for(let u=0;;){let c,d;for(;s<i.length&&i[s].to==o;){let x=i[s++];x.widget&&(c?(d||(d=[c])).push(x):c=x)}if(c)if(d){d.sort(JO);for(let x=0;x<d.length;x++)n(d[x],u,!!a)}else n(c,u,!!a);let f,p;if(a)p=-1,f=a,a=null;else if(u<t.childCount)p=u,f=t.child(u++);else break;for(let x=0;x<l.length;x++)l[x].to<=o&&l.splice(x--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let h=o+f.nodeSize;if(f.isText){let x=h;s<i.length&&i[s].from<x&&(x=i[s].from);for(let y=0;y<l.length;y++)l[y].to<x&&(x=l[y].to);x<h&&(a=f.cut(x-o),f=f.cut(0,x-o),h=x,p=-1)}else for(;s<i.length&&i[s].to<h;)s++;let g=f.isInline&&!f.isLeaf?l.filter(x=>!x.inline):l.slice();r(f,g,e.forChild(o,f),p),o=h}}function GO(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function YO(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let a=s.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;a+=u.text}if(o>=n){if(o>=r&&a.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function nf(t,e,n,r,i){let o=[];for(let s=0,l=0;s<t.length;s++){let a=t[s],u=l,c=l+=a.size;u>=n||c<=e?o.push(a):(u<e&&o.push(a.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(a.slice(n-u,a.size,r)))}return o}function Bh(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),a,u;if(Ou(n)){for(a=l;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&V.isSelectable(c)&&i.parent&&!(c.isInline&&kO(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;u=new V(s==d?l:r.resolve(d))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;a=r.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;u=$h(t,a,l,c)}return u}function nS(t){return t.editable?t.hasFocus():iS(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Fn(t,e=!1){let n=t.state.selection;if(rS(t,n),!!nS(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ft){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&hi(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)XO(t);else{let{anchor:r,head:i}=n,o,s;_g&&!(n instanceof K)&&(n.$from.parent.inlineContent||(o=zg(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=zg(t,n.to))),t.docView.setSelection(r,i,t.root,e),_g&&(o&&Fg(o),s&&Fg(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&QO(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const _g=pt||ft&&CO<63;function zg(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(pt&&i&&i.contentEditable=="false")return jc(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return jc(i);if(o)return jc(o)}}function jc(t){return t.contentEditable="true",pt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Fg(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function QO(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!nS(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function XO(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,Ye(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Mt&&xr<=11&&(r.disabled=!0,r.disabled=!1)}function rS(t,e){if(e instanceof V){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Bg(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Bg(t)}function Bg(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function $h(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||K.between(e,n,r)}function $g(t){return t.editable&&!t.hasFocus()?!1:iS(t)}function iS(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function ZO(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return hi(e.node,e.offset,n.anchorNode,n.anchorOffset)}function rf(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&q.findFrom(o,e)}function tr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Vg(t,e,n){let r=t.state.selection;if(r instanceof K)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return tr(t,new K(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=rf(t.state,e);return i&&i instanceof V?tr(t,i):!1}else if(!(Bt&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?V.isSelectable(o)?tr(t,new V(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):qs?tr(t,new K(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof V&&r.node.isInline)return tr(t,new K(e>0?r.$to:r.$from));{let i=rf(t.state,e);return i?tr(t,i):!1}}}function Ca(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ds(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function wi(t,e){return e<0?eP(t):tP(t)}function eP(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(pn&&n.nodeType==1&&r<Ca(n)&&ds(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(ds(l,-1))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(oS(n))break;{let l=n.previousSibling;for(;l&&ds(l,-1);)i=n.parentNode,o=Ye(l),l=l.previousSibling;if(l)n=l,r=Ca(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?of(t,n,r):i&&of(t,i,o)}function tP(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Ca(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(ds(l,1))o=n,s=++r;else break}else{if(oS(n))break;{let l=n.nextSibling;for(;l&&ds(l,1);)o=l.parentNode,s=Ye(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Ca(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&of(t,o,s)}function oS(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function nP(t,e){for(;t&&e==t.childNodes.length&&!Js(t);)e=Ye(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function rP(t,e){for(;t&&!e&&!Js(t);)e=Ye(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function of(t,e,n){if(e.nodeType!=3){let o,s;(s=nP(e,n))?(e=s,n=0):(o=rP(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(Ou(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Fn(t)},50)}function Hg(t,e){let n=t.state.doc.resolve(e);if(!(ft||bO)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Ug(t,e,n){let r=t.state.selection;if(r instanceof K&&!r.empty||n.indexOf("s")>-1||Bt&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=rf(t.state,e);if(s&&s instanceof V)return tr(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof fn?q.near(s,e):q.findFrom(s,e);return l?tr(t,l):!1}return!1}function Wg(t,e){if(!(t.state.selection instanceof K))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function Kg(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function iP(t){if(!pt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Kg(t,r,"true"),setTimeout(()=>Kg(t,r,"false"),20)}return!1}function oP(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function sP(t,e){let n=e.keyCode,r=oP(e);if(n==8||Bt&&n==72&&r=="c")return Wg(t,-1)||wi(t,-1);if(n==46&&!e.shiftKey||Bt&&n==68&&r=="c")return Wg(t,1)||wi(t,1);if(n==13||n==27)return!0;if(n==37||Bt&&n==66&&r=="c"){let i=n==37?Hg(t,t.state.selection.from)=="ltr"?-1:1:-1;return Vg(t,i,r)||wi(t,i)}else if(n==39||Bt&&n==70&&r=="c"){let i=n==39?Hg(t,t.state.selection.from)=="ltr"?1:-1:1;return Vg(t,i,r)||wi(t,i)}else{if(n==38||Bt&&n==80&&r=="c")return Ug(t,-1,r)||wi(t,-1);if(n==40||Bt&&n==78&&r=="c")return iP(t)||Ug(t,1,r)||wi(t,1);if(r==(Bt?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function sS(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=t.someProp("clipboardSerializer")||wn.fromSchema(t.state.schema),l=fS(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let u=a.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=dS[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=l.createElement(c[p]);for(;a.firstChild;)h.appendChild(a.firstChild);a.appendChild(h),d++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f,slice:e}}function lS(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let a=e&&(r||o||!n);if(a){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new I(O.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):I.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)l=d;else{let f=i.marks(),{schema:p}=t.state,h=wn.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let x=s.appendChild(document.createElement("p"));g&&x.appendChild(h.serializeNode(p.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=uP(n),qs&&cP(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||lo.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!lP.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)l=dP(Jg(l,+c[1],+c[2]),c[4]);else if(l=I.maxOpen(aP(l.content,i),!0),l.openStart||l.openEnd){let d=0,f=0;for(let p=l.content.firstChild;d<l.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=l.content.lastChild;f<l.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);l=Jg(l,d,f)}return t.someProp("transformPasted",d=>{l=d(l,t)}),l}const lP=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function aP(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let a=i.findWrapping(l.type),u;if(!a)return s=null;if(u=s.length&&o.length&&uS(a,o,l,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=cS(s[s.length-1],o.length));let c=aS(l,a);s.push(c),i=i.matchType(c.type),o=a}}),s)return O.from(s)}return t}function aS(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,O.from(t));return t}function uS(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=uS(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(O.from(aS(n,t,i+1))))}}function cS(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,cS(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(O.empty,!0);return t.copy(n.append(r))}function sf(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return t.childCount>1&&(o=0),i<r-1&&(l=sf(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(O.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function Jg(t,e,n){return e<t.openStart&&(t=new I(sf(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new I(sf(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const dS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let qg=null;function fS(){return qg||(qg=document.implementation.createHTMLDocument("title"))}function uP(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=fS().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&dS[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function cP(t){let e=t.querySelectorAll(ft?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function dP(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=O.from(a.create(r[l+1],i)),o++,s++}return new I(i,o,s)}const mt={},gt={},fP={touchstart:!0,touchmove:!0};class hP{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function pP(t){for(let e in mt){let n=mt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{gP(t,r)&&!Vh(t,r)&&(t.editable||!(r.type in gt))&&n(t,r)},fP[e]?{passive:!0}:void 0)}pt&&t.dom.addEventListener("input",()=>null),lf(t)}function cr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function mP(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function lf(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Vh(t,r))})}function Vh(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function gP(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function yP(t,e){!Vh(t,e)&&mt[e.type]&&(t.editable||!(e.type in gt))&&mt[e.type](t,e)}gt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!pS(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(an&&ft&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),co&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Vr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||sP(t,n)?n.preventDefault():cr(t,"key")};gt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};gt.keypress=(t,e)=>{let n=e;if(pS(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Bt&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof K)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Ru(t){return{left:t.clientX,top:t.clientY}}function vP(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Hh(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Qi(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function xP(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&V.isSelectable(r)?(Qi(t,new V(n),"pointer"),!0):!1}function SP(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof V&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(V.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Qi(t,V.create(t.state.doc,i),"pointer"),!0):!1}function kP(t,e,n,r,i){return Hh(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?SP(t,n):xP(t,n))}function wP(t,e,n,r){return Hh(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function EP(t,e,n,r){return Hh(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||CP(t,n,r)}function CP(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Qi(t,K.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)Qi(t,K.create(r,l+1,l+1+s.content.size),"pointer");else if(V.isSelectable(s))Qi(t,V.create(r,l),"pointer");else continue;return!0}}function Uh(t){return ba(t)}const hS=Bt?"metaKey":"ctrlKey";mt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Uh(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&vP(n,t.input.lastClick)&&!n[hS]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(Ru(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new bP(t,s,n,!!r)):(o=="doubleClick"?wP:EP)(t,s.pos,s.inside,n)?n.preventDefault():cr(t,"pointer"))};class bP{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[hS],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof V&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&pn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),cr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Fn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Ru(e))),this.updateAllowDefault(e),this.allowDefault||!n?cr(this.view,"pointer"):kP(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||pt&&this.mightDrag&&!this.mightDrag.node.isAtom||ft&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Qi(this.view,q.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):cr(this.view,"pointer")}move(e){this.updateAllowDefault(e),cr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}mt.touchstart=t=>{t.input.lastTouch=Date.now(),Uh(t),cr(t,"pointer")};mt.touchmove=t=>{t.input.lastTouch=Date.now(),cr(t,"pointer")};mt.contextmenu=t=>Uh(t);function pS(t,e){return t.composing?!0:pt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const MP=an?5e3:-1;gt.compositionstart=gt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),ba(t,!0),t.markCursor=null;else if(ba(t),pn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}mS(t,MP)};gt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,mS(t,20))};function mS(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ba(t),e))}function gS(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=TP());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function NP(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=xO(e.focusNode,e.focusOffset),r=SO(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function TP(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ba(t,e=!1){if(!(an&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),gS(t),e||t.docView&&t.docView.dirty){let n=Bh(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function OP(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Is=Mt&&xr<15||co&&MO<604;mt.copy=gt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Is?null:n.clipboardData,s=r.content(),{dom:l,text:a}=sS(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",a)):OP(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function PP(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function RP(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ls(t,r.value,null,i,e):Ls(t,r.textContent,r.innerHTML,i,e)},50)}function Ls(t,e,n,r,i){let o=lS(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,i,o||I.empty)))return!0;if(!o)return!1;let s=PP(o),l=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function yS(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}gt.paste=(t,e)=>{let n=e;if(t.composing&&!an)return;let r=Is?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Ls(t,yS(r),r.getData("text/html"),i,n)?n.preventDefault():RP(t,n)};class vS{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const xS=Bt?"altKey":"ctrlKey";mt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Ru(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof V?i.to-1:i.to))){if(r&&r.mightDrag)s=V.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=V.create(t.state.doc,d.posBefore))}}let l=(s||t.state.selection).content(),{dom:a,text:u,slice:c}=sS(t,l);n.dataTransfer.clearData(),n.dataTransfer.setData(Is?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Is||n.dataTransfer.setData("text/plain",u),t.dragging=new vS(c,!n[xS],s)};mt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};gt.dragover=gt.dragenter=(t,e)=>e.preventDefault();gt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Ru(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",h=>{s=h(s,t)}):s=lS(t,yS(n.dataTransfer),Is?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[xS]);if(t.someProp("handleDrop",h=>h(t,n,s||I.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?_x(t.state.doc,o.pos,s):o.pos;a==null&&(a=o.pos);let u=t.state.tr;if(l){let{node:h}=r;h?h.replace(u):u.deleteSelection()}let c=u.mapping.map(a),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(f))return;let p=u.doc.resolve(c);if(d&&V.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new V(p));else{let h=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((g,x,y,v)=>h=v),u.setSelection($h(t,p,u.doc.resolve(h)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};mt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Fn(t)},20))};mt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};mt.beforeinput=(t,e)=>{if(ft&&an&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Vr(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in gt)mt[t]=gt[t];function _s(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Ma{constructor(e,n){this.toDOM=e,this.spec=n||ni,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Wt(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Ma&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&_s(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class kr{constructor(e,n){this.attrs=e,this.spec=n||ni}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Wt(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof kr&&_s(this.attrs,e.attrs)&&_s(this.spec,e.spec)}static is(e){return e.type instanceof kr}destroy(){}}class Wh{constructor(e,n){this.attrs=e,this.spec=n||ni}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Wt(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof Wh&&_s(this.attrs,e.attrs)&&_s(this.spec,e.spec)}destroy(){}}class Wt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Wt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Wt(e,e,new Ma(n,r))}static inline(e,n,r,i){return new Wt(e,n,new kr(r,i))}static node(e,n,r,i){return new Wt(e,n,new Wh(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof kr}get widget(){return this.type instanceof Ma}}const Ci=[],ni={};class Le{constructor(e,n){this.local=e.length?e:Ci,this.children=n.length?n:Ci}static create(e,n){return n.length?Na(n,e,0,ni):it}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==it||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ni)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(s||(s=[])).push(a):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?DP(this.children,s||[],e,n,r,i,o):s?new Le(s.sort(ri),Ci):it}add(e,n){return n.length?this==it?Le.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,a)=>{let u=a+r,c;if(c=kS(n,l,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(l,c,u+1):i.splice(o,0,a,a+l.nodeSize,Na(c,l,u+1,ni)),o+=3}});let s=SS(o?wS(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new Le(s.length?this.local.concat(s).sort(ri):this.local,i||this.children)}remove(e){return e.length==0||this==it?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,a=r[o+1]+n;for(let c=0,d;c<e.length;c++)(d=e[c])&&d.from>l&&d.to<a&&(e[c]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,l+1);u!=it?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Le(i,r):it}forChild(e,n){if(this==it)return this;if(n.isLeaf)return Le.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>o&&a.type instanceof kr){let u=Math.max(o,a.from)-o,c=Math.min(s,a.to)-o;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let l=new Le(i.sort(ri),Ci);return r?new or([l,r]):l}return r||it}eq(e){if(this==e)return!0;if(!(e instanceof Le)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Kh(this.localsInner(e))}localsInner(e){if(this==it)return Ci;if(e.inlineContent||!this.local.some(kr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof kr||n.push(this.local[r]);return n}}Le.empty=new Le([],[]);Le.removeOverlap=Kh;const it=Le.empty;class or{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,ni));return or.from(r)}forChild(e,n){if(n.isLeaf)return Le.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=it&&(o instanceof or?r=r.concat(o.members):r.push(o))}return or.from(r)}eq(e){if(!(e instanceof or)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?Kh(r?n:n.sort(ri)):Ci}static from(e){switch(e.length){case 0:return it;case 1:return e[0];default:return new or(e.every(n=>n instanceof Le)?e:e.reduce((n,r)=>n.concat(r instanceof Le?r:r.members),[]))}}}function DP(t,e,n,r,i,o,s){let l=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,p,h,g)=>{let x=g-h-(p-f);for(let y=0;y<l.length;y+=3){let v=l[y+1];if(v<0||f>v+c-d)continue;let k=l[y]+c-d;p>=k?l[y+1]=f<=k?-2:-1:f>=c&&x&&(l[y]+=x,l[y+1]+=x)}d+=x}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let c=n.map(t[u]+o),d=c-i;if(d<0||d>=r.content.size){a=!0;continue}let f=n.map(t[u+1]+o,-1),p=f-i,{index:h,offset:g}=r.content.findIndex(d),x=r.maybeChild(h);if(x&&g==d&&g+x.nodeSize==p){let y=l[u+2].mapInner(n,x,c+1,t[u]+o+1,s);y!=it?(l[u]=d,l[u+1]=p,l[u+2]=y):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=AP(l,t,e,n,i,o,s),c=Na(u,r,0,s);e=c.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let p=c.children[d];for(;f<l.length&&l[f]<p;)f+=3;l.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Le(e.sort(ri),l)}function SS(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Wt(i.from+e,i.to+e,i.type))}return n}function AP(t,e,n,r,i,o,s){function l(a,u){for(let c=0;c<a.local.length;c++){let d=a.local[c].map(r,i,u);d?n.push(d):s.onRemove&&s.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+o+1);return n}function kS(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function wS(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Na(t,e,n,r){let i=[],o=!1;e.forEach((l,a)=>{let u=kS(t,l,a+n);if(u){o=!0;let c=Na(u,l,n+a+1,r);c!=it&&i.push(a,a+l.nodeSize,c)}});let s=SS(o?wS(t):t,-n).sort(ri);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new Le(s,i):it}function ri(t,e){return t.from-e.from||t.to-e.to}function Kh(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Gg(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Gg(e,i,r.copy(o.from,r.to)));break}}}return e}function Gg(t,e,n){for(;e<t.length&&ri(n,t[e])>0;)e++;t.splice(e,0,n)}function Ic(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=it&&e.push(r)}),t.cursorWrapper&&e.push(Le.create(t.state.doc,[t.cursorWrapper.deco])),or.from(e)}const jP={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},IP=Mt&&xr<=11;class LP{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class _P{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new LP,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Mt&&xr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),IP&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,jP)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if($g(this.view)){if(this.suppressingSelectionUpdates)return Fn(this.view);if(Mt&&xr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&hi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=js(o))n.add(o);for(let o=e.anchorNode;o;o=js(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&$g(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,l=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],a);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(l=!0))}if(pn&&a.length){let c=a.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,f]=c;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of c){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||BP(e,d)!=p)&&f.remove()}}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ou(r)&&(u=Bh(e))&&u.eq(q.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Fn(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),zP(e)),this.handleDOMChange(o,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Fn(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Mt&&xr<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=e.addedNodes[c];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?Ye(i)+1:0,l=r.localPosFromDOM(e.target,s,-1),a=o&&o.parentNode==e.target?Ye(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Yg=new WeakMap,Qg=!1;function zP(t){if(!Yg.has(t)&&(Yg.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=pn,Qg)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Qg=!0}}function Xg(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return hi(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function FP(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Xg(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?Xg(t,n):null}function BP(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function $P(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],Ou(a)||u.push({node:a.focusNode,offset:a.focusOffset})),ft&&t.input.lastKeyCode===8)for(let x=o;x>i;x--){let y=r.childNodes[x-1],v=y.pmViewDesc;if(y.nodeName=="BR"&&!v){o=x;break}if(!v||v.size)break}let d=t.state.doc,f=t.someProp("domParser")||lo.fromSchema(t.state.schema),p=d.resolve(s),h=null,g=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:VP,context:p});if(u&&u[0].pos!=null){let x=u[0].pos,y=u[1]&&u[1].pos;y==null&&(y=x),h={anchor:x+s,head:y+s}}return{doc:g,sel:h,from:s,to:l}}function VP(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(pt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||pt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const HP=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function UP(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let D=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,F=Bh(t,D);if(F&&!t.state.selection.eq(F)){if(ft&&an&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",je=>je(t,Vr(13,"Enter"))))return;let ee=t.state.tr.setSelection(F);D=="pointer"?ee.setMeta("pointer",!0):D=="key"&&ee.scrollIntoView(),o&&ee.setMeta("composition",o),t.dispatch(ee)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,u=$P(t,e,n),c=t.state.doc,d=c.slice(u.from,u.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=JP(d.content,u.doc.content,u.from,f,p);if((co&&t.input.lastIOSEnter>Date.now()-225||an)&&i.some(D=>D.nodeType==1&&!HP.test(D.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",D=>D(t,Vr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&a instanceof K&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))h={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let D=Zg(t,t.state.doc,u.sel);if(D&&!D.eq(t.state.selection)){let F=t.state.tr.setSelection(D);o&&F.setMeta("composition",o),t.dispatch(F)}}return}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof K&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),Mt&&xr<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>u.from&&u.doc.textBetween(h.start-u.from-1,h.start-u.from+1)=="  "&&(h.start--,h.endA--,h.endB--);let g=u.doc.resolveNoCache(h.start-u.from),x=u.doc.resolveNoCache(h.endB-u.from),y=c.resolve(h.start),v=g.sameParent(x)&&g.parent.inlineContent&&y.end()>=h.endA,k;if((co&&t.input.lastIOSEnter>Date.now()-225&&(!v||i.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!v&&g.pos<u.doc.content.size&&!g.sameParent(x)&&(k=q.findFrom(u.doc.resolve(g.pos+1),1,!0))&&k.head==x.pos)&&t.someProp("handleKeyDown",D=>D(t,Vr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&KP(c,h.start,h.endA,g,x)&&t.someProp("handleKeyDown",D=>D(t,Vr(8,"Backspace")))){an&&ft&&t.domObserver.suppressSelectionUpdates();return}ft&&an&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),an&&!v&&g.start()!=x.start()&&x.parentOffset==0&&g.depth==x.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==h.endA&&(h.endB-=2,x=u.doc.resolveNoCache(h.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(D){return D(t,Vr(13,"Enter"))})},20));let S=h.start,b=h.endA,N,M,R;if(v){if(g.pos==x.pos)Mt&&xr<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Fn(t),20)),N=t.state.tr.delete(S,b),M=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(R=WP(g.parent.content.cut(g.parentOffset,x.parentOffset),y.parent.content.cut(y.parentOffset,h.endA-y.start()))))N=t.state.tr,R.type=="add"?N.addMark(S,b,R.mark):N.removeMark(S,b,R.mark);else if(g.parent.child(g.index()).isText&&g.index()==x.index()-(x.textOffset?0:1)){let D=g.parent.textBetween(g.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",F=>F(t,S,b,D)))return;N=t.state.tr.insertText(D,S,b)}}if(N||(N=t.state.tr.replace(S,b,u.doc.slice(h.start-u.from,h.endB-u.from))),u.sel){let D=Zg(t,N.doc,u.sel);D&&!(ft&&an&&t.composing&&D.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(D.head==S||D.head==N.mapping.map(b)-1)||Mt&&D.empty&&D.head==S)&&N.setSelection(D)}M&&N.ensureMarks(M),o&&N.setMeta("composition",o),t.dispatch(N.scrollIntoView())}function Zg(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:$h(t,e.resolve(n.anchor),e.resolve(n.head))}function WP(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,l,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",a=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(O.from(u).eq(t))return{mark:l,type:s}}function KP(t,e,n,r,i){if(n-e<=i.pos-r.pos||Lc(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let l=o.nodeAfter;return l!=null&&n==e+l.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(Lc(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Lc(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Lc(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function JP(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,o-Math.min(s,l));r-=s+a-o}if(s<o&&t.size<e.size){let a=r<=o&&r>=s?o-r:0;o-=a,o&&o<e.size&&ey(e.textBetween(o-1,o+1))&&(o+=a?1:-1),l=o+(l-s),s=o}else if(l<o){let a=r<=o&&r>=l?o-r:0;o-=a,o&&o<t.size&&ey(t.textBetween(o-1,o+1))&&(o+=a?1:-1),s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}function ey(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class qP{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new hP,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(oy),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ry(this),ny(this),this.nodeViews=iy(this),this.docView=Ig(this.state.doc,ty(this),Ic(this),this.dom,this),this.domObserver=new _P(this,(r,i,o,s)=>UP(this,r,i,o,s)),this.domObserver.start(),pP(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&lf(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(oy),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(gS(this),s=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=iy(this);YP(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&lf(this),this.editable=ry(this),ny(this);let a=Ic(this),u=ty(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,u,a);(d||!e.selection.eq(i.selection))&&(s=!0);let f=c=="preserve"&&s&&this.dom.style.overflowAnchor==null&&OO(this);if(s){this.domObserver.stop();let p=d&&(Mt||ft)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&GP(i.selection,e.selection);if(d){let h=ft?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=NP(this)),(o||!this.docView.update(e.doc,u,a,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=Ig(e.doc,u,a,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&ZO(this))?Fn(this,p):(rS(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&PO(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof V){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Og(this,n.getBoundingClientRect(),e)}else Og(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new vS(e.slice,e.move,i<0?void 0:V.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(Mt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&RO(this.dom),Fn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return LO(this,e)}coordsAtPos(e,n=1){return Gx(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return $O(this,n||this.state,e)}pasteHTML(e,n){return Ls(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Ls(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(mP(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ic(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,yO())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return yP(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return pt&&this.root.nodeType===11&&wO(this.dom.ownerDocument)==this.dom&&FP(this,e)||e}domSelection(){return this.root.getSelection()}}function ty(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Wt.node(0,t.state.doc.content.size,e)]}function ny(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Wt.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function ry(t){return!t.someProp("editable",e=>e(t.state)===!1)}function GP(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function iy(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function YP(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function oy(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var br={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ta={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},QP=typeof navigator<"u"&&/Mac/.test(navigator.platform),XP=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Qe=0;Qe<10;Qe++)br[48+Qe]=br[96+Qe]=String(Qe);for(var Qe=1;Qe<=24;Qe++)br[Qe+111]="F"+Qe;for(var Qe=65;Qe<=90;Qe++)br[Qe]=String.fromCharCode(Qe+32),Ta[Qe]=String.fromCharCode(Qe);for(var _c in br)Ta.hasOwnProperty(_c)||(Ta[_c]=br[_c]);function ZP(t){var e=QP&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||XP&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ta:br)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const e2=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function t2(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))e2?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function n2(t){let e=Object.create(null);for(let n in t)e[t2(n)]=t[n];return e}function zc(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function r2(t){return new en({props:{handleKeyDown:ES(t)}})}function ES(t){let e=n2(t);return function(n,r){let i=ZP(r),o,s=e[zc(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[zc(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=br[r.keyCode])&&o!=i){let l=e[zc(o,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const i2=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function CS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const o2=(t,e,n)=>{let r=CS(t,n);if(!r)return!1;let i=Jh(r);if(!i){let s=r.blockRange(),l=s&&ko(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&TS(t,i,e))return!0;if(r.parent.content.size==0&&(fo(o,"end")||V.isSelectable(o))){let s=Nu(t.doc,r.before(),r.after(),I.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(fo(o,"end")?q.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):V.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},s2=(t,e,n)=>{let r=CS(t,n);if(!r)return!1;let i=Jh(r);return i?bS(t,i,e):!1},l2=(t,e,n)=>{let r=MS(t,n);if(!r)return!1;let i=qh(r);return i?bS(t,i,e):!1};function bS(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let s=e.nodeAfter,l=s,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let c=l.firstChild;if(!c)return!1;l=c}let u=Nu(t.doc,o,a,I.empty);if(!u||u.from!=o||u instanceof Be&&u.slice.size>=a-o)return!1;if(n){let c=t.tr.step(u);c.setSelection(K.create(c.doc,o)),n(c.scrollIntoView())}return!0}function fo(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const a2=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Jh(r)}let s=o&&o.nodeBefore;return!s||!V.isSelectable(s)?!1:(e&&e(t.tr.setSelection(V.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Jh(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function MS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const u2=(t,e,n)=>{let r=MS(t,n);if(!r)return!1;let i=qh(r);if(!i)return!1;let o=i.nodeAfter;if(TS(t,i,e))return!0;if(r.parent.content.size==0&&(fo(o,"start")||V.isSelectable(o))){let s=Nu(t.doc,r.before(),r.after(),I.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(fo(o,"start")?q.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):V.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},c2=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=qh(r)}let s=o&&o.nodeAfter;return!s||!V.isSelectable(s)?!1:(e&&e(t.tr.setSelection(V.create(t.doc,o.pos)).scrollIntoView()),!0)};function qh(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const d2=(t,e)=>{let n=t.selection,r=n instanceof V,i;if(r){if(n.node.isTextblock||!Dr(t.doc,n.from))return!1;i=n.from}else if(i=Mu(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(V.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},f2=(t,e)=>{let n=t.selection,r;if(n instanceof V){if(n.node.isTextblock||!Dr(t.doc,n.to))return!1;r=n.to}else if(r=Mu(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},h2=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&ko(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},p2=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function NS(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const m2=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=NS(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,s.createAndFill());a.setSelection(q.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},g2=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof fn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=NS(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(s,o.createAndFill());l.setSelection(K.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},y2=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Gi(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&ko(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},v2=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(V.create(t.doc,i))),!0)};function x2(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Dr(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function TS(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(x2(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let d=e.pos+i.nodeSize,f=O.empty;for(let g=o.length-1;g>=0;g--)f=O.from(o[g].create(null,f));f=O.from(r.copy(f));let p=t.tr.step(new Ve(e.pos-1,d,e.pos,d,new I(f,1,0),o.length,!0)),h=d+2*o.length;Dr(p.doc,h)&&p.join(h),n(p.scrollIntoView())}return!0}let a=q.findFrom(e,1),u=a&&a.$from.blockRange(a.$to),c=u&&ko(u);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(u,c).scrollIntoView()),!0;if(l&&fo(i,"start",!0)&&fo(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let p=i,h=1;for(;!p.isTextblock;p=p.firstChild)h++;if(d.canReplace(d.childCount,d.childCount,p.content)){if(n){let g=O.empty;for(let y=f.length-1;y>=0;y--)g=O.from(f[y].copy(g));let x=t.tr.step(new Ve(e.pos-f.length,e.pos+i.nodeSize,e.pos+h,e.pos+i.nodeSize-h,new I(g,f.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function OS(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(K.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const S2=OS(-1),k2=OS(1);function w2(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=s&&_h(s,t,e);return l?(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function sy(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[o];n.doc.nodesBetween(s,l,(a,u)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)i=!0;else{let c=n.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[s];o.setBlockType(l,a,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function E2(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=!1,a=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let c=n.doc.resolve(s.start-2);a=new Sa(c,c,s.depth),s.endIndex<s.parent.childCount&&(s=new Sa(i,n.doc.resolve(o.end(s.depth)),s.depth)),l=!0}let u=_h(a,t,e,s);return u?(r&&r(C2(n.tr,s,u,l,t).scrollIntoView()),!0):!1}}function C2(t,e,n,r,i){let o=O.empty;for(let c=n.length-1;c>=0;c--)o=O.from(n[c].type.create(n[c].attrs,o));t.step(new Ve(e.start-(r?2:0),e.end,e.start,e.end,new I(o,0,0),n.length,!0));let s=0;for(let c=0;c<n.length;c++)n[c].type==i&&(s=c+1);let l=n.length-s,a=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,d=e.endIndex,f=!0;c<d;c++,f=!1)!f&&Gi(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=u.child(c).nodeSize;return t}function b2(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?M2(e,n,t,o):N2(e,n,o):!0:!1}}function M2(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Ve(o-1,s,o,s,new I(O.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Sa(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const l=ko(r);if(l==null)return!1;i.lift(r,l);let a=i.mapping.map(o,-1)-1;return Dr(i.doc,a)&&i.join(a),e(i.scrollIntoView()),!0}function N2(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,h=n.endIndex-1,g=n.startIndex;h>g;h--)p-=i.child(h).nodeSize,r.delete(p-1,p+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(l?0:1),c+1,s.content.append(a?O.empty:O.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new Ve(d-(l?1:0),f+(a?1:0),d+1,f-1,new I((l?O.empty:O.from(i.copy(O.empty))).append(a?O.empty:O.from(i.copy(O.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function T2(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,a=l.child(s-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==l.type,c=O.from(u?t.create():null),d=new I(O.from(t.create(null,O.from(l.type.create(null,c)))),u?3:1,0),f=o.start,p=o.end;n(e.tr.step(new Ve(f-(u?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}function Du(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class Au{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...c)=>{const d=a(...c)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l=[],a=!!e,u=e||o.tr,c=()=>(!a&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),l.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...g)=>{const x=this.buildProps(u,n),y=p(...g)(x);return l.push(y),d}])),run:c};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([a,u])=>[a,(...c)=>u(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l={tr:e,editor:i,view:s,state:Du({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,u])=>[a,(...c)=>u(...c)(l)]))}};return l}}class O2{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function _(t,e,n){return t.config[e]===void 0&&t.parent?_(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?_(t.parent,e,n):null}):t.config[e]}function ju(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function PS(t){const e=[],{nodeExtensions:n,markExtensions:r}=ju(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=_(s,"addGlobalAttributes",l);if(!a)return;a().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,p])=>{e.push({type:d,name:f,attribute:{...o,...p}})})})})}),i.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=_(s,"addAttributes",l);if(!a)return;const u=a();Object.entries(u).forEach(([c,d])=>{const f={...o,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:c,attribute:f})})}),e}function Ue(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Te(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const l=o?o.split(" "):[],a=r[i]?r[i].split(" "):[],u=l.filter(c=>!a.includes(c));r[i]=[...a,...u].join(" ")}else i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function af(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Te(n,r),{})}function RS(t){return typeof t=="function"}function J(t,e=void 0,...n){return RS(t)?e?t.bind(e)(...n):t(...n):t}function P2(t={}){return Object.keys(t).length===0&&t.constructor===Object}function R2(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function ly(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):R2(n.getAttribute(s.name));return l==null?o:{...o,[s.name]:l}},{});return{...r,...i}}}}function ay(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&P2(n)?!1:n!=null))}function D2(t,e){var n;const r=PS(t),{nodeExtensions:i,markExtensions:o}=ju(t),s=(n=i.find(u=>_(u,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(u=>{const c=r.filter(y=>y.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((y,v)=>{const k=_(v,"extendNodeSchema",d);return{...y,...k?k(u):{}}},{}),p=ay({...f,content:J(_(u,"content",d)),marks:J(_(u,"marks",d)),group:J(_(u,"group",d)),inline:J(_(u,"inline",d)),atom:J(_(u,"atom",d)),selectable:J(_(u,"selectable",d)),draggable:J(_(u,"draggable",d)),code:J(_(u,"code",d)),defining:J(_(u,"defining",d)),isolating:J(_(u,"isolating",d)),attrs:Object.fromEntries(c.map(y=>{var v;return[y.name,{default:(v=y==null?void 0:y.attribute)===null||v===void 0?void 0:v.default}]}))}),h=J(_(u,"parseHTML",d));h&&(p.parseDOM=h.map(y=>ly(y,c)));const g=_(u,"renderHTML",d);g&&(p.toDOM=y=>g({node:y,HTMLAttributes:af(y,c)}));const x=_(u,"renderText",d);return x&&(p.toText=x),[u.name,p]})),a=Object.fromEntries(o.map(u=>{const c=r.filter(x=>x.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((x,y)=>{const v=_(y,"extendMarkSchema",d);return{...x,...v?v(u):{}}},{}),p=ay({...f,inclusive:J(_(u,"inclusive",d)),excludes:J(_(u,"excludes",d)),group:J(_(u,"group",d)),spanning:J(_(u,"spanning",d)),code:J(_(u,"code",d)),attrs:Object.fromEntries(c.map(x=>{var y;return[x.name,{default:(y=x==null?void 0:x.attribute)===null||y===void 0?void 0:y.default}]}))}),h=J(_(u,"parseHTML",d));h&&(p.parseDOM=h.map(x=>ly(x,c)));const g=_(u,"renderHTML",d);return g&&(p.toDOM=x=>g({mark:x,HTMLAttributes:af(x,c)})),[u.name,p]}));return new IT({topNode:s,nodes:l,marks:a})}function Fc(t,e){return e.nodes[t]||e.marks[t]||null}function uy(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const A2=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,l)=>{var a,u;const c=((u=(a=i.type.spec).toText)===null||u===void 0?void 0:u.call(a,{node:i,pos:o,parent:s,index:l}))||i.textContent||"%leaf%";n+=c.slice(0,Math.max(0,r-o))}),n};function Gh(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Iu{constructor(e){this.find=e.find,this.handler=e.handler}}const j2=(t,e)=>{if(Gh(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Cl(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const u=a.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let c=!1;const d=A2(u)+o;return s.forEach(f=>{if(c)return;const p=j2(d,f.find);if(!p)return;const h=a.state.tr,g=Du({state:a.state,transaction:h}),x={from:r-(p[0].length-o.length),to:i},{commands:y,chain:v,can:k}=new Au({editor:n,state:g});f.handler({state:g,range:x,match:p,commands:y,chain:v,can:k})===null||!h.steps.length||(h.setMeta(l,{transform:h,from:r,to:i,text:o}),a.dispatch(h),c=!0)}),c}function I2(t){const{editor:e,rules:n}=t,r=new en({state:{init(){return null},apply(i,o){const s=i.getMeta(r);if(s)return s;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{const{from:u,text:c}=l,d=u+c.length;Cl({editor:e,from:u,to:d,text:c,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,l){return Cl({editor:e,from:o,to:s,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Cl({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Cl({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function L2(t){return typeof t=="number"}class _2{constructor(e){this.find=e.find,this.handler=e.handler}}const z2=(t,e,n)=>{if(Gh(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function F2(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:l}=t,{commands:a,chain:u,can:c}=new Au({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(p,h)=>{if(!p.isTextblock||p.type.spec.code)return;const g=Math.max(r,h),x=Math.min(i,h+p.content.size),y=p.textBetween(g-h,x-h,void 0,"￼");z2(y,o.find,s).forEach(k=>{if(k.index===void 0)return;const S=g+k.index+1,b=S+k[0].length,N={from:n.tr.mapping.map(S),to:n.tr.mapping.map(b)},M=o.handler({state:n,range:N,match:k,commands:a,chain:u,can:c,pasteEvent:s,dropEvent:l});d.push(M)})}),d.every(p=>p!==null)}const B2=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function $2(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l=typeof DragEvent<"u"?new DragEvent("drop"):null;const a=({state:c,from:d,to:f,rule:p,pasteEvt:h})=>{const g=c.tr,x=Du({state:c,transaction:g});if(!(!F2({editor:e,state:x,from:Math.max(d-1,0),to:f.b-1,rule:p,pasteEvent:h,dropEvent:l})||!g.steps.length))return l=typeof DragEvent<"u"?new DragEvent("drop"):null,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return n.map(c=>new en({view(d){const f=p=>{var h;r=!((h=d.dom.parentElement)===null||h===void 0)&&h.contains(p.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(d,f)=>(o=r===d.dom.parentElement,l=f,!1),paste:(d,f)=>{var p;const h=(p=f.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return s=f,i=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,p)=>{const h=d[0],g=h.getMeta("uiEvent")==="paste"&&!i,x=h.getMeta("uiEvent")==="drop"&&!o,y=h.getMeta("applyPasteRules"),v=!!y;if(!g&&!x&&!v)return;if(v){const{from:b,text:N}=y,M=b+N.length,R=B2(N);return a({rule:c,state:p,from:b,to:{b:M},pasteEvt:R})}const k=f.doc.content.findDiffStart(p.doc.content),S=f.doc.content.findDiffEnd(p.doc.content);if(!(!L2(k)||!S||k===S.b))return a({rule:c,state:p,from:k,to:S,pasteEvt:s})}}))}function V2(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class Fi{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Fi.resolve(e),this.schema=D2(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Fi.sort(Fi.flatten(e)),r=V2(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=_(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=_(r,"priority")||100,s=_(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Fc(n.name,this.schema)},i=_(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Fi.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:Fc(s.name,this.schema)},a=[],u=_(s,"addKeyboardShortcuts",l);let c={};if(s.type==="mark"&&s.config.exitable&&(c.ArrowRight=()=>Yt.handleExit({editor:e,mark:s})),u){const g=Object.fromEntries(Object.entries(u()).map(([x,y])=>[x,()=>y({editor:e})]));c={...c,...g}}const d=r2(c);a.push(d);const f=_(s,"addInputRules",l);uy(s,e.options.enableInputRules)&&f&&r.push(...f());const p=_(s,"addPasteRules",l);uy(s,e.options.enablePasteRules)&&p&&i.push(...p());const h=_(s,"addProseMirrorPlugins",l);if(h){const g=h();a.push(...g)}return a}).flat();return[I2({editor:e,rules:r}),...$2({editor:e,rules:i}),...o]}get attributes(){return PS(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=ju(this.extensions);return Object.fromEntries(n.filter(r=>!!_(r,"addNodeView")).map(r=>{const i=this.attributes.filter(a=>a.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Ue(r.name,this.schema)},s=_(r,"addNodeView",o);if(!s)return[];const l=(a,u,c,d)=>{const f=af(a,i);return s()({editor:e,node:a,getPos:c,decorations:d,HTMLAttributes:f,extension:r})};return[r.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Fc(e.name,this.schema)};e.type==="mark"&&(!((n=J(_(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=_(e,"onBeforeCreate",r),o=_(e,"onCreate",r),s=_(e,"onUpdate",r),l=_(e,"onSelectionUpdate",r),a=_(e,"onTransaction",r),u=_(e,"onFocus",r),c=_(e,"onBlur",r),d=_(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}}function H2(t){return Object.prototype.toString.call(t).slice(8,-1)}function Bc(t){return H2(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Lu(t,e){const n={...t};return Bc(t)&&Bc(e)&&Object.keys(e).forEach(r=>{Bc(e[r])?r in t?n[r]=Lu(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class Nt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=J(_(this,"addOptions",{name:this.name}))),this.storage=J(_(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Nt(e)}configure(e={}){const n=this.extend();return n.parent=this.parent,n.options=Lu(this.options,e),n.storage=J(_(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Nt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=J(_(n,"addOptions",{name:n.name})),n.storage=J(_(n,"addStorage",{name:n.name,options:n.options})),n}}function DS(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let l="";return t.nodesBetween(r,i,(a,u,c,d)=>{var f;a.isBlock&&u>r&&(l+=o);const p=s==null?void 0:s[a.type.name];if(p)return c&&(l+=p({node:a,pos:u,parent:c,index:d,range:e})),!1;a.isText&&(l+=(f=a==null?void 0:a.text)===null||f===void 0?void 0:f.slice(Math.max(r,u)-u,i-u))}),l}function AS(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const U2=Nt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new en({key:new Ar("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(c=>c.$from.pos)),l=Math.max(...o.map(c=>c.$to.pos)),a=AS(n);return DS(r,{from:s,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),W2=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),K2=(t=!1)=>({commands:e})=>e.setContent("",t),J2=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(l,a)=>{if(l.type.isText)return;const{doc:u,mapping:c}=e,d=u.resolve(c.map(a)),f=u.resolve(c.map(a+l.nodeSize)),p=d.blockRange(f);if(!p)return;const h=ko(p);if(l.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,g)}(h||h===0)&&e.lift(p,h)})}),!0},q2=t=>e=>t(e),G2=()=>({state:t,dispatch:e})=>g2(t,e),Y2=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new K(r.doc.resolve(s-1))),!0},Q2=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const l=i.before(o),a=i.after(o);t.delete(l,a).scrollIntoView()}return!0}return!1},X2=t=>({tr:e,state:n,dispatch:r})=>{const i=Ue(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const a=o.before(s),u=o.after(s);e.delete(a,u).scrollIntoView()}return!0}return!1},Z2=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},eR=()=>({state:t,dispatch:e})=>i2(t,e),tR=()=>({commands:t})=>t.keyboardShortcut("Enter"),nR=()=>({state:t,dispatch:e})=>m2(t,e);function Oa(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Gh(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function uf(t,e,n={}){return t.find(r=>r.type===e&&Oa(r.attrs,n))}function rR(t,e,n={}){return!!uf(t,e,n)}function Yh(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=uf([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,l=o+1,a=s+r.node.nodeSize;for(uf([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&rR([...t.parent.child(l).marks],e,n);)a+=t.parent.child(l).nodeSize,l+=1;return{from:s,to:a}}function Ir(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const iR=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=Ir(t,r.schema),{doc:s,selection:l}=n,{$from:a,from:u,to:c}=l;if(i){const d=Yh(a,o,e);if(d&&d.from<=u&&d.to>=c){const f=K.create(s,d.from,d.to);n.setSelection(f)}}return!0},oR=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function jS(t){return t instanceof K}function Yr(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function IS(t,e=null){if(!e)return null;const n=q.atStart(t),r=q.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?K.create(t,Yr(0,i,o),Yr(t.content.size,i,o)):K.create(t,Yr(e,i,o),Yr(e,i,o))}function Qh(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const sR=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{Qh()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!jS(n.state.selection))return s(),!0;const l=IS(i.doc,t)||n.state.selection,a=n.state.selection.eq(l);return o&&(a||i.setSelection(l),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},lR=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),aR=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),LS=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&LS(r)}return t};function cy(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return LS(n)}function Pa(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{return Array.isArray(t)&&t.length>0?O.fromArray(t.map(s=>e.nodeFromJSON(s))):e.nodeFromJSON(t)}catch(o){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Pa("",e,n)}if(i){const o=lo.fromSchema(e);return n.slice?o.parseSlice(cy(t),n.parseOptions).content:o.parse(cy(t),n.parseOptions)}return Pa("",e,n)}function uR(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Be||i instanceof Ve))return;const o=t.mapping.maps[r];let s=0;o.forEach((l,a,u,c)=>{s===0&&(s=c)}),t.setSelection(q.near(t.doc.resolve(s),n))}const cR=t=>t.toString().startsWith("<"),dR=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};const s=Pa(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:l,to:a}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,c=!0;if((cR(s)?s:[s]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,c=c?p.isBlock:!1}),l===a&&c){const{parent:p}=r.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,a+=1)}let f;u?(Array.isArray(e)?f=e.map(p=>p.text||"").join(""):typeof e=="object"&&e&&e.text?f=e.text:f=e,r.insertText(f,l,a)):(f=s,r.replaceWith(l,a,f)),n.updateSelection&&uR(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:f}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:f})}return!0},fR=()=>({state:t,dispatch:e})=>d2(t,e),hR=()=>({state:t,dispatch:e})=>f2(t,e),pR=()=>({state:t,dispatch:e})=>o2(t,e),mR=()=>({state:t,dispatch:e})=>u2(t,e),gR=()=>({tr:t,state:e,dispatch:n})=>{try{const r=Mu(e.doc,e.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),n&&n(t),!0)}catch{return!1}},yR=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Mu(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},vR=()=>({state:t,dispatch:e})=>s2(t,e),xR=()=>({state:t,dispatch:e})=>l2(t,e);function _S(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function SR(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))Qh()||_S()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const kR=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=SR(t).split(/-(?!$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return a==null||a.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function zs(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?Ue(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),h=Math.min(i,f+d.nodeSize);l.push({node:d,from:p,to:h})});const a=i-r,u=l.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>Oa(d.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=a}const wR=(t,e={})=>({state:n,dispatch:r})=>{const i=Ue(t,n.schema);return zs(n,i,e)?h2(n,r):!1},ER=()=>({state:t,dispatch:e})=>y2(t,e),CR=t=>({state:e,dispatch:n})=>{const r=Ue(t,e.schema);return b2(r)(e,n)},bR=()=>({state:t,dispatch:e})=>p2(t,e);function _u(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function dy(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const MR=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=_u(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Ue(t,r.schema)),l==="mark"&&(s=Ir(t,r.schema)),i&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(u,c)=>{o&&o===u.type&&n.setNodeMarkup(c,void 0,dy(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(d=>{s===d.type&&n.addMark(c,c+u.nodeSize,s.create(dy(d.attrs,e)))})})}),!0):!1},NR=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),TR=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),OR=()=>({state:t,dispatch:e})=>a2(t,e),PR=()=>({state:t,dispatch:e})=>c2(t,e),RR=()=>({state:t,dispatch:e})=>v2(t,e),DR=()=>({state:t,dispatch:e})=>k2(t,e),AR=()=>({state:t,dispatch:e})=>S2(t,e);function zS(t,e,n={}){return Pa(t,e,{slice:!1,parseOptions:n})}const jR=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,l=zS(t,i.schema,n);return o&&r.replaceWith(0,s.content.size,l).setMeta("preventUpdate",!e),!0};function Ys(t,e){const n=Ir(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,a=>{s.push(...a.marks)});const l=s.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function IR(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function LR(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Xh(t){return e=>LR(e.$from,t)}function _R(t,e){const n=wn.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function zR(t,e){const n={from:0,to:t.content.size};return DS(t,n,e)}function FR(t,e){const n=Ue(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,l=>{o.push(l)});const s=o.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function BR(t,e){const n=_u(typeof e=="string"?e:e.name,t.schema);return n==="node"?FR(t,e):n==="mark"?Ys(t,e):{}}function FS(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t-1),s=Yh(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function Fl(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function cf(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?Ir(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>Oa(d.attrs,n,{strict:!1}));let s=0;const l=[];if(i.forEach(({$from:d,$to:f})=>{const p=d.pos,h=f.pos;t.doc.nodesBetween(p,h,(g,x)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(p,x),v=Math.min(h,x+g.nodeSize),k=v-y;s+=k,l.push(...g.marks.map(S=>({mark:S,from:y,to:v})))})}),s===0)return!1;const a=l.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>Oa(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=l.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(a>0?a+u:a)>=s}function $R(t,e,n={}){if(!e)return zs(t,null,n)||cf(t,null,n);const r=_u(e,t.schema);return r==="node"?zs(t,e,n):r==="mark"?cf(t,e,n):!1}function fy(t,e){const{nodeExtensions:n}=ju(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=J(_(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function VR(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function HR(t,e,n){var r;const{selection:i}=e;let o=null;if(jS(i)&&(o=i.$cursor),o){const l=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:l,$to:a})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){const p=!f||f.type.allowsMarkType(n),h=!!n.isInSet(c.marks)||!c.marks.some(g=>g.type.excludes(n));u=p&&h}return!u}),u})}const UR=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:l}=o,a=Ir(t,r.schema);if(i)if(s){const u=Ys(r,a);n.addStoredMark(a.create({...u,...e}))}else l.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(f,p)=>{const h=Math.max(p,c),g=Math.min(p+f.nodeSize,d);f.marks.find(y=>y.type===a)?f.marks.forEach(y=>{a===y.type&&n.addMark(h,g,a.create({...y.attrs,...e}))}):n.addMark(h,g,a.create(e))})});return HR(r,n,a)},WR=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),KR=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=Ue(t,n.schema);return o.isTextblock?i().command(({commands:s})=>sy(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>sy(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},JR=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Yr(t,0,r.content.size),o=V.create(r,i);e.setSelection(o)}return!0},qR=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=K.atStart(r).from,l=K.atEnd(r).to,a=Yr(i,s,l),u=Yr(o,s,l),c=K.create(r,a,u);e.setSelection(c)}return!0},GR=t=>({state:e,dispatch:n})=>{const r=Ue(t,e.schema);return T2(r)(e,n)};function hy(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const YR=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:l,$to:a}=o,u=i.extensionManager.attributes,c=Fl(u,l.node().type.name,l.node().attrs);if(o instanceof V&&o.node.isBlock)return!l.parentOffset||!Gi(s,l.pos)?!1:(r&&(t&&hy(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const d=a.parentOffset===a.parent.content.size;o instanceof K&&e.deleteSelection();const f=l.depth===0?void 0:IR(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=d&&f?[{type:f,attrs:c}]:void 0,h=Gi(e.doc,e.mapping.map(l.pos),1,p);if(!p&&!h&&Gi(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(h=!0,p=f?[{type:f,attrs:c}]:void 0),h&&(e.split(e.mapping.map(l.pos),1,p),f&&!d&&!l.parentOffset&&l.parent.type!==f)){const g=e.mapping.map(l.before()),x=e.doc.resolve(g);l.node(-1).canReplaceWith(x.index(),x.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}t&&hy(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},QR=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var o;const s=Ue(t,n.schema),{$from:l,$to:a}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(a))return!1;const c=l.node(-1);if(c.type!==s)return!1;const d=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let x=O.empty;const y=l.index(-1)?1:l.index(-2)?2:3;for(let M=l.depth-y;M>=l.depth-3;M-=1)x=O.from(l.node(M).copy(x));const v=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k=Fl(d,l.node().type.name,l.node().attrs),S=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(k))||void 0;x=x.append(O.from(s.createAndFill(null,S)||void 0));const b=l.before(l.depth-(y-1));e.replace(b,l.after(-v),new I(x,4-y,0));let N=-1;e.doc.nodesBetween(b,e.doc.content.size,(M,R)=>{if(N>-1)return!1;M.isTextblock&&M.content.size===0&&(N=R+1)}),N>-1&&e.setSelection(K.near(e.doc.resolve(N))),e.scrollIntoView()}return!0}const f=a.pos===l.end()?c.contentMatchAt(0).defaultType:null,p=Fl(d,c.type.name,c.attrs),h=Fl(d,l.node().type.name,l.node().attrs);e.delete(l.pos,a.pos);const g=f?[{type:s,attrs:p},{type:f,attrs:h}]:[{type:s,attrs:p}];if(!Gi(e.doc,l.pos,2))return!1;if(r){const{selection:x,storedMarks:y}=n,{splittableMarks:v}=i.extensionManager,k=y||x.$to.parentOffset&&x.$from.marks();if(e.split(l.pos,2,g).scrollIntoView(),!k||!r)return!0;const S=k.filter(b=>v.includes(b.type.name));e.ensureMarks(S)}return!0},$c=(t,e)=>{const n=Xh(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Dr(t.doc,n.pos)&&t.join(n.pos),!0},Vc=(t,e)=>{const n=Xh(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Dr(t.doc,r)&&t.join(r),!0},XR=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:l,chain:a,commands:u,can:c})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,p=Ue(t,s.schema),h=Ue(e,s.schema),{selection:g,storedMarks:x}=s,{$from:y,$to:v}=g,k=y.blockRange(v),S=x||g.$to.parentOffset&&g.$from.marks();if(!k)return!1;const b=Xh(N=>fy(N.type.name,d))(g);if(k.depth>=1&&b&&k.depth-b.depth<=1){if(b.node.type===p)return u.liftListItem(h);if(fy(b.node.type.name,d)&&p.validContent(b.node.content)&&l)return a().command(()=>(o.setNodeMarkup(b.pos,p),!0)).command(()=>$c(o,p)).command(()=>Vc(o,p)).run()}return!n||!S||!l?a().command(()=>c().wrapInList(p,r)?!0:u.clearNodes()).wrapInList(p,r).command(()=>$c(o,p)).command(()=>Vc(o,p)).run():a().command(()=>{const N=c().wrapInList(p,r),M=S.filter(R=>f.includes(R.type.name));return o.ensureMarks(M),N?!0:u.clearNodes()}).wrapInList(p,r).command(()=>$c(o,p)).command(()=>Vc(o,p)).run()},ZR=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=Ir(t,r.schema);return cf(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},eD=(t,e,n={})=>({state:r,commands:i})=>{const o=Ue(t,r.schema),s=Ue(e,r.schema);return zs(r,o,n)?i.setNode(s):i.setNode(o,n)},tD=(t,e={})=>({state:n,commands:r})=>{const i=Ue(t,n.schema);return zs(n,i,e)?r.lift(i):r.wrapIn(i,e)},nD=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,l=o.transform;for(let a=l.steps.length-1;a>=0;a-=1)s.step(l.steps[a].invert(l.docs[a]));if(o.text){const a=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,a))}else s.delete(o.from,o.to)}return!0}}return!1},rD=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},iD=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,a=Ir(t,r.schema),{$from:u,empty:c,ranges:d}=l;if(!i)return!0;if(c&&s){let{from:f,to:p}=l;const h=(o=u.marks().find(x=>x.type===a))===null||o===void 0?void 0:o.attrs,g=Yh(u,a,h);g&&(f=g.from,p=g.to),n.removeMark(f,p,a)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,a)});return n.removeStoredMark(a),!0},oD=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=_u(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Ue(t,r.schema)),l==="mark"&&(s=Ir(t,r.schema)),i&&n.selection.ranges.forEach(a=>{const u=a.$from.pos,c=a.$to.pos;r.doc.nodesBetween(u,c,(d,f)=>{o&&o===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...e}),s&&d.marks.length&&d.marks.forEach(p=>{if(s===p.type){const h=Math.max(f,u),g=Math.min(f+d.nodeSize,c);n.addMark(h,g,s.create({...p.attrs,...e}))}})})}),!0):!1},sD=(t,e={})=>({state:n,dispatch:r})=>{const i=Ue(t,n.schema);return w2(i,e)(n,r)},lD=(t,e={})=>({state:n,dispatch:r})=>{const i=Ue(t,n.schema);return E2(i,e)(n,r)};var aD=Object.freeze({__proto__:null,blur:W2,clearContent:K2,clearNodes:J2,command:q2,createParagraphNear:G2,cut:Y2,deleteCurrentNode:Q2,deleteNode:X2,deleteRange:Z2,deleteSelection:eR,enter:tR,exitCode:nR,extendMarkRange:iR,first:oR,focus:sR,forEach:lR,insertContent:aR,insertContentAt:dR,joinUp:fR,joinDown:hR,joinBackward:pR,joinForward:mR,joinItemBackward:gR,joinItemForward:yR,joinTextblockBackward:vR,joinTextblockForward:xR,keyboardShortcut:kR,lift:wR,liftEmptyBlock:ER,liftListItem:CR,newlineInCode:bR,resetAttributes:MR,scrollIntoView:NR,selectAll:TR,selectNodeBackward:OR,selectNodeForward:PR,selectParentNode:RR,selectTextblockEnd:DR,selectTextblockStart:AR,setContent:jR,setMark:UR,setMeta:WR,setNode:KR,setNodeSelection:JR,setTextSelection:qR,sinkListItem:GR,splitBlock:YR,splitListItem:QR,toggleList:XR,toggleMark:ZR,toggleNode:eD,toggleWrap:tD,undoInputRule:nD,unsetAllMarks:rD,unsetMark:iD,updateAttributes:oD,wrapIn:sD,wrapInList:lD});const uD=Nt.create({name:"commands",addCommands(){return{...aD}}}),cD=Nt.create({name:"editable",addProseMirrorPlugins(){return[new en({key:new Ar("editable"),props:{editable:()=>this.editor.options.editable}})]}}),dD=Nt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new en({key:new Ar("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),fD=Nt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:a,doc:u}=l,{empty:c,$anchor:d}=a,{pos:f,parent:p}=d,h=d.parent.isTextblock&&f>0?l.doc.resolve(f-1):d,g=h.parent.type.spec.isolating,x=d.pos-d.parentOffset,y=g&&h.parent.childCount===1?x===d.pos:q.atStart(u).from===f;return!c||!p.type.isTextblock||p.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Qh()||_S()?o:i},addProseMirrorPlugins(){return[new en({key:new Ar("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(h=>h.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=e.selection,l=q.atStart(e.doc).from,a=q.atEnd(e.doc).to;if(i||!(o===l&&s===a)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const d=n.tr,f=Du({state:n,transaction:d}),{commands:p}=new Au({editor:this.editor,state:f});if(p.clearNodes(),!!d.steps.length)return d}})]}}),hD=Nt.create({name:"tabindex",addProseMirrorPlugins(){return[new en({key:new Ar("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Hr{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Hr(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Hr(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Hr(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=this.pos+r+1,s=this.resolvedPos.doc.resolve(o);if(!i&&s.depth<=this.depth)return;const l=new Hr(s,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new Hr(s,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,s=Object.keys(n);for(let l=0;l<s.length;l+=1){const a=s[l];if(o[a]!==n[a])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===e&&o.every(a=>n[a]===s.node.attrs[a])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,n,r))))}),i}setAttribute(e){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(n.from).run()}}const pD=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function mD(t,e,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let gD=class extends O2{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=mD(pD,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=RS(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[cD,U2.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),uD,dD,fD,hD]:[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new Fi(i,this)}createCommandManager(){this.commandManager=new Au({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=zS(this.options.content,this.schema,this.options.parseOptions),n=IS(e,this.options.autofocus);this.view=new qP(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:zi.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return BR(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return $R(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return _R(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return zR(this.state.doc,{blockSeparator:n,textSerializers:{...AS(this.schema),...r}})}get isEmpty(){return VR(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Hr(n,this)}get $doc(){return this.$pos(0)}};function ho(t){return new Iu({find:t.find,handler:({state:e,range:n,match:r})=>{const i=J(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],l=r[0];if(s){const a=l.search(/\S/),u=n.from+l.indexOf(s),c=u+s.length;if(FS(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===t.type&&g!==p.mark.type)).filter(p=>p.to>u).length)return null;c<n.to&&o.delete(c,n.to),u>n.from&&o.delete(n.from+a,u);const f=n.from+a+s.length;o.addMark(n.from+a,f,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function yD(t){return new Iu({find:t.find,handler:({state:e,range:n,match:r})=>{const i=J(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let l=n.to;const a=t.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let c=s+u;c>l?c=l:l=c+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(c,l,a)}else r[0]&&o.insert(s-1,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(l));o.scrollIntoView()}})}function df(t){return new Iu({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=J(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function Fs(t){return new Iu({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=J(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),a=s.doc.resolve(n.from).blockRange(),u=a&&_h(a,t.type,o);if(!u)return null;if(s.wrap(a,u),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:p}=t.editor.extensionManager,h=f||d.$to.parentOffset&&d.$from.marks();if(h){const g=h.filter(x=>p.includes(x.type.name));s.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const c=s.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&Dr(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&s.join(n.from-1)}})}class Yt{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=J(_(this,"addOptions",{name:this.name}))),this.storage=J(_(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Yt(e)}configure(e={}){const n=this.extend();return n.options=Lu(this.options,e),n.storage=J(_(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Yt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=J(_(n,"addOptions",{name:n.name})),n.storage=J(_(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const a=s.find(u=>(u==null?void 0:u.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}class lt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=J(_(this,"addOptions",{name:this.name}))),this.storage=J(_(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new lt(e)}configure(e={}){const n=this.extend();return n.options=Lu(this.options,e),n.storage=J(_(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new lt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=J(_(n,"addOptions",{name:n.name})),n.storage=J(_(n,"addStorage",{name:n.name,options:n.options})),n}}function po(t){return new _2({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=J(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,l=r[r.length-1],a=r[0];let u=n.to;if(l){const c=a.search(/\S/),d=n.from+a.indexOf(l),f=d+l.length;if(FS(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(x=>x===t.type&&x!==h.mark.type)).filter(h=>h.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+c,d),u=n.from+c+l.length,s.addMark(n.from+c,u,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}const py=Yt.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Te(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Ys(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),vD=Nt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),ff=lt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Te(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),my=Yt.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Te(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),xD=/^\s*>\s$/,SD=lt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Te(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Fs({find:xD,type:this.type})]}}),kD=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,wD=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,ED=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,CD=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,bD=Yt.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Te(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ho({find:kD,type:this.type}),ho({find:ED,type:this.type})]},addPasteRules(){return[po({find:wD,type:this.type}),po({find:CD,type:this.type})]}}),MD=lt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Te(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),gy=Yt.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Te(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Ys(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),yy=/^\s*([-+*])\s$/,ND=lt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Te(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(MD.name,this.editor.getAttributes(gy.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Fs({find:yy,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Fs({find:yy,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(gy.name),editor:this.editor})),[t]}}),TD=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,OD=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,PD=Yt.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Te(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ho({find:TD,type:this.type})]},addPasteRules(){return[po({find:OD,type:this.type})]}}),RD=/^```([a-z]+)?[\s\n]$/,DD=/^~~~([a-z]+)?[\s\n]$/,AD=lt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Te(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0||r.nodeAt(l)?!1:t.commands.exitCode()}}},addInputRules(){return[df({find:RD,type:this.type,getAttributes:t=>({language:t[1]})}),df({find:DD,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new en({key:new Ar("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=t.state;return t.state.selection.from===t.state.doc.nodeSize-(1+t.state.selection.$to.depth*2)?s.insert(t.state.selection.from-1,this.type.create({language:o})):s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(K.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),jD=lt.create({name:"doc",topNode:!0,content:"block+"});function ID(t={}){return new en({view(e){return new LD(e,t)}})}class LD{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let u=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(u){let c=u.getBoundingClientRect(),d=l?c.bottom:c.top;l&&a&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let l=i.getBoundingClientRect();o=l.left-i.scrollLeft,s=l.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=_x(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const _D=Nt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[ID(this.options)]}});class Ee extends q{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Ee.valid(r)?new Ee(r):q.near(r)}content(){return I.empty}eq(e){return e instanceof Ee&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ee(e.resolve(n.pos))}getBookmark(){return new Zh(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!zD(e)||!FD(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Ee.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){o=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let a=e.doc.resolve(i);if(Ee.valid(a))return a}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!V.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let l=e.doc.resolve(i);if(Ee.valid(l))return l}return null}}}Ee.prototype.visible=!1;Ee.findFrom=Ee.findGapCursorFrom;q.jsonID("gapcursor",Ee);class Zh{constructor(e){this.pos=e}map(e){return new Zh(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Ee.valid(n)?new Ee(n):q.near(n)}}function zD(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function FD(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function BD(){return new en({props:{decorations:UD,createSelectionBetween(t,e,n){return e.pos==n.pos&&Ee.valid(n)?new Ee(n):null},handleClick:VD,handleKeyDown:$D,handleDOMEvents:{beforeinput:HD}}})}const $D=ES({ArrowLeft:bl("horiz",-1),ArrowRight:bl("horiz",1),ArrowUp:bl("vert",-1),ArrowDown:bl("vert",1)});function bl(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,l=e>0?s.$to:s.$from,a=s.empty;if(s instanceof K){if(!o.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=Ee.findGapCursorFrom(l,e,a);return u?(i&&i(r.tr.setSelection(new Ee(u))),!0):!1}}function VD(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Ee.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&V.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Ee(r))),!0)}function HD(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Ee))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=O.empty;for(let s=r.length-1;s>=0;s--)i=O.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new I(i,0,0));return o.setSelection(K.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function UD(t){if(!(t.selection instanceof Ee))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Le.create(t.doc,[Wt.widget(t.selection.head,e,{key:"gapcursor"})])}const WD=Nt.create({name:"gapCursor",addProseMirrorPlugins(){return[BD()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=J(_(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),KD=lt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Te(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=r.extensionManager,a=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&a&&s){const d=a.filter(f=>l.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),JD=lt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Te(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>df({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Ra=200,He=function(){};He.prototype.append=function(e){return e.length?(e=He.from(e),!this.length&&e||e.length<Ra&&this.leafAppend(e)||this.length<Ra&&e.leafPrepend(this)||this.appendInner(e)):this};He.prototype.prepend=function(e){return e.length?He.from(e).append(this):this};He.prototype.appendInner=function(e){return new qD(this,e)};He.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?He.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};He.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};He.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};He.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};He.from=function(e){return e instanceof He?e:e&&e.length?new BS(e):He.empty};var BS=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,l){for(var a=o;a<s;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,l){for(var a=o-1;a>=s;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Ra)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Ra)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(He);He.empty=new BS([]);var qD=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(He);const GD=500;class un{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,l,a,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,c.push(d);return}if(i){c.push(new xn(d.map));let p=d.step.map(i.slice(o)),h;p&&s.maybeStep(p).doc&&(h=s.mapping.maps[s.mapping.maps.length-1],u.push(new xn(h,void 0,void 0,u.length+c.length))),o--,h&&i.appendMap(h,o)}else s.maybeStep(d.step);if(d.selection)return l=i?d.selection.map(i.slice(o)):d.selection,a=new un(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(e,n,r,i){let o=[],s=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let d=e.steps[c].invert(e.docs[c]),f=new xn(e.mapping.maps[c],d,n),p;(p=a&&a.merge(f))&&(f=p,c?o.pop():l=l.slice(0,l.length-1)),o.push(f),n&&(s++,n=void 0),i||(a=f)}let u=s-r.depth;return u>QD&&(l=YD(l,u),s-=u),new un(l.append(o),s)}remapping(e,n){let r=new qi;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new un(this.items.append(e.map(n=>new xn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},i);let a=n;this.items.forEach(f=>{let p=o.getMirror(--a);if(p==null)return;s=Math.min(s,p);let h=o.maps[p];if(f.step){let g=e.steps[p].invert(e.docs[p]),x=f.selection&&f.selection.map(o.slice(a+1,p));x&&l++,r.push(new xn(h,g,x))}else r.push(new xn(h))},i);let u=[];for(let f=n;f<s;f++)u.push(new xn(o.maps[f]));let c=this.items.slice(0,i).append(u).append(r),d=new un(c,l);return d.emptyItemCount()>GD&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=e)i.push(s),s.selection&&o++;else if(s.step){let a=s.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let c=s.selection&&s.selection.map(n.slice(r));c&&o++;let d=new xn(u.invert(),a,c),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new un(He.from(i.reverse()),o)}}un.empty=new un(He.empty,0);function YD(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class xn{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new xn(n.getMap().invert(),n,this.selection)}}}class nr{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const QD=20;function XD(t,e,n,r){let i=n.getMeta(ii),o;if(i)return i.historyState;n.getMeta(tA)&&(t=new nr(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(ii))return s.getMeta(ii).redo?new nr(t.done.addTransform(n,void 0,r,Bl(e)),t.undone,vy(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new nr(t.done,t.undone.addTransform(n,void 0,r,Bl(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!s&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!ZD(n,t.prevRanges)),u=s?Hc(t.prevRanges,n.mapping):vy(n.mapping.maps[n.steps.length-1]);return new nr(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,Bl(e)),un.empty,u,n.time,l??t.prevComposition)}else return(o=n.getMeta("rebased"))?new nr(t.done.rebased(n,o),t.undone.rebased(n,o),Hc(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new nr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Hc(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function ZD(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function vy(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function Hc(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function eA(t,e,n){let r=Bl(e),i=ii.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),l=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),a=new nr(n?l:o.remaining,n?o.remaining:l,null,0,-1);return o.transform.setSelection(s).setMeta(ii,{redo:n,historyState:a})}let Uc=!1,xy=null;function Bl(t){let e=t.plugins;if(xy!=e){Uc=!1,xy=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Uc=!0;break}}return Uc}const ii=new Ar("history"),tA=new Ar("closeHistory");function nA(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new en({key:ii,state:{init(){return new nr(un.empty,un.empty,null,0,-1)},apply(e,n,r){return XD(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?VS:r=="historyRedo"?HS:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function $S(t,e){return(n,r)=>{let i=ii.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=eA(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const VS=$S(!1,!0),HS=$S(!0,!0),rA=Nt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>VS(t,e),redo:()=>({state:t,dispatch:e})=>HS(t,e)}},addProseMirrorPlugins(){return[nA(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),iA=lt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Te(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{$to:n}=e.selection,r=t();return n.parentOffset===0?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:i,dispatch:o})=>{var s;if(o){const{$to:l}=i.selection,a=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?i.setSelection(K.create(i.doc,l.pos+1)):l.nodeAfter.isBlock?i.setSelection(V.create(i.doc,l.pos)):i.setSelection(K.create(i.doc,l.pos));else{const u=(s=l.parent.type.contentMatch.defaultType)===null||s===void 0?void 0:s.create();u&&(i.insert(a,u),i.setSelection(K.create(i.doc,a+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[yD({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),oA=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,sA=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,lA=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,aA=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,uA=Yt.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Te(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ho({find:oA,type:this.type}),ho({find:lA,type:this.type})]},addPasteRules(){return[po({find:sA,type:this.type}),po({find:aA,type:this.type})]}}),cA=lt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Te(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Sy=Yt.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Te(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Ys(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),ky=/^(\d+)\.\s$/,dA=lt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Te(this.options.HTMLAttributes,n),0]:["ol",Te(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(cA.name,this.editor.getAttributes(Sy.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Fs({find:ky,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Fs({find:ky,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Sy.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),fA=lt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Te(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),hA=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pA=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,mA=Yt.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Te(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ho({find:hA,type:this.type})]},addPasteRules(){return[po({find:pA,type:this.type})]}}),gA=lt.create({name:"text",group:"inline"}),yA=Nt.create({name:"starterKit",addExtensions(){var t,e,n,r,i,o,s,l,a,u,c,d,f,p,h,g,x,y;const v=[];return this.options.blockquote!==!1&&v.push(SD.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&v.push(bD.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&v.push(ND.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&v.push(PD.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&v.push(AD.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&v.push(jD.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&v.push(_D.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&v.push(WD.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&v.push(KD.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&v.push(JD.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&v.push(rA.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&v.push(iA.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&v.push(uA.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&v.push(ff.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&v.push(dA.configure((h=this.options)===null||h===void 0?void 0:h.orderedList)),this.options.paragraph!==!1&&v.push(fA.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&v.push(mA.configure((x=this.options)===null||x===void 0?void 0:x.strike)),this.options.text!==!1&&v.push(gA.configure((y=this.options)===null||y===void 0?void 0:y.text)),v}}),vA=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},xA=({renderers:t})=>Ce.createElement(Ce.Fragment,null,Object.entries(t).map(([e,n])=>ah.createPortal(n.reactElement,n.element,e)));class SA extends Ce.Component{constructor(e){super(e),this.editorContentRef=Ce.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?Ws.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return Ce.createElement(Ce.Fragment,null,Ce.createElement("div",{ref:vA(n,this.editorContentRef),...r}),Ce.createElement(xA,{renderers:this.state.renderers}))}}const kA=w.forwardRef((t,e)=>{const n=Ce.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ce.createElement(SA,{key:n,innerRef:e,...t})}),wA=Ce.memo(kA);class EA extends gD{constructor(){super(...arguments),this.contentComponent=null}}const CA=(t={},e=[])=>{const n=w.useRef(null),[,r]=w.useState({}),{onBeforeCreate:i,onBlur:o,onCreate:s,onDestroy:l,onFocus:a,onSelectionUpdate:u,onTransaction:c,onUpdate:d}=t,f=w.useRef(i),p=w.useRef(o),h=w.useRef(s),g=w.useRef(l),x=w.useRef(a),y=w.useRef(u),v=w.useRef(c),k=w.useRef(d);return w.useEffect(()=>{n.current&&(i&&(n.current.off("beforeCreate",f.current),n.current.on("beforeCreate",i),f.current=i),o&&(n.current.off("blur",p.current),n.current.on("blur",o),p.current=o),s&&(n.current.off("create",h.current),n.current.on("create",s),h.current=s),l&&(n.current.off("destroy",g.current),n.current.on("destroy",l),g.current=l),a&&(n.current.off("focus",x.current),n.current.on("focus",a),x.current=a),u&&(n.current.off("selectionUpdate",y.current),n.current.on("selectionUpdate",u),y.current=u),c&&(n.current.off("transaction",v.current),n.current.on("transaction",c),v.current=c),d&&(n.current.off("update",k.current),n.current.on("update",d),k.current=d))},[i,o,s,l,a,u,c,d,n.current]),w.useEffect(()=>{let S=!0;const b=new EA(t);return n.current=b,n.current.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{S&&r({})})})}),()=>{S=!1,b.destroy()}},e),n.current},bA=w.createContext({editor:null});bA.Consumer;const MA=w.createContext({onDragStart:void 0}),NA=()=>w.useContext(MA);Ce.forwardRef((t,e)=>{const{onDragStart:n}=NA(),r=t.as||"div";return Ce.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function TA({entry:t,content:e,setIsPreview:n}){const r=Ae(),i=ue(a=>a.session.user),{closeModal:o}=Ke(),s=async a=>{a.preventDefault(),await r(xh({id:t.id,userId:i.id,notebookId:t.notebook_id,name:t.name,content:e,isPublic:t.is_public})),n("Edit Entry"),await o()},l=()=>{console.log("Discard changes"),n("Edit Entry"),o()};return m.jsx("div",{className:"entry-modal-main-container",children:m.jsxs("div",{className:"entry-modal-form-container",children:[m.jsx("h1",{className:"entry-modal-titles",children:"You have unsaved changes!"}),m.jsxs("div",{className:"modal",children:[m.jsx("div",{className:"entry-modal-label",children:"Would you like to save your changes before leaving?"}),m.jsx("div",{className:"entry-modal-label",children:"Any unsaved changes will be lost"})]}),m.jsxs("div",{className:"entry-modal-conformation-btn-container",children:[m.jsx("button",{className:"modal-button conformation-btn",onClick:s,children:"Submit Changes"}),m.jsx("button",{className:"modal-button conformation-btn",onClick:l,children:"Leave Without Saving"})]})]})})}function OA(t){return Zt({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:"currentColor"},child:[]}]})(t)}const PA=({editor:t})=>t?m.jsxs("div",{id:"menuBar-container",children:[m.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),disabled:!t.can().chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",children:m.jsx(eN,{})}),m.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!t.can().chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",children:m.jsx(nN,{})}),m.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!t.can().chain().focus().toggleStrike().run(),className:t.isActive("strike")?"is-active":"",children:m.jsx(lN,{})}),m.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:m.jsx(tN,{})}),m.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:m.jsx(iN,{})}),m.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",children:m.jsx(rN,{})}),m.jsx("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",children:m.jsx(oN,{})}),m.jsx("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),children:m.jsx(OA,{})}),m.jsx("button",{onClick:()=>t.chain().focus().setHardBreak().run(),children:"hard break"}),m.jsx("button",{onClick:()=>t.chain().focus().undo().run(),disabled:!t.can().chain().focus().undo().run(),children:m.jsx(aN,{})}),m.jsx("button",{onClick:()=>t.chain().focus().redo().run(),disabled:!t.can().chain().focus().redo().run(),children:m.jsx(sN,{})}),m.jsx("input",{id:"color-input",type:"color",onInput:e=>t.chain().focus().setColor(e.target.value).run(),value:t.getAttributes("textStyle").color,"data-testid":"setColor"}),m.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:"X-LG"}),m.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active":"",children:"LG"}),m.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),className:t.isActive("heading",{level:4})?"is-active":"",children:"MED"}),m.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),className:t.isActive("heading",{level:5})?"is-active":"",children:"SM"}),m.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:6}).run(),className:t.isActive("heading",{level:6})?"is-active":"",children:"X-SM"})]}):null;function RA({setIsPreview:t}){const{entryId:e}=So(),n=ue(h=>h.entries[parseInt(e)]),r=Ae(),[i,o]=w.useState(n.content),[s,l]=w.useState(!0),{setModalContent:a}=Ke();w.useEffect(()=>{i!==n.content&&l(!1)},[i,n]);const u=w.useRef(null),c=w.useCallback(h=>{document.removeEventListener("click",c,!0),n.content!==i&&(u.current.contains(h.target)||a(m.jsx(TA,{entry:n,content:i,setIsPreview:t})))},[i,n,a,t]);document.addEventListener("click",c,!0);const d=[my,vD.configure({types:[py.name,ff.name]}),py.configure({types:[ff.name]}),yA.configure({bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}})],f=CA({extensions:d,content:i,Underline:my,onUpdate:({editor:h})=>{const g=h.getHTML();o(g)}}),p=async h=>(h&&h.preventDefault(),await r(xh({id:n.id,userId:n.user_id,notebookId:n.notebook_id,name:n.name,content:i,isPublic:n.is_public})),await r(Or()),l(!0),document.removeEventListener("click",c,!0));return m.jsx("div",{ref:u,className:"editentry-main-container",id:"edit-entry-ref",children:m.jsxs("div",{className:"editentry-main-container",children:[m.jsxs("div",{id:"entryedit-toolbar-container",children:[m.jsx("div",{children:m.jsx(PA,{editor:f})}),m.jsxs("div",{id:"editentry-save-btn-container",children:[m.jsx("p",{children:s?"Saved":""}),m.jsx("button",{className:"modal-button entry-button",onClick:p,children:"Save"})]})]}),m.jsx("div",{className:"entry-content-container",children:m.jsx(wA,{editor:f})})]})})}function DA({entry:t}){const e=Ae(),n=Xt(),[r,i]=w.useState(" "),[o,s]=w.useState({}),{closeModal:l}=Ke();w.useEffect(()=>{const c={};r.length<=0&&i(" "),r.length>250&&(c.message="Message can not be more than 100 characters"),s(c)},[r]);const a=async c=>{if(c.preventDefault(),Object.values(o).length)return;const d=await e(vM({entryId:t.id,message:r}));d.name?s(d):(await e(Or()),n(`/public/${t.id}`),await l())},u=()=>{l()};return m.jsxs("div",{className:"post-modal-main-container",children:[m.jsx("h1",{className:"post-modal-titles",children:`Post "${t.name}" to the public feed?`}),m.jsxs("div",{className:"post-modal-form-container",children:[m.jsx("div",{className:"post-modal-label",children:"Would you like to include a message with your post?"}),m.jsx("div",{className:"post-modal-label-2",children:"This is not necessary, but it can help others understand what you are trying to acheive with your writing."}),m.jsx("textarea",{type:"text",rows:7,value:r,onChange:c=>i(c.target.value)}),m.jsx("p",{className:o.message?"post-modal-errors":"post-modal-no-errors",children:`${r.length}/250`})]}),m.jsxs("div",{className:"post-modal-conformation-btn-container",children:[m.jsx("button",{className:"modal-button conformation-btn",onClick:a,children:"Yes, Make Public"}),m.jsx("button",{className:"modal-button conformation-btn",onClick:u,children:"No, Keep Private"})]})]})}function ep({post:t}){const e=Ae(),{closeModal:n}=Ke(),r=async()=>{await e(SM(t.post)),await e(Or()),await n()},i=()=>{n()};return m.jsxs("div",{id:"post-remove-modal-container",children:[m.jsx("h2",{children:`Are you sure you want to remove "${t==null?void 0:t.name}" from the public feed?`}),m.jsx("h4",{className:"post-remove-disclaimer",children:"Don't worry, all the comments on your post will stay with your entry so you can continue to have the advice of other members."}),m.jsxs("div",{id:"remove-post-button-container",children:[m.jsx("button",{className:"modal-button conformation-btn",onClick:r,children:"Yes, Remove Post"}),m.jsx("button",{className:"modal-button conformation-btn",onClick:i,children:"No, Keep Post Public"})]})]})}const tp=()=>m.jsx("h1",{children:"Loading Page"});function AA(){const{notebookId:t,entryId:e}=So(),n=ue(d=>d.entries[e]),[r,i]=w.useState(""),[o,s]=w.useState("Edit Entry"),[l,a]=w.useState(!1),u=ue(d=>d.notebooks[t]);w.useEffect(()=>{n&&a(!0)},[n]),w.useEffect(()=>{n!=null&&n.name&&i(n.name)},[n]);const c=()=>{s(o==="Preview"?"Edit Entry":"Preview")};return m.jsx("div",{children:l?m.jsxs("div",{children:[m.jsxs("div",{id:"entrypage-entry-notebook-title",children:[m.jsx("h2",{children:`Notebook: ${u==null?void 0:u.name}`}),m.jsxs("div",{id:"entrypage-entrytitle-buttons",children:[m.jsx("h1",{children:`Entry: ${r}`}),m.jsxs("div",{className:"entrypage-button-container",children:[m.jsx("div",{className:"editentry-name-button",hidden:o==="Preview",children:m.jsx(Ut,{buttonText:"Edit Name",modalComponent:m.jsx(mN,{entry:n})})}),m.jsx("button",{className:"modal-button entry-button",onClick:c,children:o}),n!=null&&n.is_public?m.jsx("div",{className:"editentry-name-button",hidden:o==="Preview",children:m.jsx(Ut,{buttonText:"Set Private",hidden:o==="Preview",modalComponent:m.jsx(ep,{post:n})})}):m.jsx("div",{className:"editentry-name-button",hidden:o==="Preview",children:m.jsx(Ut,{buttonText:"Set Public",hidden:o==="Preview",modalComponent:m.jsx(DA,{entry:n})})}),m.jsx("div",{className:"editentry-name-button",hidden:o==="Preview",children:m.jsx(Ut,{buttonText:"Delete",modalComponent:m.jsx(Wv,{entry:n})})})]})]})]}),m.jsx("h1",{className:"entrypage-underline"}),m.jsx("div",{children:o==="Preview"?m.jsx(RA,{entry:n,setIsPreview:s}):m.jsx(ST,{entry:n})})]}):m.jsx(tp,{})})}function jA(){const t=ue(s=>s.entries),e=ue(s=>s.users),[n,r]=w.useState(Object.values(t).filter(s=>s.is_public===!0)),i=ue(s=>s.session.user),o=Xt();return w.useEffect(()=>{r(Object.values(t).filter(s=>s.is_public===!0))},[t]),m.jsxs("div",{children:[m.jsx("p",{children:"Read what others have written and give them advice.  Remember to be respectful."}),m.jsxs("div",{className:"public-post-title",children:[m.jsx("h1",{children:"Public Feed"}),m.jsx("h1",{children:"All Entries"})]}),m.jsx("div",{className:"public-post-content-container",children:n.map(s=>{var l,a;return m.jsxs("div",{className:"postfeed-post-container",children:[m.jsxs("div",{className:"post-name-and-user-container",children:[m.jsx("h3",{children:s.name}),m.jsxs("div",{className:"post-username-image-container",children:[s.user_id===i.id?m.jsx("div",{className:"postfeed-remove-post-button",children:m.jsx(Ut,{buttonText:"Remove post?",modalComponent:m.jsx(ep,{post:s})})}):"",m.jsx("img",{src:(l=e[s.user_id])==null?void 0:l.profile_image,className:"post-profile-image"}),m.jsx("h3",{children:(a=e[s.user_id])==null?void 0:a.username})]})]}),m.jsx("div",{className:"small-post-container",onClick:()=>o(`/public/${s.id}`),children:m.jsx("div",{className:"small-post-content",children:Ih(s.content.slice(0,s.content.indexOf("</p>")))})}),m.jsx("div",{className:"post-seporating-bottom-border"})]},s.id)})})]})}function IA(){const{postId:t}=So(),e=Ae(),n=ue(p=>p.entries[t]),r=ue(p=>p.users[n==null?void 0:n.user_id]),i=ue(p=>p.users),o=ue(p=>p.session.user),[s,l]=w.useState(""),[a,u]=w.useState([]),[c,d]=w.useState(!1);w.useEffect(()=>{const p=[...n.comments].reverse();u(p)},[n]),w.useEffect(()=>{n&&d(!0)},[n]);const f=async p=>{if(p.preventDefault(),s.length<=0||s.length>600)return;const h={userId:o.id,entryId:n.id,comment:s};l(""),await e(mM(h)),await e(Or())};if(c)return m.jsxs("div",{className:"public-post",children:[m.jsx("p",{className:"mini-page-title"}),m.jsxs("div",{className:"public-post-title",children:[m.jsx("h1",{children:"Public Feed"}),m.jsx("h1",{children:`${n==null?void 0:n.name} by ${r==null?void 0:r.username}`})]}),m.jsx("div",{className:"public-post-content-container",children:m.jsx("p",{className:"post-content",children:Ih(n.content)})}),m.jsxs("div",{className:"public-post-message-container",children:[m.jsxs("div",{children:[m.jsx("p",{children:`Posted on: ${n==null?void 0:n.post.created_at.slice(0,17)}`}),m.jsx("h3",{children:`Message from ${r==null?void 0:r.username}:`})]}),m.jsx("div",{className:"message-container",children:m.jsx("p",{className:"message-element",children:n==null?void 0:n.post.message})})]}),m.jsx("div",{className:"space-maker-div"}),m.jsxs("form",{onSubmit:f,children:[m.jsxs("div",{className:"public-post-comment-form",children:[m.jsx("p",{className:"public-post-small-label",children:`Let ${r==null?void 0:r.username} know what you think about their writing!`}),m.jsx("div",{className:"public-post-comment-input-area",children:m.jsx("textarea",{type:"text",rows:4,cols:140,value:s,onChange:p=>l(p.target.value)})}),m.jsx("p",{className:s.length>600||s.length<=0?"post-comment-errors":"post-comment-no-errors",children:`${s.length}/600`})]}),m.jsx("div",{className:"post-comment-btn-container",children:m.jsx("button",{type:"submit",className:"modal-button",children:"Comment"})})]}),a.length?m.jsxs("div",{className:"publicpost-comment-container",children:[m.jsx("h2",{children:"Comments:"}),a.map(p=>{var h,g;return m.jsxs("div",{children:[m.jsxs("div",{className:"entrypage-comment-title",children:[m.jsxs("div",{className:"user-info-for-comment",children:[m.jsx("img",{src:(h=i[p.user_id])==null?void 0:h.profile_image}),m.jsx("div",{children:(g=i[p.user_id])==null?void 0:g.username})]}),m.jsxs("div",{children:[p.user_id===o.id?m.jsx("div",{className:"entrypage-delete-comment",children:m.jsx(Ut,{buttonText:"Edit Comment",modalComponent:m.jsx(hx,{comment:p})})}):"",m.jsx("div",{className:"entrypage-delete-comment",children:m.jsx(Ut,{buttonText:"Delete Comment",modalComponent:m.jsx(fx,{comment:p})})})]})]}),m.jsx("div",{className:"entrypage-comment",children:p.comment})]},p.id)})]}):m.jsx("h3",{children:"Be the first to leave a comment!"})]})}function LA({post:t}){const e=Ae(),[n,r]=w.useState(t.post.message),[i,o]=w.useState({}),{closeModal:s}=Ke();w.useEffect(()=>{const a={};n.length>100&&(a.message="Message section must be 100 characters or less"),o(a)},[n]);const l=async a=>{a.preventDefault();const u={entryId:t.post.id,message:n},c=await e(xM(u));c.message?o(c):(r(""),await s())};return m.jsxs("div",{className:"post-modal-main-container",children:[m.jsx("h1",{className:"post-modal-titles",children:"Edit Post"}),m.jsxs("form",{onSubmit:l,children:[m.jsxs("div",{className:"post-modal-form-container",children:[m.jsx("label",{className:"post-modal-label",children:"Let others know a little about your writings intentions!"}),m.jsx("label",{className:"post-modal-label-2",children:"Keep it short and sweet, let your art speak for itself!"}),m.jsx("textarea",{value:n,rows:8,cols:50,onChange:a=>r(a.target.value),required:!0}),m.jsx("p",{className:i.message?"post-modal-errors":"post-modal-no-errors",children:`${n.length}/100`})]}),m.jsx("div",{className:"post-modal-conformation-btn-container",children:m.jsx("button",{type:"submit",className:"modal-button delete-comment-button",children:"Submit Changes"})})]})]})}function _A(){const t=ue(l=>l.session.user),e=ue(l=>l.entries),[n,r]=w.useState(Object.values(e).filter(l=>l.user_id===t.id&&l.is_public===!0)),[i,o]=w.useState(!1),s=Xt();return w.useEffect(()=>{o(!!n)},[n]),w.useEffect(()=>{r(Object.values(e).filter(l=>l.user_id===t.id&&l.is_public===!0))},[e,t]),m.jsx("div",{children:i?m.jsxs("div",{children:[m.jsx("p",{className:"mini-page-title"}),m.jsx("h1",{id:"homepage-user-title",children:`${t==null?void 0:t.name}'s Posts`}),m.jsx("p",{className:"page-title-blocks",children:"Your Public Entries"}),m.jsx("div",{id:"homepage-notebook-card-container",children:n.length?n.map(l=>m.jsx("div",{children:m.jsxs("div",{className:"homepage-notebook-card",children:[m.jsxs("div",{className:"homepage-notebook-card-details",onClick:()=>s(`/public/${l==null?void 0:l.id}`),children:[m.jsx("div",{children:m.jsx("div",{children:l==null?void 0:l.name})}),m.jsx("div",{className:"notebook-about-section-container",children:m.jsx("div",{children:`${l==null?void 0:l.post.message}`})})]}),m.jsxs("div",{className:"notebook-edit-delete-container",children:[m.jsx("div",{className:"homepage-edit-notebook",children:m.jsx(Ji,{itemText:m.jsx(Uv,{}),modalComponent:m.jsx(LA,{post:l})})}),m.jsx("div",{className:"homepage-edit-notebook",children:m.jsx(Ji,{itemText:m.jsx(wh,{}),modalComponent:m.jsx(ep,{post:l})})})]})]})},l==null?void 0:l.id)):m.jsx("div",{className:"no-public-posts",children:"You have not made any public posts yet."})})]}):m.jsx(tp,{})})}function zA(){return m.jsx("div",{children:m.jsx("h1",{children:"Oh no! Something went wrong."})})}const FA=Db([{element:m.jsx(KM,{}),children:[{path:"/",element:m.jsx(fN,{})},{path:"/notebook/:notebookId",element:m.jsx(pN,{})},{path:"/notebook/:notebookId/entries/:entryId",element:m.jsx(AA,{})},{path:"/public",element:m.jsx(jA,{})},{path:"/public/:postId",element:m.jsx(IA,{})},{path:"/public/user",element:m.jsx(_A,{})},{path:"/loading",element:m.jsx(tp,{})},{path:"*",element:m.jsx(zA,{})}]}]);const BA=BM();Wc.createRoot(document.getElementById("root")).render(m.jsx(Ce.StrictMode,{children:m.jsx(gC,{store:BA,children:m.jsx($b,{router:FA})})}));
